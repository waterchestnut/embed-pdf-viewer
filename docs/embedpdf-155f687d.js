function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,i)}function n(e){return function(){var n=this,o=arguments;return new Promise((function(i,r){var a=e.apply(n,o);function s(e){t(a,i,r,s,l,"next",e)}function l(e){t(a,i,r,s,l,"throw",e)}s(void 0)}))}}function o(e,t,n){return t=c(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,b(o.key),o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=x(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}function l(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(){f=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),s=new R(o||[]);return i(a,"_invoke",{value:I(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",g="executing",m="completed",v={};function y(){}function b(){}function x(){}var w={};c(w,a,(function(){return this}));var k=Object.getPrototypeOf,C=k&&k(k(E([])));C&&C!==n&&o.call(C,a)&&(w=C);var S=x.prototype=y.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(i,r,a,s){var l=u(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function I(t,n,o){var i=h;return function(r,a){if(i===g)throw Error("Generator is already running");if(i===m){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var s=o.delegate;if(s){var l=_(s,o);if(l){if(l===v)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===h)throw i=m,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=g;var c=u(t,n,o);if("normal"===c.type){if(i=o.done?m:p,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=m,o.method="throw",o.arg=c.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function E(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=x,i(S,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:b,configurable:!0}),b.displayName=c(x,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(M.prototype),c(M.prototype,s,(function(){return this})),t.AsyncIterator=M,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new M(d(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=E,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return s.type="throw",s.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:E(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(s.push(o.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function x(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function w(e){var t="function"==typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(u())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return n&&m(i,n.prototype),i}(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)},w(e)}var k,C,S,P,M,I,_,T,A,R,E,N,z={},L=[],O=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,D=Array.isArray;function B(e,t){for(var n in t)e[n]=t[n];return e}function $(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function F(e,t,n){var o,i,r,a={};for(r in t)"key"==r?o=t[r]:"ref"==r?i=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?k.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return j(e,a,o,i,null)}function j(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++S:i,__i:-1,__u:0};return null==i&&null!=C.vnode&&C.vnode(r),r}function H(){return{current:null}}function U(e){return e.children}function W(e,t){this.props=e,this.context=t}function q(e,t){if(null==t)return e.__?q(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?q(e):null}function V(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return V(e)}}function G(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!Z.__r++||M!==C.debounceRendering)&&((M=C.debounceRendering)||I)(Z)}function Z(){for(var e,t,n,o,i,r,a,s=1;P.length;)P.length>s&&P.sort(_),e=P.shift(),s=P.length,e.__d&&(n=void 0,i=(o=(t=e).__v).__e,r=[],a=[],t.__P&&((n=B({},o)).__v=o.__v+1,C.vnode&&C.vnode(n),ne(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,null==i?q(o):i,!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,oe(r,n,a),n.__e!=i&&V(n)));Z.__r=0}function Y(e,t,n,o,i,r,a,s,l,c,d){var u,h,p,g,f,m,v=o&&o.__k||L,y=t.length;for(l=function(e,t,n,o,i){var r,a,s,l,c,d=n.length,u=d,h=0;for(e.__k=new Array(i),r=0;r<i;r++)null!=(a=t[r])&&"boolean"!=typeof a&&"function"!=typeof a?(l=r+h,(a=e.__k[r]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?j(null,a,null,null,null):D(a)?j(U,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?j(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,-1!==(c=a.__i=Q(a,n,l,u))&&(u--,(s=n[c])&&(s.__u|=2)),null==s||null===s.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,a.__u|=4))):e.__k[r]=null;if(u)for(r=0;r<d;r++)null!=(s=n[r])&&!(2&s.__u)&&(s.__e==o&&(o=q(s)),se(s,s));return o}(n,t,v,l,y),u=0;u<y;u++)null!=(p=n.__k[u])&&(h=-1===p.__i?z:v[p.__i]||z,p.__i=u,m=ne(e,p,h,i,r,a,s,l,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&ae(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==f&&null!=g&&(f=g),4&p.__u||h.__k===p.__k?l=X(p,l,e):"function"==typeof p.type&&void 0!==m?l=m:g&&(l=g.nextSibling),p.__u&=-7);return n.__e=f,l}function X(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=X(o[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=q(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function K(e,t){return t=t||[],null==e||"boolean"==typeof e||(D(e)?e.some((function(e){K(e,t)})):t.push(e)),t}function Q(e,t,n,o){var i,r,a=e.key,s=e.type,l=t[n];if(null===l&&null==e.key||l&&a==l.key&&s===l.type&&!(2&l.__u))return n;if(o>(null==l||2&l.__u?0:1))for(i=n-1,r=n+1;i>=0||r<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&a==l.key&&s===l.type)return i;i--}if(r<t.length){if((l=t[r])&&!(2&l.__u)&&a==l.key&&s===l.type)return r;r++}}return-1}function J(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||O.test(t)?n:n+"px"}function ee(e,t,n,o,i){var r;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||J(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||J(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(T,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.t=o.t:(n.t=A,e.addEventListener(t,r?E:R,r)):e.removeEventListener(t,r?E:R,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function te(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=A++;else if(t.u<n.t)return;return n(C.event?C.event(t):t)}}}function ne(e,t,n,o,i,r,a,s,l,c){var d,u,h,p,g,f,m,v,y,b,x,w,k,S,P,M,I,_=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),r=[s=t.__e=n.__e]),(d=C.__b)&&d(t);e:if("function"==typeof _)try{if(v=t.props,y="prototype"in _&&_.prototype.render,b=(d=_.contextType)&&o[d.__c],x=d?b?b.props.value:d.__:o,n.__c?m=(u=t.__c=n.__c).__=u.__E:(y?t.__c=u=new _(v,x):(t.__c=u=new W(v,x),u.constructor=_,u.render=le),b&&b.sub(u),u.props=v,u.state||(u.state={}),u.context=x,u.__n=o,h=u.__d=!0,u.__h=[],u._sb=[]),y&&null==u.__s&&(u.__s=u.state),y&&null!=_.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=B({},u.__s)),B(u.__s,_.getDerivedStateFromProps(v,u.__s))),p=u.props,g=u.state,u.__v=t,h)y&&null==_.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),y&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(y&&null==_.getDerivedStateFromProps&&v!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,x),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,x)||t.__v==n.__v)){for(t.__v!=n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,x),y&&null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,g,f)}))}if(u.context=x,u.props=v,u.__P=e,u.__e=!1,k=C.__r,S=0,y){for(u.state=u.__s,u.__d=!1,k&&k(t),d=u.render(u.props,u.state,u.context),P=0;P<u._sb.length;P++)u.__h.push(u._sb[P]);u._sb=[]}else do{u.__d=!1,k&&k(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(o=B(B({},o),u.getChildContext())),y&&!h&&null!=u.getSnapshotBeforeUpdate&&(f=u.getSnapshotBeforeUpdate(p,g)),M=d,null!=d&&d.type===U&&null==d.key&&(M=ie(d.props.children)),s=Y(e,D(M)?M:[M],t,n,o,i,r,a,s,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),m&&(u.__E=u.__=null)}catch(e){if(t.__v=null,l||null!=r)if(e.then){for(t.__u|=l?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;r[r.indexOf(s)]=null,t.__e=s}else for(I=r.length;I--;)$(r[I]);else t.__e=n.__e,t.__k=n.__k;C.__e(e,t,n)}else null==r&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):s=t.__e=re(n.__e,t,n,o,i,r,a,l,c);return(d=C.diffed)&&d(t),128&t.__u?void 0:s}function oe(e,t,n){for(var o=0;o<n.length;o++)ae(n[o],n[++o],n[++o]);C.__c&&C.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){C.__e(e,t.__v)}}))}function ie(e){return"object"!=typeof e||null==e?e:D(e)?e.map(ie):B({},e)}function re(e,t,n,o,i,r,a,s,l){var c,d,u,h,p,g,f,m=n.props,v=t.props,y=t.type;if("svg"==y?i="http://www.w3.org/2000/svg":"math"==y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=r)for(c=0;c<r.length;c++)if((p=r[c])&&"setAttribute"in p==!!y&&(y?p.localName==y:3==p.nodeType)){e=p,r[c]=null;break}if(null==e){if(null==y)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),s&&(C.__m&&C.__m(t,r),s=!1),r=null}if(null===y)m===v||s&&e.data===v||(e.data=v);else{if(r=r&&k.call(e.childNodes),m=n.props||z,!s&&null!=r)for(m={},c=0;c<e.attributes.length;c++)m[(p=e.attributes[c]).name]=p.value;for(c in m)if(p=m[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in v)){if("value"==c&&"defaultValue"in v||"checked"==c&&"defaultChecked"in v)continue;ee(e,c,null,p,i)}for(c in v)p=v[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?g=p:"checked"==c?f=p:s&&"function"!=typeof p||m[c]===p||ee(e,c,p,m[c],i);if(d)s||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Y("template"===t.type?e.content:e,D(h)?h:[h],t,n,o,"foreignObject"==y?"http://www.w3.org/1999/xhtml":i,r,a,r?r[0]:n.__k&&q(n,0),s,l),null!=r)for(c=r.length;c--;)$(r[c]);s||(c="value","progress"==y&&null==g?e.removeAttribute("value"):void 0!==g&&(g!==e[c]||"progress"==y&&!g||"option"==y&&g!==m[c])&&ee(e,c,g,m[c],i),c="checked",void 0!==f&&f!==e[c]&&ee(e,c,f,m[c],i))}return e}function ae(e,t,n){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(e){C.__e(e,n)}}function se(e,t,n){var o,i;if(C.unmount&&C.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||ae(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){C.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&se(o[i],t,n||"function"!=typeof e.type);n||$(e.__e),e.__c=e.__=e.__e=void 0}function le(e,t,n){return this.constructor(e,n)}function ce(e,t,n){var o,i,r,a;t==document&&(t=document.documentElement),C.__&&C.__(e,t),i=(o="function"==typeof n)?null:n&&n.__k||t.__k,r=[],a=[],ne(t,e=(!o&&n||t).__k=F(U,null,[e]),i||z,z,t.namespaceURI,!o&&n?[n]:i?null:t.firstChild?k.call(t.childNodes):null,r,!o&&n?n:i?i.__e:t.firstChild,o,a),oe(r,e,a)}function de(e,t){ce(e,t,de)}function ue(e,t,n){var o,i,r,a,s=B({},e.props);for(r in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==r?o=t[r]:"ref"==r?i=t[r]:s[r]=void 0===t[r]&&void 0!==a?a[r]:t[r];return arguments.length>2&&(s.children=arguments.length>3?k.call(arguments,2):n),j(e.type,s,o||e.key,i||e.ref,null)}function he(e){function t(e){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,G(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+N++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}k=L.slice,C={__e:function(e,t,n,o){for(var i,r,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},S=0,W.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=B({},this.state),"function"==typeof e&&(e=e(B({},n),this.props)),e&&B(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),G(this))},W.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),G(this))},W.prototype.render=U,P=[],I="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_=function(e,t){return e.__v.__b-t.__v.__b},Z.__r=0,T=/(PointerCapture)$|Capture$/i,A=0,R=te(!1),E=te(!0),N=0;var pe,ge,fe,me,ve='/*! tailwindcss v4.0.6 | MIT License | https://tailwindcss.com */\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-200: oklch(90.1% 0.076 70.697);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-orange-800: oklch(47% 0.157 37.304);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-orange-950: oklch(26.6% 0.079 36.259);\n    --color-amber-50: oklch(98.7% 0.022 95.277);\n    --color-amber-100: oklch(96.2% 0.059 95.617);\n    --color-amber-200: oklch(92.4% 0.12 95.746);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-400: oklch(82.8% 0.189 84.429);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-amber-700: oklch(55.5% 0.163 48.998);\n    --color-amber-800: oklch(47.3% 0.137 46.201);\n    --color-amber-900: oklch(41.4% 0.112 45.904);\n    --color-amber-950: oklch(27.9% 0.077 45.635);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n    --color-lime-50: oklch(98.6% 0.031 120.757);\n    --color-lime-100: oklch(96.7% 0.067 122.328);\n    --color-lime-200: oklch(93.8% 0.127 124.321);\n    --color-lime-300: oklch(89.7% 0.196 126.665);\n    --color-lime-400: oklch(84.1% 0.238 128.85);\n    --color-lime-500: oklch(76.8% 0.233 130.85);\n    --color-lime-600: oklch(64.8% 0.2 131.684);\n    --color-lime-700: oklch(53.2% 0.157 131.589);\n    --color-lime-800: oklch(45.3% 0.124 130.933);\n    --color-lime-900: oklch(40.5% 0.101 131.063);\n    --color-lime-950: oklch(27.4% 0.072 132.109);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-200: oklch(90.5% 0.093 164.15);\n    --color-emerald-300: oklch(84.5% 0.143 164.978);\n    --color-emerald-400: oklch(76.5% 0.177 163.223);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-emerald-700: oklch(50.8% 0.118 165.612);\n    --color-emerald-800: oklch(43.2% 0.095 166.913);\n    --color-emerald-900: oklch(37.8% 0.077 168.94);\n    --color-emerald-950: oklch(26.2% 0.051 172.552);\n    --color-teal-50: oklch(98.4% 0.014 180.72);\n    --color-teal-100: oklch(95.3% 0.051 180.801);\n    --color-teal-200: oklch(91% 0.096 180.426);\n    --color-teal-300: oklch(85.5% 0.138 181.071);\n    --color-teal-400: oklch(77.7% 0.152 181.912);\n    --color-teal-500: oklch(70.4% 0.14 182.503);\n    --color-teal-600: oklch(60% 0.118 184.704);\n    --color-teal-700: oklch(51.1% 0.096 186.391);\n    --color-teal-800: oklch(43.7% 0.078 188.216);\n    --color-teal-900: oklch(38.6% 0.063 188.416);\n    --color-teal-950: oklch(27.7% 0.046 192.524);\n    --color-cyan-50: oklch(98.4% 0.019 200.873);\n    --color-cyan-100: oklch(95.6% 0.045 203.388);\n    --color-cyan-200: oklch(91.7% 0.08 205.041);\n    --color-cyan-300: oklch(86.5% 0.127 207.078);\n    --color-cyan-400: oklch(78.9% 0.154 211.53);\n    --color-cyan-500: oklch(71.5% 0.143 215.221);\n    --color-cyan-600: oklch(60.9% 0.126 221.723);\n    --color-cyan-700: oklch(52% 0.105 223.128);\n    --color-cyan-800: oklch(45% 0.085 224.283);\n    --color-cyan-900: oklch(39.8% 0.07 227.392);\n    --color-cyan-950: oklch(30.2% 0.056 229.695);\n    --color-sky-50: oklch(97.7% 0.013 236.62);\n    --color-sky-100: oklch(95.1% 0.026 236.824);\n    --color-sky-200: oklch(90.1% 0.058 230.902);\n    --color-sky-300: oklch(82.8% 0.111 230.318);\n    --color-sky-400: oklch(74.6% 0.16 232.661);\n    --color-sky-500: oklch(68.5% 0.169 237.323);\n    --color-sky-600: oklch(58.8% 0.158 241.966);\n    --color-sky-700: oklch(50% 0.134 242.749);\n    --color-sky-800: oklch(44.3% 0.11 240.79);\n    --color-sky-900: oklch(39.1% 0.09 240.876);\n    --color-sky-950: oklch(29.3% 0.066 243.157);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-blue-950: oklch(28.2% 0.091 267.935);\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n    --color-violet-50: oklch(96.9% 0.016 293.756);\n    --color-violet-100: oklch(94.3% 0.029 294.588);\n    --color-violet-200: oklch(89.4% 0.057 293.283);\n    --color-violet-300: oklch(81.1% 0.111 293.571);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-violet-800: oklch(43.2% 0.232 292.759);\n    --color-violet-900: oklch(38% 0.189 293.745);\n    --color-violet-950: oklch(28.3% 0.141 291.089);\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-200: oklch(90.2% 0.063 306.703);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-400: oklch(71.4% 0.203 305.504);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-purple-800: oklch(43.8% 0.218 303.724);\n    --color-purple-900: oklch(38.1% 0.176 304.987);\n    --color-purple-950: oklch(29.1% 0.149 302.717);\n    --color-fuchsia-50: oklch(97.7% 0.017 320.058);\n    --color-fuchsia-100: oklch(95.2% 0.037 318.852);\n    --color-fuchsia-200: oklch(90.3% 0.076 319.62);\n    --color-fuchsia-300: oklch(83.3% 0.145 321.434);\n    --color-fuchsia-400: oklch(74% 0.238 322.16);\n    --color-fuchsia-500: oklch(66.7% 0.295 322.15);\n    --color-fuchsia-600: oklch(59.1% 0.293 322.896);\n    --color-fuchsia-700: oklch(51.8% 0.253 323.949);\n    --color-fuchsia-800: oklch(45.2% 0.211 324.591);\n    --color-fuchsia-900: oklch(40.1% 0.17 325.612);\n    --color-fuchsia-950: oklch(29.3% 0.136 325.661);\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-200: oklch(89.9% 0.061 343.231);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-400: oklch(71.8% 0.202 349.761);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-pink-800: oklch(45.9% 0.187 3.815);\n    --color-pink-900: oklch(40.8% 0.153 2.432);\n    --color-pink-950: oklch(28.4% 0.109 3.907);\n    --color-rose-50: oklch(96.9% 0.015 12.422);\n    --color-rose-100: oklch(94.1% 0.03 12.58);\n    --color-rose-200: oklch(89.2% 0.058 10.001);\n    --color-rose-300: oklch(81% 0.117 11.638);\n    --color-rose-400: oklch(71.2% 0.194 13.428);\n    --color-rose-500: oklch(64.5% 0.246 16.439);\n    --color-rose-600: oklch(58.6% 0.253 17.585);\n    --color-rose-700: oklch(51.4% 0.222 16.935);\n    --color-rose-800: oklch(45.5% 0.188 13.697);\n    --color-rose-900: oklch(41% 0.159 10.272);\n    --color-rose-950: oklch(27.1% 0.105 12.094);\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-600: oklch(44.6% 0.043 257.281);\n    --color-slate-700: oklch(37.2% 0.044 257.287);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-900: oklch(20.8% 0.042 265.755);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-gray-950: oklch(13% 0.028 261.692);\n    --color-zinc-50: oklch(98.5% 0 0);\n    --color-zinc-100: oklch(96.7% 0.001 286.375);\n    --color-zinc-200: oklch(92% 0.004 286.32);\n    --color-zinc-300: oklch(87.1% 0.006 286.286);\n    --color-zinc-400: oklch(70.5% 0.015 286.067);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n    --color-neutral-50: oklch(98.5% 0 0);\n    --color-neutral-100: oklch(97% 0 0);\n    --color-neutral-200: oklch(92.2% 0 0);\n    --color-neutral-300: oklch(87% 0 0);\n    --color-neutral-400: oklch(70.8% 0 0);\n    --color-neutral-500: oklch(55.6% 0 0);\n    --color-neutral-600: oklch(43.9% 0 0);\n    --color-neutral-700: oklch(37.1% 0 0);\n    --color-neutral-800: oklch(26.9% 0 0);\n    --color-neutral-900: oklch(20.5% 0 0);\n    --color-neutral-950: oklch(14.5% 0 0);\n    --color-stone-50: oklch(98.5% 0.001 106.423);\n    --color-stone-100: oklch(97% 0.001 106.424);\n    --color-stone-200: oklch(92.3% 0.003 48.717);\n    --color-stone-300: oklch(86.9% 0.005 56.366);\n    --color-stone-400: oklch(70.9% 0.01 56.259);\n    --color-stone-500: oklch(55.3% 0.013 58.071);\n    --color-stone-600: oklch(44.4% 0.011 73.639);\n    --color-stone-700: oklch(37.4% 0.01 67.558);\n    --color-stone-800: oklch(26.8% 0.007 34.298);\n    --color-stone-900: oklch(21.6% 0.006 56.043);\n    --color-stone-950: oklch(14.7% 0.004 49.25);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --breakpoint-sm: 40rem;\n    --breakpoint-md: 48rem;\n    --breakpoint-lg: 64rem;\n    --breakpoint-xl: 80rem;\n    --breakpoint-2xl: 96rem;\n    --container-3xs: 16rem;\n    --container-2xs: 18rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-xl: 36rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-5xl: 64rem;\n    --container-6xl: 72rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --text-9xl: 8rem;\n    --text-9xl--line-height: 1;\n    --font-weight-thin: 100;\n    --font-weight-extralight: 200;\n    --font-weight-light: 300;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --font-weight-black: 900;\n    --tracking-tighter: -0.05em;\n    --tracking-tight: -0.025em;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-wider: 0.05em;\n    --tracking-widest: 0.1em;\n    --leading-tight: 1.25;\n    --leading-snug: 1.375;\n    --leading-normal: 1.5;\n    --leading-relaxed: 1.625;\n    --leading-loose: 2;\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --radius-4xl: 2rem;\n    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);\n    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);\n    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);\n    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);\n    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);\n    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);\n    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);\n    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);\n    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);\n    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);\n    --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),\n      0px 2px 2px rgb(0 0 0 / 0.075);\n    --text-shadow-md: 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),\n      0px 2px 4px rgb(0 0 0 / 0.1);\n    --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),\n      0px 4px 8px rgb(0 0 0 / 0.1);\n    --ease-in: cubic-bezier(0.4, 0, 1, 1);\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --animate-bounce: bounce 1s infinite;\n    --blur-xs: 4px;\n    --blur-sm: 8px;\n    --blur-md: 12px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n    --perspective-dramatic: 100px;\n    --perspective-near: 300px;\n    --perspective-normal: 500px;\n    --perspective-midrange: 800px;\n    --perspective-distant: 1200px;\n    --aspect-video: 16 / 9;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --default-font-feature-settings: initial;\n    --default-font-variation-settings: initial;\n    --default-mono-font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --default-mono-font-feature-settings: initial;\n    --default-mono-font-variation-settings: initial;\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n    ::placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .\\@container {\n    container-type: inline-size;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-6 {\n    top: calc(var(--spacing) * 6);\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-4 {\n    bottom: calc(var(--spacing) * 4);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-1\\/2 {\n    left: calc(1/2 * 100%);\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-100 {\n    z-index: 100;\n  }\n  .col-start-1 {\n    grid-column-start: 1;\n  }\n  .row-start-1 {\n    grid-row-start: 1;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-5 {\n    margin-top: calc(var(--spacing) * 5);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-5 {\n    margin-right: calc(var(--spacing) * 5);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-1\\/2 {\n    height: calc(1/2 * 100%);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-3\\.5 {\n    height: calc(var(--spacing) * 3.5);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-9 {\n    height: calc(var(--spacing) * 9);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-18 {\n    height: calc(var(--spacing) * 18);\n  }\n  .h-\\[1px\\] {\n    height: 1px;\n  }\n  .h-\\[32px\\] {\n    height: 32px;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-48 {\n    max-height: calc(var(--spacing) * 48);\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .\\!w-full {\n    width: 100% !important;\n  }\n  .w-2 {\n    width: calc(var(--spacing) * 2);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-3\\.5 {\n    width: calc(var(--spacing) * 3.5);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-9 {\n    width: calc(var(--spacing) * 9);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-18 {\n    width: calc(var(--spacing) * 18);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-36 {\n    width: calc(var(--spacing) * 36);\n  }\n  .w-\\[1px\\] {\n    width: 1px;\n  }\n  .w-auto {\n    width: auto;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-\\[150px\\] {\n    max-width: 150px;\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-\\[8rem\\] {\n    min-width: 8rem;\n  }\n  .min-w-\\[32px\\] {\n    min-width: 32px;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-\\[1px\\] {\n    --tw-translate-x: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-y-\\[1px\\] {\n    --tw-translate-y: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .rotate-45 {\n    rotate: 45deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-default {\n    cursor: default;\n  }\n  .cursor-grab {\n    cursor: grab;\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-pan-y {\n    --tw-pan-y: pan-y;\n    touch-action: var(--tw-pan-x,) var(--tw-pan-y,) var(--tw-pinch-zoom,);\n  }\n  .appearance-none {\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-6 {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-end {\n    align-items: flex-end;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-x-1 {\n    -moz-column-gap: calc(var(--spacing) * 1);\n         column-gap: calc(var(--spacing) * 1);\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .gap-y-4 {\n    row-gap: calc(var(--spacing) * 4);\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .divide-y {\n    :where(& > :not(:last-child)) {\n      --tw-divide-y-reverse: 0;\n      border-bottom-style: var(--tw-border-style);\n      border-top-style: var(--tw-border-style);\n      border-top-width: calc(1px * var(--tw-divide-y-reverse));\n      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n    }\n  }\n  .divide-gray-100 {\n    :where(& > :not(:last-child)) {\n      border-color: var(--color-gray-100);\n    }\n  }\n  .self-center {\n    align-self: center;\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-\\[3px\\] {\n    border-radius: 3px;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-l-md {\n    border-top-left-radius: var(--radius-md);\n    border-bottom-left-radius: var(--radius-md);\n  }\n  .rounded-r-md {\n    border-top-right-radius: var(--radius-md);\n    border-bottom-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-0 {\n    border-style: var(--tw-border-style);\n    border-width: 0px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-r-0 {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 0px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .border-\\[\\#cfd4da\\] {\n    border-color: #cfd4da;\n  }\n  .border-blue-300 {\n    border-color: var(--color-blue-300);\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-blue-600 {\n    border-color: var(--color-blue-600);\n  }\n  .border-gray-100 {\n    border-color: var(--color-gray-100);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-gray-400 {\n    border-color: var(--color-gray-400);\n  }\n  .border-gray-600 {\n    border-color: var(--color-gray-600);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-t-blue-500 {\n    border-top-color: var(--color-blue-500);\n  }\n  .border-r-blue-500 {\n    border-right-color: var(--color-blue-500);\n  }\n  .border-b-blue-500 {\n    border-bottom-color: var(--color-blue-500);\n  }\n  .border-b-transparent {\n    border-bottom-color: transparent;\n  }\n  .bg-\\[\\#f1f3f5\\] {\n    background-color: #f1f3f5;\n  }\n  .bg-\\[\\#f8f9fa\\] {\n    background-color: #f8f9fa;\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-blue-600 {\n    background-color: var(--color-blue-600);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-300 {\n    background-color: var(--color-gray-300);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-indigo-500 {\n    background-color: var(--color-indigo-500);\n  }\n  .bg-inherit {\n    background-color: inherit;\n  }\n  .bg-pink-500 {\n    background-color: var(--color-pink-500);\n  }\n  .bg-purple-500 {\n    background-color: var(--color-purple-500);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-teal-500 {\n    background-color: var(--color-teal-500);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .object-contain {\n    -o-object-fit: contain;\n       object-fit: contain;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-\\[5px\\] {\n    padding: 5px;\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-4 {\n    padding-right: calc(var(--spacing) * 4);\n  }\n  .pr-7 {\n    padding-right: calc(var(--spacing) * 7);\n  }\n  .pr-9 {\n    padding-right: calc(var(--spacing) * 9);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .align-bottom {\n    vertical-align: bottom;\n  }\n  .align-middle {\n    vertical-align: middle;\n  }\n  .align-top {\n    vertical-align: top;\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .text-\\[13px\\] {\n    font-size: 13px;\n  }\n  .leading-none {\n    --tw-leading: 1;\n    line-height: 1;\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .\\!italic {\n    font-style: italic !important;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .placeholder-gray-500 {\n    &::-moz-placeholder {\n      color: var(--color-gray-500);\n    }\n    &::placeholder {\n      color: var(--color-gray-500);\n    }\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-25 {\n    opacity: 25%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-75 {\n    opacity: 75%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .ring {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-2 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xs {\n    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.05));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .ring-blue-200 {\n    --tw-ring-color: var(--color-blue-200);\n  }\n  .ring-blue-500 {\n    --tw-ring-color: var(--color-blue-500);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-1 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-2 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 2px;\n  }\n  .-outline-offset-1 {\n    outline-offset: calc(1px * -1);\n  }\n  .-outline-offset-2 {\n    outline-offset: calc(2px * -1);\n  }\n  .outline-offset-2 {\n    outline-offset: 2px;\n  }\n  .outline-blue-500 {\n    outline-color: var(--color-blue-500);\n  }\n  .outline-gray-300 {\n    outline-color: var(--color-gray-300);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur {\n    --tw-backdrop-blur: blur(8px);\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n         user-select: none;\n  }\n  .peer-checked\\:opacity-100 {\n    &:is(:where(.peer):checked ~ *) {\n      opacity: 100%;\n    }\n  }\n  .first\\:mt-0 {\n    &:first-child {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .checked\\:border-blue-600 {\n    &:checked {\n      border-color: var(--color-blue-600);\n    }\n  }\n  .checked\\:bg-blue-600 {\n    &:checked {\n      background-color: var(--color-blue-600);\n    }\n  }\n  .hover\\:border-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        border-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:border-b-gray-500 {\n    &:hover {\n      @media (hover: hover) {\n        border-bottom-color: var(--color-gray-500);\n      }\n    }\n  }\n  .hover\\:\\!bg-blue-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-700) !important;\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-blue-900 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-900);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-gray-400 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-400);\n      }\n    }\n  }\n  .hover\\:bg-transparent {\n    &:hover {\n      @media (hover: hover) {\n        background-color: transparent;\n      }\n    }\n  }\n  .hover\\:text-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:text-gray-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-600);\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-white {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:ring {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-0 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-md {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:ring-transparent {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: transparent;\n      }\n    }\n  }\n  .focus\\:border-blue-500 {\n    &:focus {\n      border-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-blue-500 {\n    &:focus {\n      --tw-ring-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .active\\:cursor-grabbing {\n    &:active {\n      cursor: grabbing;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:bg-gray-300 {\n    &:disabled {\n      background-color: var(--color-gray-300);\n    }\n  }\n  .disabled\\:opacity-40 {\n    &:disabled {\n      opacity: 40%;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:static {\n    @media (width >= 48rem) {\n      position: static;\n    }\n  }\n  .md\\:flex {\n    @media (width >= 48rem) {\n      display: flex;\n    }\n  }\n  .md\\:hidden {\n    @media (width >= 48rem) {\n      display: none;\n    }\n  }\n  .md\\:h-auto {\n    @media (width >= 48rem) {\n      height: auto;\n    }\n  }\n  .md\\:h-full {\n    @media (width >= 48rem) {\n      height: 100%;\n    }\n  }\n  .md\\:max-h-\\[80vh\\] {\n    @media (width >= 48rem) {\n      max-height: 80vh;\n    }\n  }\n  .md\\:w-\\[28rem\\] {\n    @media (width >= 48rem) {\n      width: 28rem;\n    }\n  }\n  .md\\:w-\\[275px\\] {\n    @media (width >= 48rem) {\n      width: 275px;\n    }\n  }\n  .md\\:max-w-\\[90vw\\] {\n    @media (width >= 48rem) {\n      max-width: 90vw;\n    }\n  }\n  .md\\:min-w-\\[275px\\] {\n    @media (width >= 48rem) {\n      min-width: 275px;\n    }\n  }\n  .md\\:flex-none {\n    @media (width >= 48rem) {\n      flex: none;\n    }\n  }\n  .md\\:flex-row {\n    @media (width >= 48rem) {\n      flex-direction: row;\n    }\n  }\n  .md\\:items-center {\n    @media (width >= 48rem) {\n      align-items: center;\n    }\n  }\n  .md\\:justify-center {\n    @media (width >= 48rem) {\n      justify-content: center;\n    }\n  }\n  .md\\:rounded-lg {\n    @media (width >= 48rem) {\n      border-radius: var(--radius-lg);\n    }\n  }\n  .md\\:border {\n    @media (width >= 48rem) {\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .md\\:border-t-0 {\n    @media (width >= 48rem) {\n      border-top-style: var(--tw-border-style);\n      border-top-width: 0px;\n    }\n  }\n  .md\\:border-r {\n    @media (width >= 48rem) {\n      border-right-style: var(--tw-border-style);\n      border-right-width: 1px;\n    }\n  }\n  .md\\:border-l {\n    @media (width >= 48rem) {\n      border-left-style: var(--tw-border-style);\n      border-left-width: 1px;\n    }\n  }\n  .md\\:border-gray-200 {\n    @media (width >= 48rem) {\n      border-color: var(--color-gray-200);\n    }\n  }\n  .md\\:shadow-lg {\n    @media (width >= 48rem) {\n      --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!top-auto {\n    @container (width < 600px) {\n      top: auto !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!right-0 {\n    @container (width < 600px) {\n      right: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!bottom-0 {\n    @container (width < 600px) {\n      bottom: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!left-0 {\n    @container (width < 600px) {\n      left: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@min-\\[400px\\]\\:block {\n    @container (width >= 400px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[400px\\]\\:flex {\n    @container (width >= 400px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[400px\\]\\:hidden {\n    @container (width >= 400px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[500px\\]\\:block {\n    @container (width >= 500px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[500px\\]\\:hidden {\n    @container (width >= 500px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[600px\\]\\:block {\n    @container (width >= 600px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[600px\\]\\:flex {\n    @container (width >= 600px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[600px\\]\\:hidden {\n    @container (width >= 600px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[800px\\]\\:block {\n    @container (width >= 800px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[800px\\]\\:hidden {\n    @container (width >= 800px) {\n      display: none;\n    }\n  }\n  .dark\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-700);\n    }\n  }\n  .dark\\:text-gray-200 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-200);\n    }\n  }\n  .dark\\:text-gray-300 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-300);\n    }\n  }\n}\n@import url(\'https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600&amp;display=swap\');\n:host {\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-rotate-x: rotateX(0);\n  --tw-rotate-y: rotateY(0);\n  --tw-rotate-z: rotateZ(0);\n  --tw-skew-x: skewX(0);\n  --tw-skew-y: skewY(0);\n  --tw-border-style: solid;\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n  --tw-shadow: 0 0 #0000;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes ping {\n  75%, 100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(-25%);\n    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n  }\n  50% {\n    transform: none;\n    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateX(0);\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateY(0);\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateZ(0);\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewX(0);\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewY(0);\n}\n@property --tw-pan-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pan-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pinch-zoom {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-divide-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\r\n',ye=0,be=[],xe=C,we=xe.__b,ke=xe.__r,Ce=xe.diffed,Se=xe.__c,Pe=xe.unmount,Me=xe.__;function Ie(e,t){xe.__h&&xe.__h(ge,e,ye||t),ye=0;var n=ge.__H||(ge.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function _e(e){return ye=1,Te(qe,e)}function Te(e,t,n){var o=Ie(pe++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):qe(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=ge,!ge.__f)){var i=function(e,t,n){if(!o.__c.__H)return!0;var i=o.__c.__H.__.filter((function(e){return!!e.__c}));if(i.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var a=o.__c.props!==e;return i.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),r&&r.call(this,e,t,n)||a};ge.__f=!0;var r=ge.shouldComponentUpdate,a=ge.componentWillUpdate;ge.componentWillUpdate=function(e,t,n){if(this.__e){var o=r;r=void 0,i(e,t,n),r=o}a&&a.call(this,e,t,n)},ge.shouldComponentUpdate=i}return o.__N||o.__}function Ae(e,t){var n=Ie(pe++,3);!xe.__s&&We(n.__H,t)&&(n.__=e,n.u=t,ge.__H.__h.push(n))}function Re(e,t){var n=Ie(pe++,4);!xe.__s&&We(n.__H,t)&&(n.__=e,n.u=t,ge.__h.push(n))}function Ee(e){return ye=5,ze((function(){return{current:e}}),[])}function Ne(e,t,n){ye=6,Re((function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}}),null==n?n:n.concat(e))}function ze(e,t){var n=Ie(pe++,7);return We(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Le(e,t){return ye=8,ze((function(){return e}),t)}function Oe(e){var t=ge.context[e.__c],n=Ie(pe++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(ge)),t.props.value):e.__}function De(e,t){xe.useDebugValue&&xe.useDebugValue(t?t(e):e)}function Be(){var e=Ie(pe++,11);if(!e.__){for(var t=ge.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function $e(){for(var e;e=be.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(He),e.__H.__h.forEach(Ue),e.__H.__h=[]}catch(t){e.__H.__h=[],xe.__e(t,e.__v)}}xe.__b=function(e){ge=null,we&&we(e)},xe.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Me&&Me(e,t)},xe.__r=function(e){ke&&ke(e),pe=0;var t=(ge=e.__c).__H;t&&(fe===ge?(t.__h=[],ge.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0}))):(t.__h.forEach(He),t.__h.forEach(Ue),t.__h=[],pe=0)),fe=ge},xe.diffed=function(e){Ce&&Ce(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==be.push(t)&&me===xe.requestAnimationFrame||((me=xe.requestAnimationFrame)||je)($e)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.u=void 0}))),fe=ge=null},xe.__c=function(e,t){t.some((function(e){try{e.__h.forEach(He),e.__h=e.__h.filter((function(e){return!e.__||Ue(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],xe.__e(n,e.__v)}})),Se&&Se(e,t)},xe.unmount=function(e){Pe&&Pe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{He(e)}catch(e){t=e}})),n.__H=void 0,t&&xe.__e(t,n.__v))};var Fe="function"==typeof requestAnimationFrame;function je(e){var t,n=function(){clearTimeout(o),Fe&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Fe&&(t=requestAnimationFrame(n))}function He(e){var t=ge,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),ge=t}function Ue(e){var t=ge;e.__c=e.__(),ge=t}function We(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function qe(e,t){return"function"==typeof t?t(e):t}var Ve=0;function Ge(e,t,n,o,i,r){t||(t={});var a,s,l=t;if("ref"in l)for(s in l={},t)"ref"==s?a=t[s]:l[s]=t[s];var c={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ve,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof e&&(a=e.defaultProps))for(s in a)void 0===l[s]&&(l[s]=a[s]);return C.vnode&&C.vnode(c),c}var Ze=(e=>(e[e.Degree0=0]="Degree0",e[e.Degree90=1]="Degree90",e[e.Degree180=2]="Degree180",e[e.Degree270=3]="Degree270",e))(Ze||{});function Ye(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function Xe(e){return{width:Math.ceil(e.width),height:Math.ceil(e.height)}}function Ke(e){return{origin:Ye(e.origin),size:Xe(e.size)}}function Qe(e){const{width:t,height:n}=e;return{width:n,height:t}}function Je(e,t,n){return{width:(e=t%2==0?e:Qe(e)).width*n,height:e.height*n}}function et(e){const t=[e.p1.x,e.p2.x,e.p3.x,e.p4.x],n=[e.p1.y,e.p2.y,e.p3.y,e.p4.y];return{origin:{x:Math.min(...t),y:Math.min(...n)},size:{width:Math.max(...t)-Math.min(...t),height:Math.max(...n)-Math.min(...n)}}}function tt(e){return{p1:{x:e.origin.x,y:e.origin.y},p2:{x:e.origin.x+e.size.width,y:e.origin.y},p3:{x:e.origin.x+e.size.width,y:e.origin.y+e.size.height},p4:{x:e.origin.x,y:e.origin.y+e.size.height}}}function nt(e,t,n){let o=t.x,i=t.y;switch(n){case 0:o=t.x,i=t.y;break;case 1:o=e.height-t.y,i=t.x;break;case 2:o=e.width-t.x,i=e.height-t.y;break;case 3:o=t.y,i=e.width-t.x}return{x:o,y:i}}function ot(e,t){return{x:e.x*t,y:e.y*t}}function it(e){if(0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const t=e.map((e=>e.x)),n=e.map((e=>e.y)),o=Math.min(...t),i=Math.min(...n);return{origin:{x:o,y:i},size:{width:Math.max(...t)-o,height:Math.max(...n)-i}}}function rt(e,t){return{origin:{x:e.origin.x-t,y:e.origin.y-t},size:{width:e.size.width+2*t,height:e.size.height+2*t}}}function at(e,t,n){let o=t.origin.x,i=t.origin.y,r=t.size;switch(n){case 0:break;case 1:o=e.height-t.origin.y-t.size.height,i=t.origin.x,r=Qe(t.size);break;case 2:o=e.width-t.origin.x-t.size.width,i=e.height-t.origin.y-t.size.height;break;case 3:o=t.origin.y,i=e.width-t.origin.x-t.size.width,r=Qe(t.size)}return{origin:{x:o,y:i},size:{width:r.width,height:r.height}}}function st(e,t){return{origin:{x:e.origin.x*t,y:e.origin.y*t},size:{width:e.size.width*t,height:e.size.height*t}}}function lt(e,t,n,o){return st(at(e,t,n),o)}function ct(e){if(0===e.length)return null;let t=e[0].origin.x,n=e[0].origin.y,o=e[0].origin.x+e[0].size.width,i=e[0].origin.y+e[0].size.height;for(const r of e)t=Math.min(t,r.origin.x),n=Math.min(n,r.origin.y),o=Math.max(o,r.origin.x+r.size.width),i=Math.max(i,r.origin.y+r.size.height);return{origin:{x:t,y:n},size:{width:o-t,height:i-n}}}function dt(e,t,n,o){const i=e.origin.x,r=e.origin.y,a=e.size.width,s=e.size.height,l=n/a,c=o/s,d=n/s,u=o/a;switch(t){case 0:return{a:l,b:0,c:0,d:c,e:-l*i,f:-c*r};case 3:return{a:0,b:-u,c:d,d:0,e:-d*r,f:u*(i+a)};case 2:return{a:-l,b:0,c:0,d:-c,e:l*(i+a),f:c*(r+s)};case 1:return{a:0,b:u,c:-d,d:0,e:d*(r+s),f:-u*i}}}class ut{isEnabled(){return!1}debug(){}info(){}warn(){}error(){}perf(){}}class ht{isEnabled(){return!0}debug(e,t,...n){console.debug(`${e}.${t}`,...n)}info(e,t,...n){console.info(`${e}.${t}`,...n)}warn(e,t,...n){console.warn(`${e}.${t}`,...n)}error(e,t,...n){console.error(`${e}.${t}`,...n)}perf(e,t,n,o,...i){console.info(`${e}.${t}.${n}.${o}`,...i)}}class pt{constructor(e,t){this.logger=e,this.level=t}isEnabled(e){return this.level<={debug:0,info:1,warn:2,error:3}[e]}debug(e,t,...n){this.level<=0&&this.logger.debug(e,t,...n)}info(e,t,...n){this.level<=1&&this.logger.info(e,t,...n)}warn(e,t,...n){this.level<=2&&this.logger.warn(e,t,...n)}error(e,t,...n){this.level<=3&&this.logger.error(e,t,...n)}perf(e,t,n,o,...i){this.logger.perf(e,t,n,o,...i)}}class gt{constructor(){}isEnabled(){return!1}debug(e,t,...n){}info(e,t,...n){}warn(e,t,...n){}error(e,t,...n){}perf(e,t,n,o,i,...r){switch(o){case"Begin":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r});break;case"End":globalThis.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r}),globalThis.performance.measure(`${e}.${t}.${n}.Measure.${i}`,`${e}.${t}.${n}.Begin.${i}`,`${e}.${t}.${n}.End.${i}`)}}}class ft{constructor(e){this.loggers=e}isEnabled(e){return this.loggers.some((t=>t.isEnabled(e)))}debug(e,t,...n){for(const o of this.loggers)o.debug(e,t,...n)}info(e,t,...n){for(const o of this.loggers)o.info(e,t,...n)}warn(e,t,...n){for(const o of this.loggers)o.warn(e,t,...n)}error(e,t,...n){for(const o of this.loggers)o.error(e,t,...n)}perf(e,t,n,o,...i){for(const r of this.loggers)r.perf(e,t,n,o,...i)}}class mt extends Error{constructor(e){super(`Task aborted: ${JSON.stringify(e)}`),this.name="TaskAbortedError",this.reason=e}}class vt extends Error{constructor(e){super(`Task rejected: ${JSON.stringify(e)}`),this.name="TaskRejectedError",this.reason=e}}class yt{constructor(){this.state={stage:0},this.resolvedCallbacks=[],this.rejectedCallbacks=[],this._promise=null,this.progressCbs=[]}toPromise(){return this._promise||(this._promise=new Promise(((e,t)=>{this.wait((t=>e(t)),(e=>{"abort"===e.type?t(new mt(e.reason)):t(new vt(e.reason))}))}))),this._promise}wait(e,t){switch(this.state.stage){case 0:this.resolvedCallbacks.push(e),this.rejectedCallbacks.push(t);break;case 1:e(this.state.result);break;case 2:t({type:"reject",reason:this.state.reason});break;case 3:t({type:"abort",reason:this.state.reason})}}resolve(e){if(0===this.state.stage){this.state={stage:1,result:e};for(const t of this.resolvedCallbacks)try{t(e)}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}reject(e){if(0===this.state.stage){this.state={stage:2,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"reject",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}abort(e){if(0===this.state.stage){this.state={stage:3,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"abort",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}fail(e){"abort"===e.type?this.abort(e.reason):this.reject(e.reason)}onProgress(e){this.progressCbs.push(e)}progress(e){for(const t of this.progressCbs)t(e)}static all(e){const t=new yt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0,i=!1;return e.forEach(((r,a)=>{r.wait((r=>{i||(n[a]=r,o++,o===e.length&&(i=!0,t.resolve(n)))}),(e=>{i||(i=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static allSettled(e){const t=new yt;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0;return e.forEach(((i,r)=>{i.wait((i=>{n[r]={status:"resolved",value:i},o++,o===e.length&&t.resolve(n)}),(i=>{n[r]={status:"abort"===i.type?"aborted":"rejected",reason:i.reason},o++,o===e.length&&t.resolve(n)}))})),t}static race(e){const t=new yt;if(0===e.length)return t.reject("No tasks provided"),t;let n=!1;return e.forEach((e=>{e.wait((e=>{n||(n=!0,t.resolve(e))}),(e=>{n||(n=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))}))})),t}static withProgress(e,t){const n=yt.all(e);if(t){let n=0;e.forEach((o=>{o.wait((()=>{n++,t(n,e.length)}),(()=>{n++,t(n,e.length)}))}))}return n}}const bt=Object.freeze(["","","","\ufeff","",""]),xt=new RegExp(`[${bt.join("")}]`,"g");function wt(e){return e.replace(xt,"")}var kt=(e=>(e[e.Unknown=0]="Unknown",e[e.XYZ=1]="XYZ",e[e.FitPage=2]="FitPage",e[e.FitHorizontal=3]="FitHorizontal",e[e.FitVertical=4]="FitVertical",e[e.FitRectangle=5]="FitRectangle",e[e.FitBoundingBox=6]="FitBoundingBox",e[e.FitBoundingBoxHorizontal=7]="FitBoundingBoxHorizontal",e[e.FitBoundingBoxVertical=8]="FitBoundingBoxVertical",e))(kt||{}),Ct=(e=>(e[e.NotSet=0]="NotSet",e[e.True=1]="True",e[e.False=2]="False",e[e.Unknown=3]="Unknown",e))(Ct||{}),St=(e=>(e[e.Unknown=-1]="Unknown",e[e.Courier=0]="Courier",e[e.Courier_Bold=1]="Courier_Bold",e[e.Courier_BoldOblique=2]="Courier_BoldOblique",e[e.Courier_Oblique=3]="Courier_Oblique",e[e.Helvetica=4]="Helvetica",e[e.Helvetica_Bold=5]="Helvetica_Bold",e[e.Helvetica_BoldOblique=6]="Helvetica_BoldOblique",e[e.Helvetica_Oblique=7]="Helvetica_Oblique",e[e.Times_Roman=8]="Times_Roman",e[e.Times_Bold=9]="Times_Bold",e[e.Times_BoldItalic=10]="Times_BoldItalic",e[e.Times_Italic=11]="Times_Italic",e[e.Symbol=12]="Symbol",e[e.ZapfDingbats=13]="ZapfDingbats",e[e.SimSun=14]="SimSun",e[e.SimSun_Bold=15]="SimSun_Bold",e[e.SimSun_BoldOblique=16]="SimSun_BoldOblique",e[e.SimSun_Oblique=17]="SimSun_Oblique",e))(St||{}),Pt=(e=>(e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e))(Pt||{}),Mt=(e=>(e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e))(Mt||{}),It=(e=>(e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity",e))(It||{}),_t=(e=>(e[e.Contain=0]="Contain",e[e.Cover=1]="Cover",e[e.Stretch=2]="Stretch",e))(_t||{}),Tt=(e=>(e[e.Unsupported=0]="Unsupported",e[e.Goto=1]="Goto",e[e.RemoteGoto=2]="RemoteGoto",e[e.URI=3]="URI",e[e.LaunchAppOrOpenFile=4]="LaunchAppOrOpenFile",e))(Tt||{}),At=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.LINK=2]="LINK",e[e.FREETEXT=3]="FREETEXT",e[e.LINE=4]="LINE",e[e.SQUARE=5]="SQUARE",e[e.CIRCLE=6]="CIRCLE",e[e.POLYGON=7]="POLYGON",e[e.POLYLINE=8]="POLYLINE",e[e.HIGHLIGHT=9]="HIGHLIGHT",e[e.UNDERLINE=10]="UNDERLINE",e[e.SQUIGGLY=11]="SQUIGGLY",e[e.STRIKEOUT=12]="STRIKEOUT",e[e.STAMP=13]="STAMP",e[e.CARET=14]="CARET",e[e.INK=15]="INK",e[e.POPUP=16]="POPUP",e[e.FILEATTACHMENT=17]="FILEATTACHMENT",e[e.SOUND=18]="SOUND",e[e.MOVIE=19]="MOVIE",e[e.WIDGET=20]="WIDGET",e[e.SCREEN=21]="SCREEN",e[e.PRINTERMARK=22]="PRINTERMARK",e[e.TRAPNET=23]="TRAPNET",e[e.WATERMARK=24]="WATERMARK",e[e.THREED=25]="THREED",e[e.RICHMEDIA=26]="RICHMEDIA",e[e.XFAWIDGET=27]="XFAWIDGET",e[e.REDACT=28]="REDACT",e))(At||{}),Rt=(e=>(e[e.Normal=0]="Normal",e[e.Rollover=1]="Rollover",e[e.Down=2]="Down",e))(Rt||{}),Et=(e=>(e[e.Unknown=-1]="Unknown",e[e.Comment=0]="Comment",e[e.Key=1]="Key",e[e.Note=2]="Note",e[e.Help=3]="Help",e[e.NewParagraph=4]="NewParagraph",e[e.Paragraph=5]="Paragraph",e[e.Insert=6]="Insert",e[e.Graph=7]="Graph",e[e.PushPin=8]="PushPin",e[e.Paperclip=9]="Paperclip",e[e.Tag=10]="Tag",e[e.Speaker=11]="Speaker",e[e.Mic=12]="Mic",e[e.Approved=13]="Approved",e[e.Experimental=14]="Experimental",e[e.NotApproved=15]="NotApproved",e[e.AsIs=16]="AsIs",e[e.Expired=17]="Expired",e[e.NotForPublicRelease=18]="NotForPublicRelease",e[e.Confidential=19]="Confidential",e[e.Final=20]="Final",e[e.Sold=21]="Sold",e[e.Departmental=22]="Departmental",e[e.ForComment=23]="ForComment",e[e.TopSecret=24]="TopSecret",e[e.Draft=25]="Draft",e[e.ForPublicRelease=26]="ForPublicRelease",e))(Et||{}),Nt=(e=>(e[e.None=0]="None",e[e.Square=1]="Square",e[e.Circle=2]="Circle",e[e.Diamond=3]="Diamond",e[e.OpenArrow=4]="OpenArrow",e[e.ClosedArrow=5]="ClosedArrow",e[e.Butt=6]="Butt",e[e.ROpenArrow=7]="ROpenArrow",e[e.RClosedArrow=8]="RClosedArrow",e[e.Slash=9]="Slash",e[e.Unknown=10]="Unknown",e))(Nt||{}),zt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PUSHBUTTON=1]="PUSHBUTTON",e[e.CHECKBOX=2]="CHECKBOX",e[e.RADIOBUTTON=3]="RADIOBUTTON",e[e.COMBOBOX=4]="COMBOBOX",e[e.LISTBOX=5]="LISTBOX",e[e.TEXTFIELD=6]="TEXTFIELD",e[e.SIGNATURE=7]="SIGNATURE",e[e.XFA=8]="XFA",e[e.XFA_CHECKBOX=9]="XFA_CHECKBOX",e[e.XFA_COMBOBOX=10]="XFA_COMBOBOX",e[e.XFA_IMAGEFIELD=11]="XFA_IMAGEFIELD",e[e.XFA_LISTBOX=12]="XFA_LISTBOX",e[e.XFA_PUSHBUTTON=13]="XFA_PUSHBUTTON",e[e.XFA_SIGNATURE=14]="XFA_SIGNATURE",e[e.XFA_TEXTFIELD=15]="XFA_TEXTFIELD",e))(zt||{}),Lt=(e=>(e[e.Color=0]="Color",e[e.InteriorColor=1]="InteriorColor",e))(Lt||{}),Ot=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.BEVELED=3]="BEVELED",e[e.INSET=4]="INSET",e[e.UNDERLINE=5]="UNDERLINE",e[e.CLOUDY=6]="CLOUDY",e))(Ot||{}),Dt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.PATH=2]="PATH",e[e.IMAGE=3]="IMAGE",e[e.SHADING=4]="SHADING",e[e.FORM=5]="FORM",e))(Dt||{});const Bt=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"}),$t=Object.entries(Bt).reduce(((e,[t,n])=>(e[n]=Number(t),e)),{});function Ft(e){return Object.keys(Bt).filter((t=>!!(e&t))).map((e=>Bt[e]))}function jt(e){return e.reduce(((e,t)=>e|$t[t]),0)}var Ht=(e=>(e[e.None=0]="None",e[e.MatchCase=1]="MatchCase",e[e.MatchWholeWord=2]="MatchWholeWord",e[e.MatchConsecutive=4]="MatchConsecutive",e))(Ht||{}),Ut=(e=>(e[e.Display=0]="Display",e[e.Print=1]="Print",e))(Ut||{}),Wt=(e=>(e[e.Ok=0]="Ok",e[e.Unknown=1]="Unknown",e[e.NotFound=2]="NotFound",e[e.WrongFormat=3]="WrongFormat",e[e.Password=4]="Password",e[e.Security=5]="Security",e[e.PageError=6]="PageError",e[e.XFALoad=7]="XFALoad",e[e.XFALayout=8]="XFALayout",e[e.Cancelled=9]="Cancelled",e[e.Initialization=10]="Initialization",e[e.NotReady=11]="NotReady",e[e.NotSupport=12]="NotSupport",e[e.LoadDoc=13]="LoadDoc",e[e.DocNotOpen=14]="DocNotOpen",e[e.CantCloseDoc=15]="CantCloseDoc",e[e.CantCreateNewDoc=16]="CantCreateNewDoc",e[e.CantImportPages=17]="CantImportPages",e[e.CantCreateAnnot=18]="CantCreateAnnot",e[e.CantSetAnnotRect=19]="CantSetAnnotRect",e[e.CantSetAnnotContent=20]="CantSetAnnotContent",e[e.CantRemoveInkList=21]="CantRemoveInkList",e[e.CantAddInkStoke=22]="CantAddInkStoke",e[e.CantReadAttachmentSize=23]="CantReadAttachmentSize",e[e.CantReadAttachmentContent=24]="CantReadAttachmentContent",e[e.CantFocusAnnot=25]="CantFocusAnnot",e[e.CantSelectText=26]="CantSelectText",e[e.CantSelectOption=27]="CantSelectOption",e[e.CantCheckField=28]="CantCheckField",e[e.CantSetAnnotString=29]="CantSetAnnotString",e))(Wt||{});class qt{static create(){return new yt}static resolve(e){const t=new yt;return t.resolve(e),t}static reject(e){const t=new yt;return t.reject(e),t}static abort(e){const t=new yt;return t.reject(e),t}}function Vt(e){const t=e=>(e=>Math.max(0,Math.min(255,e)))(e).toString(16).padStart(2,"0");return`#${t(e.red)}${t(e.green)}${t(e.blue)}`}function Gt(e){/^#?[0-9a-f]{3}$/i.test(e)&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"#$1$1$2$2$3$3").toLowerCase());const[,t,n,o]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e)??(()=>{throw new Error(`Invalid hex colour: "${e}"`)})();return{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16)}}function Zt(e){return(e=>Math.max(0,Math.min(255,e)))(e)/255}function Yt(e){return((e,t=255)=>Math.max(0,Math.min(t,e)))(Math.round(255*e))}function Xt(e){if(!(null==e?void 0:e.startsWith("D:"))||e.length<16)return;const t=+e.slice(2,6),n=+e.slice(6,8)-1,o=+e.slice(8,10),i=+e.slice(10,12),r=+e.slice(12,14),a=+e.slice(14,16);return new Date(Date.UTC(t,n,o,i,r,a))}function Kt(e=new Date){const t=(e,t=2)=>e.toString().padStart(t,"0");return`D:${e.getUTCFullYear()}${t(e.getUTCMonth()+1)}${t(e.getUTCDate())}${t(e.getUTCHours())}${t(e.getUTCMinutes())}${t(e.getUTCSeconds())}`}const Qt=Object.freeze([{id:Pt.Left,label:"Left",css:"left"},{id:Pt.Center,label:"Center",css:"center"},{id:Pt.Right,label:"Right",css:"right"}]),Jt=Qt.reduce(((e,t)=>(e[t.id]=t,e)),{});function en(e){return function(e){return Jt[e]??Jt[Pt.Left]}(e).css}Qt.reduce(((e,t)=>(e[t.css]=t.id,e)),{}),Qt.map((e=>({value:e.id,label:e.label})));var tn=(e=>(e.Courier="Courier",e.Helvetica="Helvetica",e.Times="Times",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats",e.Unknown="Unknown",e.SimSun="SimSun",e))(tn||{});const nn=St.Helvetica,on={id:St.Helvetica,family:"Helvetica",bold:!1,italic:!1,label:"Helvetica",css:"Helvetica, Arial, sans-serif"},rn=Object.freeze([{id:St.Courier,family:"Courier",bold:!1,italic:!1,label:"Courier",css:"Courier, monospace"},{id:St.Courier_Bold,family:"Courier",bold:!0,italic:!1,label:"Courier Bold",css:'"Courier-Bold", Courier, monospace'},{id:St.Courier_BoldOblique,family:"Courier",bold:!0,italic:!0,label:"Courier Bold Oblique",css:'"Courier-BoldOblique", Courier, monospace'},{id:St.Courier_Oblique,family:"Courier",bold:!1,italic:!0,label:"Courier Oblique",css:'"Courier-Oblique", Courier, monospace'},on,{id:St.Helvetica_Bold,family:"Helvetica",bold:!0,italic:!1,label:"Helvetica Bold",css:'"Helvetica-Bold", Arial, sans-serif'},{id:St.Helvetica_BoldOblique,family:"Helvetica",bold:!0,italic:!0,label:"Helvetica Bold Oblique",css:'"Helvetica-BoldOblique", Arial, sans-serif'},{id:St.Helvetica_Oblique,family:"Helvetica",bold:!1,italic:!0,label:"Helvetica Oblique",css:'"Helvetica-Oblique", Arial, sans-serif'},{id:St.Times_Roman,family:"Times",bold:!1,italic:!1,label:"Times Roman",css:'"Times New Roman", Times, serif'},{id:St.Times_Bold,family:"Times",bold:!0,italic:!1,label:"Times Bold",css:'"Times New Roman Bold", Times, serif'},{id:St.Times_BoldItalic,family:"Times",bold:!0,italic:!0,label:"Times Bold Italic",css:'"Times New Roman Bold Italic", Times, serif'},{id:St.Times_Italic,family:"Times",bold:!1,italic:!0,label:"Times Italic",css:'"Times New Roman Italic", Times, serif'},{id:St.Symbol,family:"Symbol",bold:!1,italic:!1,label:"Symbol",css:"Symbol"},{id:St.ZapfDingbats,family:"ZapfDingbats",bold:!1,italic:!1,label:"Zapf Dingbats",css:"ZapfDingbats"},{id:St.SimSun,family:"SimSun",bold:!1,italic:!1,label:"SimSun",css:"SimSun"},{id:St.SimSun_Bold,family:"SimSun",bold:!0,italic:!1,label:"SimSun Bold",css:"SimSun"},{id:St.SimSun_BoldOblique,family:"SimSun",bold:!0,italic:!0,label:"SimSun Bold Oblique",css:"SimSun"},{id:St.SimSun_Oblique,family:"SimSun",bold:!1,italic:!0,label:"SimSun Oblique",css:"SimSun"}]),an=rn.reduce(((e,t)=>(e[t.id]=t,e)),{}),sn=new Map;for(const e of rn)sn.set(`${e.family}_${e.bold}_${e.italic}`,e.id);function ln(e){return an[e]??on}function cn(e){return ln(e).bold}function dn(e){return ln(e).italic}function un(e,{bold:t,italic:n}){return sn.get(`${e}_${t}_${n}`)??nn}Object.values(tn).filter((e=>"Unknown"!==e)).map((e=>({value:e,label:e})));const hn=[...new Set(rn.map((e=>e.family)))];function pn(e){switch(e){case"Courier":return"Courier";case"Helvetica":default:return"Helvetica";case"Times":return"Times";case"Symbol":return"Symbol";case"ZapfDingbats":return"ZapfDingbats";case"SimSun":return"SimSun"}}const gn=Object.freeze([{id:It.Normal,label:"Normal",css:"normal"},{id:It.Multiply,label:"Multiply",css:"multiply"},{id:It.Screen,label:"Screen",css:"screen"},{id:It.Overlay,label:"Overlay",css:"overlay"},{id:It.Darken,label:"Darken",css:"darken"},{id:It.Lighten,label:"Lighten",css:"lighten"},{id:It.ColorDodge,label:"Color Dodge",css:"color-dodge"},{id:It.ColorBurn,label:"Color Burn",css:"color-burn"},{id:It.HardLight,label:"Hard Light",css:"hard-light"},{id:It.SoftLight,label:"Soft Light",css:"soft-light"},{id:It.Difference,label:"Difference",css:"difference"},{id:It.Exclusion,label:"Exclusion",css:"exclusion"},{id:It.Hue,label:"Hue",css:"hue"},{id:It.Saturation,label:"Saturation",css:"saturation"},{id:It.Color,label:"Color",css:"color"},{id:It.Luminosity,label:"Luminosity",css:"luminosity"}]),fn=gn.reduce(((e,t)=>(e[t.id]=t,e)),{});function mn(e){return function(e){return fn[e]??fn[It.Normal]}(e).css}gn.reduce(((e,t)=>(e[t.css]=t.id,e)),{});const vn=gn.map((e=>({value:e.id,label:e.label})));function yn(e){if(e instanceof ut)return{type:"noop"};if(e instanceof ht)return{type:"console"};if(e instanceof gt)return{type:"perf"};if(e instanceof pt){const t=e;return{type:"level",config:{level:t.level,logger:yn(t.logger)}}}if(e instanceof ft){return{type:"all",config:{loggers:e.loggers.map(yn)}}}return{type:"noop"}}const bn=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function xn(e){return bn.test(e)}function wn(){var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID();const t=function(e){var t;if("function"==typeof(null==(t=globalThis.crypto)?void 0:t.getRandomValues))return globalThis.crypto.getRandomValues(new Uint8Array(e));if("function"==typeof require)try{const{randomBytes:t}=require("crypto");return t(e)}catch{}const n=new Uint8Array(e);for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(16);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}function kn(){}class Cn{constructor(){this.dependencyGraph=new Map}addNode(e,t=[]){this.dependencyGraph.set(e,new Set(t))}hasCircularDependencies(){const e=new Set,t=new Set,n=o=>{e.add(o),t.add(o);const i=this.dependencyGraph.get(o)||new Set;for(const o of i)if(e.has(o)){if(t.has(o))return!0}else if(n(o))return!0;return t.delete(o),!1};for(const t of this.dependencyGraph.keys())if(!e.has(t)&&n(t))return!0;return!1}resolveLoadOrder(){if(this.hasCircularDependencies())throw new Error("Circular dependencies detected");const e=[],t=new Set,n=new Set,o=i=>{if(n.has(i))throw new Error("Circular dependency");if(t.has(i))return;n.add(i);const r=this.dependencyGraph.get(i)||new Set;for(const e of r)o(e);n.delete(i),t.add(i),e.push(i)};for(const e of this.dependencyGraph.keys())t.has(e)||o(e);return e}}class Sn extends Error{constructor(e){super(e),this.name="PluginRegistrationError"}}class Pn extends Error{constructor(e){super(e),this.name="PluginNotFoundError"}}class Mn extends Error{constructor(e){super(e),this.name="CircularDependencyError"}}class In extends Error{constructor(e){super(e),this.name="PluginConfigurationError"}}class _n{constructor(e,t){this.store=e,this.pluginId=t}getState(){return this.store.getState().plugins[this.pluginId]}dispatch(e){return this.store.dispatchToPlugin(this.pluginId,e)}subscribeToState(e){return this.store.subscribeToPlugin(this.pluginId,((t,n,o)=>{e(t,n,o)}))}onAction(e,t){return this.store.onAction(e,((e,n,o)=>{t(e,n.plugins[this.pluginId],o.plugins[this.pluginId])}))}}const Tn="LOAD_DOCUMENT",An="REFRESH_DOCUMENT",Rn="REFRESH_PAGES",En="SET_DOCUMENT",Nn="SET_DOCUMENT_ERROR",zn="SET_SCALE",Ln="SET_ROTATION",On="SET_PAGES",Dn=[Tn,An,En,Nn,zn,Ln,On],Bn=e=>({type:Rn,payload:e}),$n=e=>({type:On,payload:e});class Fn{constructor(e,t){this.initialCoreState=t,this.pluginReducers={},this.listeners=[],this.pluginListeners={},this.isDispatching=!1,this.state={core:t,plugins:{}},this.coreReducer=e}addPluginReducer(e,t,n){this.state.plugins[e]=n,this.pluginReducers[e]=t}dispatchToCore(e){if(!this.coreReducer)return this.getState();if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const t=this.getState();try{this.isDispatching=!0,this.state.core=this.coreReducer(this.state.core,e)}finally{this.isDispatching=!1}return this.listeners.forEach((n=>{const o=this.getState();n(e,o,t)})),this.getState()}dispatchToPlugin(e,t,n=!0){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const o=this.getState(),i=this.pluginReducers[e];if(!i)return o.plugins[e];const r=o.plugins[e];try{this.isDispatching=!0;const n=i(r,t);this.state.plugins[e]=n}finally{this.isDispatching=!1}return n&&this.listeners.forEach((e=>{const n=this.getState();e(t,n,o)})),this.pluginListeners[e]&&this.pluginListeners[e].forEach((n=>{const o=this.getState().plugins[e];n(t,o,r)})),this.getState().plugins[e]}dispatch(e){if(this.isDispatching)throw new Error("Reducers may not dispatch actions. To trigger cascading actions, dispatch from a listener callback instead.");const t=this.getState();try{this.isDispatching=!0,this.isCoreAction(e)&&(this.state.core=this.coreReducer(this.state.core,e));for(const n in this.pluginReducers){const o=this.pluginReducers[n],i=t.plugins[n];o&&(this.state.plugins[n]=o(i,e))}}finally{this.isDispatching=!1}return this.listeners.forEach((n=>{const o=this.getState();n(e,o,t)})),this.getState()}getState(){if(this.isDispatching)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return{core:{...this.state.core},plugins:{...this.state.plugins}}}subscribe(e){if(this.isDispatching)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state.");return this.listeners.push(e),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.listeners=this.listeners.filter((t=>t!==e))}}subscribeToPlugin(e,t){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);if(this.isDispatching)throw new Error("You may not call store.subscribeToPlugin() while the reducer is executing.");return this.pluginListeners[e]||(this.pluginListeners[e]=[]),this.pluginListeners[e].push(t),()=>{if(this.isDispatching)throw new Error("You may not unsubscribe from a store listener while the reducer is executing.");this.pluginListeners[e]=this.pluginListeners[e].filter((e=>e!==t)),0===this.pluginListeners[e].length&&delete this.pluginListeners[e]}}onAction(e,t){return this.subscribe(((n,o,i)=>{n.type===e&&t(n,o,i)}))}getPluginStore(e){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return new _n(this,e)}isCoreAction(e){return Dn.includes(e.type)}destroy(){var e,t;this.listeners.length=0;for(const n in this.pluginListeners)null==(t=null==(e=this.pluginListeners[n])?void 0:e.splice)||t.call(e,0);this.pluginListeners={},this.pluginReducers={},this.state.plugins={},this.state.core={...this.initialCoreState}}}const jn=e=>e.pages.map((t=>t.map((t=>({...t,rotatedSize:Je(t.size,e.rotation,1)}))))),Hn=(e,t)=>{switch(t.type){case Tn:return{...e,loading:!0,error:null};case En:case An:return{...e,document:t.payload,pages:t.payload.pages.map((e=>[e])),loading:!1,error:null};case Ln:return{...e,rotation:t.payload};case On:return{...e,pages:t.payload};case Nn:return{...e,loading:!1,error:t.payload};case zn:return{...e,scale:t.payload};default:return e}};class Un{constructor(e,t){this.plugins=new Map,this.manifests=new Map,this.capabilities=new Map,this.status=new Map,this.configurations=new Map,this.engineInitialized=!1,this.initPromise=null,this.pendingRegistrations=[],this.processingRegistrations=[],this.initialized=!1,this.isInitializing=!1,this.pluginsReadyPromise=null,this.destroyed=!1,this.resolver=new Cn,this.engine=e,this.initialCoreState=(e=>({scale:(null==e?void 0:e.scale)??1,rotation:(null==e?void 0:e.rotation)??Ze.Degree0,document:null,pages:[],loading:!1,error:null}))(t),this.store=new Fn(Hn,this.initialCoreState),this.logger=(null==t?void 0:t.logger)??new ut}getLogger(){return this.logger}async ensureEngineInitialized(){if(!this.engineInitialized)if(this.engine.initialize){const e=this.engine.initialize();await e.toPromise(),this.engineInitialized=!0}else this.engineInitialized=!0}registerPlugin(e,t){if(this.initialized&&!this.isInitializing)throw new Sn("Cannot register plugins after initialization");this.validateManifest(e.manifest),this.store.addPluginReducer(e.manifest.id,e.reducer,"function"==typeof e.initialState?e.initialState(this.initialCoreState,{...e.manifest.defaultConfig,...t}):e.initialState),this.pendingRegistrations.push({package:e,config:t})}getStore(){return this.store}getEngine(){return this.engine}pluginsReady(){return this.pluginsReadyPromise||(this.pluginsReadyPromise=(async()=>{this.initialized||await this.initialize();const e=Array.from(this.plugins.values()).map((e=>"function"==typeof e.ready?e.ready():Promise.resolve()));await Promise.all(e)})()),this.pluginsReadyPromise}async initialize(){if(this.destroyed)throw new Sn("Registry has been destroyed");return this.initPromise||(this.initPromise=(async()=>{var e;if(this.initialized)throw new Sn("Registry is already initialized");this.isInitializing=!0;try{if(await this.ensureEngineInitialized(),this.destroyed)return;for(;this.pendingRegistrations.length>0;){if(this.destroyed)return;this.processingRegistrations=[...this.pendingRegistrations],this.pendingRegistrations=[];for(const e of this.processingRegistrations){const t=new Set,n=[...e.package.manifest.requires,...e.package.manifest.optional];for(const e of n){const n=this.processingRegistrations.find((t=>t.package.manifest.provides.includes(e)));n&&t.add(n.package.manifest.id)}this.resolver.addNode(e.package.manifest.id,[...t])}const e=this.resolver.resolveLoadOrder();for(const t of e){const e=this.processingRegistrations.find((e=>e.package.manifest.id===t));await this.initializePlugin(e.package.manifest,e.package.create,e.config)}this.processingRegistrations=[],this.resolver=new Cn}for(const t of this.plugins.values())await(null==(e=t.postInitialize)?void 0:e.call(t).catch((e=>{console.error(`Error in postInitialize for plugin ${t.id}`,e),this.status.set(t.id,"error")})));this.initialized=!0}catch(e){if(e instanceof Error)throw new Mn(`Failed to resolve plugin dependencies: ${e.message}`);throw e}finally{this.isInitializing=!1}})()),this.initPromise}async initializePlugin(e,t,n){const o={...e.defaultConfig,...n};this.validateConfig(e.id,o,e.defaultConfig);const i=t(this,o);this.validatePlugin(i);for(const t of e.requires)if(!this.capabilities.has(t))throw new Sn(`Missing required capability: ${t} for plugin ${e.id}`);for(const t of e.optional)this.capabilities.has(t)&&this.logger.debug("PluginRegistry","OptionalCapability",`Optional capability ${t} is available for plugin ${e.id}`);this.logger.debug("PluginRegistry","InitializePlugin",`Initializing plugin ${e.id}`,{provides:e.provides});for(const t of e.provides){if(this.capabilities.has(t))throw new Sn(`Capability ${t} is already provided by plugin ${this.capabilities.get(t)}`);this.capabilities.set(t,e.id)}this.plugins.set(e.id,i),this.manifests.set(e.id,e),this.status.set(e.id,"registered"),this.configurations.set(e.id,o);try{i.initialize&&await i.initialize(o),this.status.set(e.id,"active"),this.logger.info("PluginRegistry","PluginInitialized",`Plugin ${e.id} initialized successfully`)}catch(t){throw this.plugins.delete(e.id),this.manifests.delete(e.id),this.logger.error("PluginRegistry","InitializationFailed",`Plugin ${e.id} initialization failed`,{provides:e.provides,error:t}),e.provides.forEach((e=>this.capabilities.delete(e))),t}}getPluginConfig(e){const t=this.configurations.get(e);if(!t)throw new Pn(`Configuration for plugin ${e} not found`);return t}validateConfig(e,t,n){const o=Object.keys(n).filter((e=>!t.hasOwnProperty(e)));if(o.length>0)throw new In(`Missing required configuration keys for plugin ${e}: ${o.join(", ")}`)}async updatePluginConfig(e,t){const n=this.getPlugin(e);if(!n)throw new Pn(`Plugin ${e} not found`);const o=this.manifests.get(e),i=this.configurations.get(e);if(!o||!i)throw new Pn(`Plugin ${e} not found`);const r={...i,...t};this.validateConfig(e,r,o.defaultConfig),this.configurations.set(e,r),n.initialize&&await n.initialize(r)}registerPluginBatch(e){for(const t of e)this.registerPlugin(t.package,t.config)}async unregisterPlugin(e){const t=this.plugins.get(e);if(!t)throw new Pn(`Plugin ${e} is not registered`);const n=this.manifests.get(e);if(!n)throw new Pn(`Manifest for plugin ${e} not found`);for(const[t,o]of this.manifests.entries()){if(t===e)continue;if([...o.requires,...o.optional].some((e=>n.provides.includes(e))))throw new Sn(`Cannot unregister plugin ${e}: plugin ${t} depends on it`)}try{t.destroy&&await t.destroy();for(const e of n.provides)this.capabilities.delete(e);this.plugins.delete(e),this.manifests.delete(e),this.status.delete(e)}catch(t){if(t instanceof Error)throw new Error(`Failed to unregister plugin ${e}: ${t.message}`);throw t}}getPlugin(e){const t=this.plugins.get(e);return t||null}getCapabilityProvider(e){const t=this.capabilities.get(e);return t?this.getPlugin(t):null}hasCapability(e){return this.capabilities.has(e)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(e){const t=this.status.get(e);if(!t)throw new Pn(`Plugin ${e} not found`);return t}validatePlugin(e){if(!e.id)throw new Sn("Plugin must have an id")}validateManifest(e){if(!e.id)throw new Sn("Manifest must have an id");if(!e.name)throw new Sn("Manifest must have a name");if(!e.version)throw new Sn("Manifest must have a version");if(!Array.isArray(e.provides))throw new Sn("Manifest must have a provides array");if(!Array.isArray(e.requires))throw new Sn("Manifest must have a requires array");if(!Array.isArray(e.optional))throw new Sn("Manifest must have an optional array")}isDestroyed(){return this.destroyed}async destroy(){var e;if(this.destroyed)throw new Sn("Registry has already been destroyed");this.destroyed=!0;try{await this.initPromise}catch{}for(const t of Array.from(this.plugins.values()).reverse())await(null==(e=t.destroy)?void 0:e.call(t));this.store.destroy(),this.plugins.clear(),this.manifests.clear(),this.capabilities.clear(),this.status.clear(),this.pendingRegistrations.length=0,this.processingRegistrations.length=0}}function Wn(e,t){return{package:e,config:t}}function qn(e){return"autoMountElements"in e&&"function"==typeof e.autoMountElements}class Vn{constructor(e,t){if(this.id=e,this.registry=t,this.cooldownActions={},this.debouncedTimeouts={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,e!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${e} !== ${this.constructor.id}`);this.engine=this.registry.getEngine(),this.logger=this.registry.getLogger(),this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState(((e,t,n)=>{this.onStoreUpdated(n,t)})),this.unsubscribeFromCoreStore=this.coreStore.subscribe(((e,t,n)=>{this.onCoreStoreUpdated(n,t)})),this.readyPromise=new Promise((e=>{this.readyResolve=e})),this.readyResolve()}provides(){if(!this._capability){const e=this.buildCapability();this._capability=Object.freeze(e)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(e){return this.coreStore.dispatchToCore(e)}dispatchToAllPlugins(e){return this.coreStore.dispatch(e)}dispatch(e){return this.pluginStore.dispatch(e)}cooldownDispatch(e,t=100){const n=Date.now();return n-(this.cooldownActions[e.type]||0)>=t&&(this.cooldownActions[e.type]=n,this.dispatch(e),!0)}debouncedDispatch(e,t=100){const n=e.type;this.debouncedTimeouts[n]&&clearTimeout(this.debouncedTimeouts[n]),this.debouncedTimeouts[n]=setTimeout((()=>{this.dispatch(e),delete this.debouncedTimeouts[n]}),t)}cancelDebouncedDispatch(e){this.debouncedTimeouts[e]&&(clearTimeout(this.debouncedTimeouts[e]),delete this.debouncedTimeouts[e])}subscribe(e){return this.pluginStore.subscribeToState(e)}subscribeToCoreStore(e){return this.coreStore.subscribe(e)}onStoreUpdated(e,t){}onCoreStoreUpdated(e,t){}destroy(){Object.values(this.debouncedTimeouts).forEach((e=>{clearTimeout(e)})),this.debouncedTimeouts={},this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise((e=>{this.readyResolve=e}))}}class Gn{constructor(e,t){this.handler=e,this.options=t,this.lastRun=0,this.handle=e=>{"debounce"===this.options.mode?this.debounce(e):this.throttle(e)}}debounce(e){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.timeoutId=void 0}),this.options.wait)}throttle(e){if("debounce"===this.options.mode)return;const t=Date.now(),n=this.options.throttleMode||"leading-trailing";t-this.lastRun>=this.options.wait&&("leading-trailing"===n&&this.handler(e),this.lastRun=t),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.handler(e),this.lastRun=Date.now(),this.timeoutId=void 0}),this.options.wait-(t-this.lastRun))}destroy(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}function Zn(e,t,n){return e<t?t:e>n?n:e}function Yn(e,t,n){if(e===t)return!0;if(null==e||null==t)return e===t;const o=typeof e;if(o!==typeof t)return!1;if("object"===o){n||(n=new Set);const o=function(e,t){return`${Qn(e)}__${Qn(t)}`}(e,t);if(n.has(o))return!0;n.add(o);const i=Array.isArray(e),r=Array.isArray(t);return i&&r?function(e,t,n){if(e.length!==t.length)return!1;const o=new Array(t.length).fill(!1);e:for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<t.length;e++)if(!o[e]&&Yn(r,t[e],n)){o[e]=!0;continue e}return!1}return!0}(e,t,n):!i&&!r&&function(e,t,n){const o=Object.keys(e).sort(),i=Object.keys(t).sort();if(o.length!==i.length)return!1;for(let e=0;e<o.length;e++)if(o[e]!==i[e])return!1;for(const i of o){if(!Yn(e[i],t[i],n))return!1}return!0}(e,t,n)}return!1}let Xn=0;const Kn=new WeakMap;function Qn(e){return Kn.has(e)||Kn.set(e,++Xn),Kn.get(e)}function Jn(){const e=new Set;return{emit:(t=void 0)=>e.forEach((e=>e(t))),on:t=>(e.add(t),()=>e.delete(t)),off:t=>e.delete(t),clear:()=>e.clear()}}function eo(e,t=Yn){const n=new Set,o=new Map;let i=e;const r=(e,t)=>{let r=e,a=()=>{};if(t){const n=new Gn(e,t);r=n.handle,a=()=>n.destroy(),o.set(e,{wrapped:r,destroy:a})}return void 0!==i&&r(i),n.add(r),()=>{n.delete(r),a(),o.delete(e)}};return{get value(){return i},emit(e=void 0){void 0!==i&&t(i,e)||(i=e,(e=>{n.forEach((t=>t(e)))})(e))},on:r,off(e){const t=o.get(e);t?(n.delete(t.wrapped),t.destroy(),o.delete(e)):n.delete(e)},clear(){n.clear(),o.forEach((e=>e.destroy())),o.clear()},select:(e,t=Yn)=>(n,o)=>{let a;if(void 0!==i){const t=e(i);a=t,n(t)}return r((o=>{const i=e(o);void 0!==a&&t(a,i)||(a=i,n(i))}),o)}}}class to{constructor(e){this.autoMountElements=[],this.package=e}addUtility(e){return this.autoMountElements.push({component:e,type:"utility"}),this}addWrapper(e){return this.autoMountElements.push({component:e,type:"wrapper"}),this}build(){return{...this.package,autoMountElements:()=>this.autoMountElements}}}function no(e){return new to(e)}const oo=he({registry:null,isInitializing:!0,pluginsReady:!1});function io({plugins:e,children:t}){const{utilities:n,wrappers:o}=ze((()=>{const t=[],n=[];for(const o of e){const e=o.package;if(qn(e)){const o=e.autoMountElements()||[];for(const e of o)"utility"===e.type?t.push(e.component):"wrapper"===e.type&&n.push(e.component)}}return{utilities:t,wrappers:n}}),[e]);return Ge(U,{children:[o.reduce(((e,t)=>Ge(t,{children:e})),t),n.map(((e,t)=>Ge(e,{},`utility-${t}`)))]})}function ro({engine:e,logger:t,onInitialized:n,plugins:o,children:i,autoMountDomElements:r=!0}){const[a,s]=_e(null),[l,c]=_e(!0),[d,u]=_e(!1),h=Ee(n);Ae((()=>{h.current=n}),[n]),Ae((()=>{const n=new Un(e,{logger:t});n.registerPluginBatch(o);return(async()=>{var e;await n.initialize(),n.isDestroyed()||(await(null==(e=h.current)?void 0:e.call(h,n)),n.isDestroyed()||(n.pluginsReady().then((()=>{n.isDestroyed()||u(!0)})),s(n),c(!1)))})().catch(console.error),()=>{n.destroy(),s(null),c(!0),u(!1)}}),[e,o]);const p="function"==typeof i?i({registry:a,isInitializing:l,pluginsReady:d}):i;return Ge(oo.Provider,{value:{registry:a,isInitializing:l,pluginsReady:d},children:d&&r?Ge(io,{plugins:o,children:p}):p})}function ao(){const e=Oe(oo);if(void 0===e)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:t,isInitializing:n}=e;if(n)return e;if(null===t)throw new Error("PDF registry failed to initialize properly");return e}function so(e){const{registry:t}=ao();if(null===t)return{plugin:null,isLoading:!0,ready:new Promise((()=>{}))};const n=t.getPlugin(e);if(!n)throw new Error(`Plugin ${e} not found`);return{plugin:n,isLoading:!1,ready:n.ready()}}function lo(e){const{plugin:t,isLoading:n,ready:o}=so(e);if(!t)return{provides:null,isLoading:n,ready:o};if(!t.provides)throw new Error(`Plugin ${e} does not provide a capability`);return{provides:t.provides(),isLoading:n,ready:o}}const co="https://cdn.jsdelivr.net/npm/@embedpdf/pdfium@1.4.1/dist/pdfium.wasm";he(void 0);const uo="viewport",ho={id:uo,name:"Viewport Plugin",version:"1.0.0",provides:["viewport"],requires:[],optional:[],defaultConfig:{enabled:!0,viewportGap:10,scrollEndDelay:300}},po="SET_VIEWPORT_METRICS",go="SET_VIEWPORT_SCROLL_METRICS",fo="SET_VIEWPORT_GAP",mo="SET_SCROLL_ACTIVITY",vo="SET_SMOOTH_SCROLL_ACTIVITY";function yo(e){return{type:vo,payload:e}}const bo={viewportGap:0,viewportMetrics:{width:0,height:0,scrollTop:0,scrollLeft:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,relativePosition:{x:0,y:0}},isScrolling:!1,isSmoothScrolling:!1},xo=class extends Vn{constructor(e,t,n){var o;super(e,t),this.id=e,this.viewportResize$=eo(),this.viewportMetrics$=eo(),this.scrollMetrics$=eo(),this.scrollReq$=Jn(),this.scrollActivity$=eo(),this.rectProvider=null,n.viewportGap&&this.dispatch((o=n.viewportGap,{type:fo,payload:o})),this.scrollEndDelay=n.scrollEndDelay||100}buildCapability(){return{getViewportGap:()=>this.state.viewportGap,getMetrics:()=>this.state.viewportMetrics,getBoundingRect:()=>{var e;return(null==(e=this.rectProvider)?void 0:e.call(this))??{origin:{x:0,y:0},size:{width:0,height:0}}},scrollTo:e=>this.scrollTo(e),isScrolling:()=>this.state.isScrolling,isSmoothScrolling:()=>this.state.isSmoothScrolling,onScrollChange:this.scrollMetrics$.on,onViewportChange:this.viewportMetrics$.on,onViewportResize:this.viewportResize$.on,onScrollActivity:this.scrollActivity$.on}}setViewportResizeMetrics(e){this.registry.isDestroyed()||(this.dispatch(function(e){return{type:po,payload:e}}(e)),this.viewportResize$.emit(this.state.viewportMetrics))}setViewportScrollMetrics(e){this.registry.isDestroyed()||e.scrollTop===this.state.viewportMetrics.scrollTop&&e.scrollLeft===this.state.viewportMetrics.scrollLeft||(this.dispatch(function(e){return{type:go,payload:e}}(e)),this.bumpScrollActivity(),this.scrollMetrics$.emit({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}))}onScrollRequest(e){return this.scrollReq$.on(e)}registerBoundingRectProvider(e){this.rectProvider=e}bumpScrollActivity(){this.debouncedDispatch({type:mo,payload:!1},this.scrollEndDelay),this.debouncedDispatch(yo(!1),this.scrollEndDelay)}scrollTo(e){const{x:t,y:n,center:o,behavior:i="auto"}=e;if("smooth"===i&&this.dispatch(yo(!0)),o){const e=this.state.viewportMetrics,o=t-e.clientWidth/2,r=n-e.clientHeight/2;this.scrollReq$.emit({x:o,y:r,behavior:i})}else this.scrollReq$.emit({x:t,y:n,behavior:i})}emitScrollActivity(){const e={isSmoothScrolling:this.state.isSmoothScrolling,isScrolling:this.state.isScrolling};this.scrollActivity$.emit(e)}onStoreUpdated(e,t){e!==t&&(this.viewportMetrics$.emit(t.viewportMetrics),e.isScrolling===t.isScrolling&&e.isSmoothScrolling===t.isSmoothScrolling||this.emitScrollActivity())}async initialize(e){}async destroy(){super.destroy(),this.viewportMetrics$.clear(),this.viewportResize$.clear(),this.scrollMetrics$.clear(),this.scrollReq$.clear(),this.scrollActivity$.clear(),this.rectProvider=null}};xo.id="viewport";let wo=xo;const ko={manifest:ho,create:(e,t)=>new wo(uo,e,t),reducer:(e=bo,t)=>{switch(t.type){case fo:return{...e,viewportGap:t.payload};case po:return{...e,viewportMetrics:{width:t.payload.width,height:t.payload.height,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft,clientWidth:t.payload.clientWidth,clientHeight:t.payload.clientHeight,scrollWidth:t.payload.scrollWidth,scrollHeight:t.payload.scrollHeight,relativePosition:{x:t.payload.scrollWidth<=t.payload.clientWidth?0:t.payload.scrollLeft/(t.payload.scrollWidth-t.payload.clientWidth),y:t.payload.scrollHeight<=t.payload.clientHeight?0:t.payload.scrollTop/(t.payload.scrollHeight-t.payload.clientHeight)}}};case go:return{...e,viewportMetrics:{...e.viewportMetrics,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft},isScrolling:!0};case mo:return{...e,isScrolling:t.payload};case vo:return{...e,isSmoothScrolling:t.payload};default:return e}},initialState:bo},Co=()=>lo(wo.id);function So(){const{plugin:e}=so(wo.id),t=Ee(null);return Re((()=>{if(!e)return;const n=t.current;if(!n)return;let o=!1;e.registerBoundingRectProvider((()=>{const e=n.getBoundingClientRect();return{origin:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}}));const i=()=>{e.setViewportScrollMetrics({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})};n.addEventListener("scroll",i);const r=new ResizeObserver((()=>{o||e.setViewportResizeMetrics({width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight})}));r.observe(n);const a=e.onScrollRequest((({x:e,y:t,behavior:o="auto"})=>{requestAnimationFrame((()=>{n.scrollTo({left:e,top:t,behavior:o})}))}));return()=>{o=!0,r.disconnect(),e.registerBoundingRectProvider(null),n.removeEventListener("scroll",i),a()}}),[e]),t}function Po({children:e,...t}){const[n,o]=_e(0),i=So(),{provides:r}=Co();Ae((()=>{r&&o(r.getViewportGap())}),[r]);const{style:a,...s}=t;return Ge("div",{...s,ref:i,style:{width:"100%",height:"100%",overflow:"auto",..."object"==typeof a?a:{},padding:`${n}px`},children:e})}var Mo=(e=>(e.Vertical="vertical",e.Horizontal="horizontal",e))(Mo||{});class Io{constructor(e){this.pageGap=e.pageGap??20,this.viewportGap=e.viewportGap??20,this.bufferSize=e.bufferSize??2}getVisibleRange(e,t,n){const o=this.getScrollOffset(e),i=o,r=o+this.getClientSize(e);let a=0;for(;a<t.length&&(t[a].offset+t[a].height)*n<=i;)a++;let s=a;for(;s<t.length&&t[s].offset*n<=r;)s++;return{start:Math.max(0,a-this.bufferSize),end:Math.min(t.length-1,s+this.bufferSize-1)}}handleScroll(e,t,n){const o=this.getVisibleRange(e,t,n),i=t.slice(o.start,o.end+1),r=this.calculatePageVisibility(i,e,n),a=r.map((e=>e.pageNumber)),s=t.slice(o.start,o.end+1).flatMap((e=>e.index)),l=this.determineCurrentPage(r),c=t[o.start],d=t[o.end],u=c?c.offset*n:0,h=d?(t[t.length-1].offset+t[t.length-1].height)*n-(d.offset+d.height)*n:0;return{currentPage:l,visiblePages:a,pageVisibilityMetrics:r,renderedPageIndexes:s,scrollOffset:{x:e.scrollLeft,y:e.scrollTop},startSpacing:u,endSpacing:h}}calculatePageVisibility(e,t,n){const o=[];return e.forEach((e=>{e.pageLayouts.forEach((i=>{const r=e.x*n,a=e.y*n,s=r+i.x*n,l=a+i.y*n,c=i.rotatedWidth*n,d=i.rotatedHeight*n,u=t.scrollLeft,h=t.scrollTop,p=u+t.clientWidth,g=h+t.clientHeight,f=Math.max(s,u),m=Math.max(l,h),v=Math.min(s+c,p),y=Math.min(l+d,g);if(f<v&&m<y){const e=v-f,t=y-m,r=c*d,a=e*t;o.push({pageNumber:i.pageNumber,viewportX:f-u,viewportY:m-h,visiblePercentage:a/r*100,original:{pageX:(f-s)/n,pageY:(m-l)/n,visibleWidth:e/n,visibleHeight:t/n,scale:1},scaled:{pageX:f-s,pageY:m-l,visibleWidth:e,visibleHeight:t,scale:n}})}}))})),o}determineCurrentPage(e){if(0===e.length)return 1;const t=Math.max(...e.map((e=>e.visiblePercentage))),n=e.filter((e=>e.visiblePercentage===t));return 1===n.length?n[0].pageNumber:n.sort(((e,t)=>e.pageNumber-t.pageNumber))[0].pageNumber}getRectLocationForPage(e,t,n){const o=t.find((t=>t.pageNumbers.includes(e)));if(!o)return null;const i=o.pageLayouts.find((t=>t.pageNumber===e));if(!i)return null;let r=0;if(n){const e=n.width;o.width<e&&(r=(e-o.width)/2)}return{origin:{x:o.x+i.x+r,y:o.y+i.y},size:{width:i.width,height:i.height}}}getScrollPositionForPage(e,t,n,o,i){const r=this.getTotalContentSize(t),a=this.getRectLocationForPage(e,t,r);if(!a)return null;const s=ot(a.origin,n);if(i){const e=function(e,t,n,o){return ot(nt(e,t,n),o)}({width:a.size.width,height:a.size.height},{x:i.x,y:i.y},o,n);return{x:s.x+e.x+this.viewportGap,y:s.y+e.y+this.viewportGap}}return{x:s.x+this.viewportGap,y:s.y+this.viewportGap}}getRectPositionForPage(e,t,n,o,i){const r=this.getTotalContentSize(t),a=this.getRectLocationForPage(e,t,r);if(!a)return null;const s=ot(a.origin,n),l=lt({width:a.size.width,height:a.size.height},i,o,n);return{origin:{x:s.x+l.origin.x,y:s.y+l.origin.y},size:l.size}}}class _o extends Io{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),s={id:`item-${n}`,x:0,y:t,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=a+this.pageGap,s}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:Math.max(...e.map((e=>e.width))),height:e[e.length-1].y+e[e.length-1].height}}getScrollOffset(e){return e.scrollTop}getClientSize(e){return e.clientHeight}}class To extends Io{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map(((e,n)=>{let o=0;const i=e.map((e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t})),r=e.reduce(((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0)),0),a=Math.max(...e.map((e=>e.rotatedSize.height))),s={id:`item-${n}`,x:t,y:0,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map((e=>e.index+1)),index:n};return t+=r+this.pageGap,s}))}getTotalContentSize(e){if(0===e.length)return{width:0,height:0};return{width:e[e.length-1].x+e[e.length-1].width,height:Math.max(...e.map((e=>e.height)))}}getScrollOffset(e){return e.scrollLeft}getClientSize(e){return e.clientWidth}}const Ao="UPDATE_SCROLL_STATE",Ro="UPDATE_TOTAL_PAGES",Eo="SET_PAGE_CHANGE_STATE";function No(e){return{type:Ao,payload:e}}function zo(e){return{type:Eo,payload:e}}const Lo=class extends Vn{constructor(e,t,n){var o,i,r,a;super(e,t),this.id=e,this.config=n,this.currentScale=1,this.currentRotation=Ze.Degree0,this.currentPage=1,this.layoutReady=!1,this.pageChangeState$=eo(),this.layout$=eo(),this.scroll$=eo(),this.state$=eo(),this.scrollerLayout$=eo(),this.pageChange$=eo(),this.layoutReady$=eo(),this.viewport=this.registry.getPlugin("viewport").provides(),this.strategyConfig={pageGap:(null==(o=this.config)?void 0:o.pageGap)??10,viewportGap:this.viewport.getViewportGap(),bufferSize:(null==(i=this.config)?void 0:i.bufferSize)??2},this.strategy=(null==(r=this.config)?void 0:r.strategy)===Mo.Horizontal?new To(this.strategyConfig):new _o(this.strategyConfig),this.initialPage=null==(a=this.config)?void 0:a.initialPage,this.currentScale=this.coreState.core.scale,this.currentRotation=this.coreState.core.rotation,this.viewport.onScrollActivity((e=>{this.state.pageChangeState.isChanging&&!e.isSmoothScrolling&&this.completePageChange()})),this.viewport.onViewportChange((e=>this.commitMetrics(this.computeMetrics(e))),{mode:"throttle",wait:100}),this.coreStore.onAction(En,((e,t)=>{const n=t.core.pages.length;this.dispatch({type:Ro,payload:n}),this.pageChange$.emit({pageNumber:this.currentPage,totalPages:n}),this.refreshAll(jn(t.core),this.viewport.getMetrics())})),this.coreStore.onAction(Ln,((e,t)=>this.refreshAll(jn(t.core),this.viewport.getMetrics()))),this.coreStore.onAction(On,((e,t)=>this.refreshAll(jn(t.core),this.viewport.getMetrics())))}startPageChange(e,t="smooth"){const n={isChanging:!0,targetPage:e,fromPage:this.currentPage,startTime:Date.now()};this.dispatch(zo(n)),"instant"===t&&this.completePageChange()}completePageChange(){if(!this.state.pageChangeState.isChanging)return;const e={isChanging:!1,targetPage:this.state.pageChangeState.targetPage,fromPage:this.state.pageChangeState.fromPage,startTime:this.state.pageChangeState.startTime};this.dispatch(zo(e))}computeLayout(e){const t=this.strategy.createVirtualItems(e);return{virtualItems:t,totalContentSize:this.strategy.getTotalContentSize(t)}}computeMetrics(e,t=this.state.virtualItems){return this.strategy.handleScroll(e,t,this.currentScale)}commit(e,t){this.dispatch(No(e)),(null==t?void 0:t.layout)&&this.layout$.emit(t.layout),(null==t?void 0:t.metrics)&&(this.scroll$.emit(t.metrics),t.metrics.currentPage!==this.currentPage&&(this.currentPage=t.metrics.currentPage,this.pageChange$.emit({pageNumber:this.currentPage,totalPages:this.state.totalPages}))),this.scrollerLayout$.emit(this.getScrollerLayout())}commitMetrics(e){this.commit(e,{metrics:e})}refreshAll(e,t){const n=this.computeLayout(e),o=this.computeMetrics(t,n.virtualItems);this.commit({...n,...o},{layout:n,metrics:o})}getVirtualItemsFromState(){return this.state.virtualItems||[]}onScrollerData(e){return this.scrollerLayout$.on(e)}getScrollerLayout(){const e=this.coreState.core.scale;return((e,t)=>({startSpacing:e.startSpacing,endSpacing:e.endSpacing,totalWidth:e.totalContentSize.width*t,totalHeight:e.totalContentSize.height*t,pageGap:e.pageGap*t,strategy:e.strategy,items:e.renderedPageIndexes.map((n=>({...e.virtualItems[n],pageLayouts:e.virtualItems[n].pageLayouts.map((e=>({...e,rotatedWidth:e.rotatedWidth*t,rotatedHeight:e.rotatedHeight*t,width:e.width*t,height:e.height*t})))})))}))(this.state,e)}pushScrollLayout(){this.scrollerLayout$.emit(this.getScrollerLayout())}onStoreUpdated(e,t){this.pushScrollLayout(),e.pageChangeState!==t.pageChangeState&&this.pageChangeState$.emit(t.pageChangeState)}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&(this.currentScale=t.core.scale,this.commitMetrics(this.computeMetrics(this.viewport.getMetrics()))),e.core.rotation!==t.core.rotation&&(this.currentRotation=t.core.rotation)}setScrollStrategy(e){if(e===Mo.Horizontal&&this.strategy instanceof To||e===Mo.Vertical&&this.strategy instanceof _o)return;this.strategy=e===Mo.Horizontal?new To(this.strategyConfig):new _o(this.strategyConfig),this.dispatch(No({strategy:e}));const t=jn(this.coreState.core);this.refreshAll(t,this.viewport.getMetrics())}setLayoutReady(){this.layoutReady||(this.layoutReady=!0,this.layoutReady$.emit(!0),this.initialPage&&this.scrollToPage({pageNumber:this.initialPage,behavior:"instant"}))}buildCapability(){return{onStateChange:this.state$.on,onLayoutChange:this.layout$.on,onScroll:this.scroll$.on,onPageChange:this.pageChange$.on,onLayoutReady:this.layoutReady$.on,onPageChangeState:this.pageChangeState$.on,getCurrentPage:()=>this.currentPage,getTotalPages:()=>this.state.totalPages,getPageChangeState:()=>this.state.pageChangeState,scrollToPage:this.scrollToPage.bind(this),scrollToNextPage:this.scrollToNextPage.bind(this),scrollToPreviousPage:this.scrollToPreviousPage.bind(this),getMetrics:this.getMetrics.bind(this),getLayout:this.getLayout.bind(this),getRectPositionForPage:this.getRectPositionForPage.bind(this),getPageGap:()=>this.state.pageGap,setScrollStrategy:e=>this.setScrollStrategy(e)}}scrollToPage(e){const{pageNumber:t,behavior:n="smooth",pageCoordinates:o,center:i=!1}=e;this.startPageChange(t,n);const r=this.getVirtualItemsFromState(),a=this.strategy.getScrollPositionForPage(t,r,this.currentScale,this.currentRotation,o);a?this.viewport.scrollTo({...a,behavior:n,center:i}):this.completePageChange()}scrollToNextPage(e="smooth"){const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>=0&&n<t.length-1){const o=t[n+1],i=o.pageNumbers[0];this.startPageChange(i,e);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:e}):this.completePageChange()}}scrollToPreviousPage(e="smooth"){const t=this.getVirtualItemsFromState(),n=t.findIndex((e=>e.pageNumbers.includes(this.currentPage)));if(n>0){const o=t[n-1],i=o.pageNumbers[0];this.startPageChange(i,e);const r=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);r?this.viewport.scrollTo({...r,behavior:e}):this.completePageChange()}}getMetrics(e){const t=e||this.viewport.getMetrics(),n=this.getVirtualItemsFromState();return this.strategy.handleScroll(t,n,this.currentScale)}getLayout(){return{virtualItems:this.state.virtualItems,totalContentSize:this.state.totalContentSize}}getRectPositionForPage(e,t,n,o){return this.strategy.getRectPositionForPage(e+1,this.state.virtualItems,n??this.currentScale,o??this.currentRotation,t)}async initialize(){}async destroy(){this.layout$.clear(),this.scroll$.clear(),this.pageChange$.clear(),this.state$.clear(),this.scrollerLayout$.clear(),this.layoutReady$.clear(),this.pageChangeState$.clear(),super.destroy()}};Lo.id="scroll";let Oo=Lo;const Do="scroll",Bo={currentPage:1,visiblePages:[],pageVisibilityMetrics:[],renderedPageIndexes:[],scrollOffset:{x:0,y:0},startSpacing:0,endSpacing:0},$o={isChanging:!1,targetPage:1,fromPage:1,startTime:0},Fo={manifest:{id:Do,name:"Scroll Plugin",version:"1.0.0",provides:["scroll"],requires:["viewport"],optional:[],defaultConfig:{enabled:!0,pageGap:10}},create:(e,t)=>new Oo(Do,e,t),reducer:(e,t)=>{switch(t.type){case Ro:return{...e,totalPages:t.payload};case zn:return{...e,scale:t.payload};case Ao:return{...e,...t.payload};case"SET_DESIRED_SCROLL_POSITION":return{...e,desiredScrollPosition:t.payload};case Eo:return{...e,pageChangeState:t.payload};default:return e}},initialState:(e,t)=>((e,t)=>({virtualItems:[],totalPages:e.pages.length,totalContentSize:{width:0,height:0},desiredScrollPosition:{x:0,y:0},strategy:t.strategy??Mo.Vertical,pageGap:t.pageGap??10,scale:e.scale,pageChangeState:$o,...Bo}))(e,t)},jo=()=>lo(Oo.id);function Ho({renderPage:e,overlayElements:t,...n}){const{plugin:o}=so(Oo.id),{registry:i}=ao(),[r,a]=_e((()=>(null==o?void 0:o.getScrollerLayout())??null));if(Ae((()=>{if(o)return o.onScrollerData(a)}),[o]),Ae((()=>{o&&o.setLayoutReady()}),[o]),!r)return null;if(!i)return null;const s=i.getStore().getState();return Ge("div",{...n,style:{width:`${r.totalWidth}px`,height:`${r.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...r.strategy===Mo.Horizontal&&{display:"flex",flexDirection:"row"}},children:[Ge("div",{style:{...r.strategy===Mo.Horizontal?{width:r.startSpacing,height:"100%",flexShrink:0}:{height:r.startSpacing,width:"100%"}}}),Ge("div",{style:{gap:r.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...r.strategy===Mo.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:r.items.map((t=>Ge("div",{style:{display:"flex",justifyContent:"center",gap:r.pageGap},children:t.pageLayouts.map((t=>Ge("div",{style:{width:`${t.rotatedWidth}px`,height:`${t.rotatedHeight}px`},children:e({...t,rotation:s.core.rotation,scale:s.core.scale,document:s.core.document})},t.pageNumber)))},t.pageNumbers[0])))}),Ge("div",{style:{...r.strategy===Mo.Horizontal?{width:r.endSpacing,height:"100%",flexShrink:0}:{height:r.endSpacing,width:"100%"}}}),t]})}var Uo=(e=>(e.None="none",e.Odd="odd",e.Even="even",e))(Uo||{});const Wo="SET_SPREAD_MODE";function qo(e){return{type:Wo,payload:e}}const Vo=class extends Vn{constructor(e,t,n){super(e,t),this.spreadEmitter$=eo(),this.resetReady(),this.dispatch(qo(n.defaultSpreadMode??Uo.None));t.getPlugin("loader").provides().onDocumentLoaded((e=>this.documentLoaded(e)))}async initialize(e){e.defaultSpreadMode&&this.dispatch(qo(e.defaultSpreadMode))}documentLoaded(e){this.dispatchCoreAction($n(this.getSpreadPagesObjects(e.pages))),this.markReady()}getSpreadPagesObjects(e){if(!e.length)return[];switch(this.state.spreadMode){case Uo.None:return e.map((e=>[e]));case Uo.Odd:return Array.from({length:Math.ceil(e.length/2)},((t,n)=>e.slice(2*n,2*n+2)));case Uo.Even:return[[e[0]],...Array.from({length:Math.ceil((e.length-1)/2)},((t,n)=>e.slice(1+2*n,1+2*n+2)))];default:return e.map((e=>[e]))}}setSpreadMode(e){const t=this.state.spreadMode,n=this.coreState.core.document;if(!n)throw new Error("Document not loaded");t!==e&&(this.dispatch(qo(e)),this.dispatchCoreAction($n(this.getSpreadPagesObjects(n.pages))),this.notifySpreadChange(e))}notifySpreadChange(e){this.spreadEmitter$.emit(e)}buildCapability(){return{onSpreadChange:this.spreadEmitter$.on,setSpreadMode:e=>this.setSpreadMode(e),getSpreadMode:()=>this.state.spreadMode}}async destroy(){this.spreadEmitter$.clear()}};Vo.id="spread";let Go=Vo;const Zo="spread",Yo={id:Zo,name:"Spread Plugin",version:"1.0.0",provides:["spread"],requires:["loader"],optional:[],defaultConfig:{enabled:!0}},Xo={spreadMode:Uo.None},Ko={manifest:Yo,create:(e,t)=>new Go(Zo,e,t),reducer:(e=Xo,t)=>t.type===Wo?{...e,spreadMode:t.payload}:e,initialState:Xo};class Qo{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentUrl(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class Jo{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentBuffer(t,n);return new Promise(((e,t)=>{i.wait((t=>e(t)),(e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))}))}))}}class ei{constructor(){this.strategies=new Map,this.strategyResolvers=[];const e=new Jo;this.registerStrategy("url",new Qo),this.registerStrategy("buffer",e),this.addStrategyResolver((e=>function(e){return"url"===e.type}(e)?this.strategies.get("url"):this.strategies.get("buffer")))}registerStrategy(e,t){this.strategies.set(e,t)}getStrategy(e){return this.strategies.get(e)}addStrategyResolver(e){this.strategyResolvers.push(e)}async loadDocument(e){try{const t=this.resolveStrategy(e);if(!t)throw new Error("No suitable strategy found for the given options");return await t.load(e)}catch(e){throw console.error("Error loading document:",e),e}}resolveStrategy(e){for(const t of this.strategyResolvers){const n=t(e);if(n)return n}}}const ti=class extends Vn{constructor(e,t){super(e,t),this.id=e,this.loaderHandlers$=eo(),this.documentLoadedHandlers$=eo(),this.openFileRequest$=Jn(),this.fileOpenedHandlers$=eo(),this.documentLoader=new ei}buildCapability(){return{onLoaderEvent:this.loaderHandlers$.on,onDocumentLoaded:this.documentLoadedHandlers$.on,onOpenFileRequest:this.openFileRequest$.on,onFileOpened:this.fileOpenedHandlers$.on,openFileDialog:()=>this.openFileRequest$.emit("open"),loadDocument:e=>this.loadDocument(e),registerStrategy:(e,t)=>this.documentLoader.registerStrategy(e,t),getDocument:()=>this.loadedDocument,addStrategyResolver:e=>this.documentLoader.addStrategyResolver(e),fileOpened:e=>this.fileOpenedHandlers$.emit(e)}}async initialize(e){e.defaultStrategies&&Object.entries(e.defaultStrategies).forEach((([e,t])=>{this.documentLoader.registerStrategy(e,t)})),e.loadingOptions&&(this.loadingOptions=e.loadingOptions)}async postInitialize(){this.loadingOptions&&await this.loadDocument(this.loadingOptions)}async loadDocument(e){try{this.loadedDocument&&this.engine.closeDocument(this.loadedDocument),this.loaderHandlers$.emit({type:"start",documentId:e.pdfFile.id}),this.dispatchCoreAction({type:Tn});const t=await this.documentLoader.loadDocument({...e,engine:this.engine});return this.dispatchCoreAction((e=>({type:En,payload:e}))(t)),this.loadedDocument=t,this.loaderHandlers$.emit({type:"complete",documentId:e.pdfFile.id}),this.documentLoadedHandlers$.emit(t),t}catch(t){const n={type:"error",documentId:e.pdfFile.id,error:t instanceof Error?t:new Error(String(t))};throw this.loaderHandlers$.emit(n),t}}async destroy(){this.loaderHandlers$.clear(),this.documentLoadedHandlers$.clear(),this.openFileRequest$.clear(),this.fileOpenedHandlers$.clear(),super.destroy()}};ti.id="loader";let ni=ti;const oi="loader";const ii=no({manifest:{id:oi,name:"Loader Plugin",version:"1.0.0",provides:["loader"],requires:[],optional:[],metadata:{name:"Loader Plugin",description:"A plugin for loading PDF documents",version:"1.0.0",author:"EmbedPDF",license:"MIT"},defaultConfig:{enabled:!0}},create:e=>new ni(oi,e),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=lo(ni.id),t=Ee(null);return Ae((()=>{if(!e)return;return e.onOpenFileRequest((e=>{"open"===e&&t.current&&t.current.click()}))}),[e]),Ge(U,{children:Ge("input",{ref:t,type:"file",accept:"application/pdf",style:{display:"none"},onChange:async t=>{var n;const o=null==(n=t.currentTarget.files)?void 0:n[0];o&&e&&e.fileOpened(o),await e.loadDocument({type:"buffer",pdfFile:{id:Math.random().toString(36).substring(2,15),name:o.name,content:await o.arrayBuffer()}})}})})})).build();class ri{constructor(e,t){this.children=[],this.updateCallbacks=[],this.hadUpdateBeforeListeners=!1,this.componentConfig=e;const n=e.props||{};if("function"==typeof n){const t=n(e.initialState);this.props={...t,id:e.id}}else this.props={...n,id:e.id};this.type=e.type,this.registry=t}addChild(e,t,n=0,o){this.children.push({id:e,component:t,priority:n,className:o}),this.sortChildren()}sortChildren(){this.children.sort(((e,t)=>e.priority-t.priority))}removeChild(e){this.children=this.children.filter((t=>t.component!==e))}clearChildren(){this.children=[]}get getRenderType(){return this.componentConfig.render||this.type}getRenderer(){return this.registry[this.getRenderType]}getChildren(){return this.children}getChildContext(e){const t=this.componentConfig.getChildContext;return"function"==typeof t?{...e,...t(this.props)}:t&&"object"==typeof t?{...e,...t}:e}update(e){const{id:t,...n}=e;this.props={...this.props,...n},0===this.updateCallbacks.length&&(this.hadUpdateBeforeListeners=!0),this.notifyUpdate()}onUpdate(e){return this.updateCallbacks.push(e),this.hadUpdateBeforeListeners}offUpdate(e){this.updateCallbacks=this.updateCallbacks.filter((t=>t!==e))}notifyUpdate(){this.updateCallbacks.forEach((e=>e()))}}const ai="UI_INIT_COMPONENTS",si="UI_SET_HEADER_VISIBLE",li="UI_TOGGLE_PANEL",ci="UI_SHOW_COMMAND_MENU",di="UI_HIDE_COMMAND_MENU",ui="UI_UPDATE_COMPONENT_STATE",hi=e=>({type:di,payload:e}),pi={panel:{},header:{},groupedItems:{},divider:{},iconButton:{},tabButton:{},selectButton:{},custom:{},floating:{},commandMenu:{}};function gi(e,t){const n=e=>"function"==typeof e?e(t):e;return"group"===e.type?{...e,label:n(e.label)??""}:{...e,icon:n(e.icon)??"",iconProps:n(e.iconProps)??{},label:n(e.label)??"",visible:n(e.visible)??!0,active:n(e.active)??!1,disabled:n(e.disabled)??!1}}function fi(e,t){const n=gi(e,t);return"group"!==n.type&&!!n.active}function mi(e,t){const n=gi(e,t);return"group"!==n.type&&!!n.disabled}function vi(e,t){const n=gi(e,t);return"group"===n.type?{}:n.iconProps??{}}const yi=class e{constructor(e={},t){this.registry={},this.shortcutMap={},this.eventController=function(){const e=new Map;return{emit(t,n){const o=e.get(t);o&&o.forEach((e=>e(n)))},on(t,n){return e.has(t)||e.set(t,new Set),e.get(t).add(n),()=>this.off(t,n)},off(t,n){const o=e.get(t);o&&(o.delete(n),0===o.size&&e.delete(t))}}}(),this.pluginRegistry=t,this.registerItems(e),this.setupKeyboardListeners()}get state(){return this.pluginRegistry.getStore().getState()}registerItem(e){this.registry[e.id]&&console.warn(`Menu item with ID ${e.id} already exists and will be overwritten`),this.registry[e.id]=e,"shortcut"in e&&e.shortcut&&(this.shortcutMap[this.normalizeShortcut(e.shortcut)]=e.id)}registerItems(e){Object.values(e).forEach((e=>{this.registerItem(e)}))}resolve(e){return gi(this.registry[e],this.state)}getMenuItem(e){const t=this.resolve(e);if(t)return{item:t,isGroup:"group"===t.type,isMenu:"menu"===t.type,isAction:"action"===t.type}}getAction(e){const t=this.getMenuItem(e);if(t&&t.isAction)return t.item}getMenuOrAction(e){const t=this.getMenuItem(e);if(t)return t.item}getAllItems(){return{...this.registry}}getItemsByIds(e){return e.map((e=>this.resolve(e))).filter((e=>void 0!==e))}getChildItems(e,t={}){var n;const o=this.resolve(e);if(!o||!("children"in o)||!(null==(n=o.children)?void 0:n.length))return[];const i=this.getItemsByIds(o.children);if(!t.flatten)return i;const r=[];for(const e of i)if("group"===e.type)r.push(e);else if("menu"===e.type){const t=this.getChildItems(e.id,{flatten:!0});r.push(...t)}else r.push(e);return r}executeCommand(t,n={}){var o;const i=this.getMenuItem(t);if(!i)return void console.warn(`Menu item '${t}' not found`);if("group"===i.item.type)return void console.warn(`Cannot execute group '${t}'`);const{item:r}=i;r.disabled?console.warn(`Menu item '${t}' is disabled`):i.isAction?(r.action(this.pluginRegistry,this.state),this.eventController.emit(e.EVENTS.COMMAND_EXECUTED,{command:r,source:n.source||"api"})):"children"in r&&(null==(o=r.children)?void 0:o.length)&&this.handleSubmenu(r,n)}executeShortcut(t){const n=this.normalizeShortcut(t),o=this.shortcutMap[n];return!!o&&(this.executeCommand(o,{source:"shortcut"}),this.eventController.emit(e.EVENTS.SHORTCUT_EXECUTED,{shortcut:n,itemId:o}),!0)}on(e,t){return this.eventController.on(e,t)}off(e,t){this.eventController.off(e,t)}handleSubmenu(t,n){this.eventController.emit(e.EVENTS.MENU_REQUESTED,{menuId:t.id,triggerElement:n.triggerElement,position:n.position,flatten:n.flatten||!1})}setupKeyboardListeners(){if("undefined"==typeof window)return;document.addEventListener("keydown",(e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return;const n=this.buildShortcutString(e);n&&this.executeShortcut(n)&&e.preventDefault()}))}buildShortcutString(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Meta");const n=e.key;if(!["Control","Shift","Alt","Meta"].includes(n)){const e=1===n.length?n.toUpperCase():n;return[...t,e].join("+")}return null}normalizeShortcut(e){return e.split("+").map((e=>e.trim())).join("+")}capabilities(){return{registerItem:this.registerItem.bind(this),registerItems:this.registerItems.bind(this),executeCommand:this.executeCommand.bind(this),getAction:this.getAction.bind(this),getMenuOrAction:this.getMenuOrAction.bind(this),getChildItems:this.getChildItems.bind(this),getItemsByIds:this.getItemsByIds.bind(this),getAllItems:this.getAllItems.bind(this)}}};yi.EVENTS={COMMAND_EXECUTED:"menu:command_executed",MENU_REQUESTED:"menu:requested",SHORTCUT_EXECUTED:"menu:shortcut_executed"};let bi=yi;const xi=class extends Vn{constructor(e,t,n){super(e,t),this.componentRenderers={},this.components={},this.mapStateCallbacks={},this.globalStoreSubscription=()=>{},this.config=n,this.menuManager=new bi(n.menuItems||{},this.registry),this.setupCommandEventHandlers(),this.globalStoreSubscription=this.registry.getStore().subscribe(((e,t)=>{this.onGlobalStoreChange(t)}))}async initialize(){this.buildComponents(),this.linkGroupedItems(),this.setInitialStateUIComponents()}setupCommandEventHandlers(){this.menuManager.on(bi.EVENTS.MENU_REQUESTED,(e=>{var t;const{menuId:n,triggerElement:o,position:i,flatten:r}=e;if((null==(t=this.state.commandMenu.commandMenu)?void 0:t.activeCommand)===n)return this.dispatch(hi({id:"commandMenu"}));this.dispatch({type:ci,payload:{id:"commandMenu",commandId:n,triggerElement:o,position:i,flatten:r}})})),this.menuManager.on(bi.EVENTS.COMMAND_EXECUTED,(e=>{this.logger.debug("UIPlugin","CommandExecuted",`Command executed: ${e.command.id}`,{commandId:e.command.id,source:e.source})}))}addComponent(e,t){this.components[e]&&this.logger.warn("UIPlugin","ComponentAlreadyExists",`Component with ID ${e} already exists and will be overwritten`);const n=new ri(t,this.componentRenderers);return this.components[e]=n,"function"==typeof t.mapStateToProps&&(this.mapStateCallbacks[e]=t.mapStateToProps),n}buildComponents(){Object.entries(this.config.components).forEach((([e,t])=>{this.addComponent(e,t)}))}linkGroupedItems(){Object.values(this.components).forEach((e=>{var t;if(ki(e)){const n=e.componentConfig;null==(t=n.slots)||t.forEach((t=>{const o=this.components[t.componentId];o?e.addChild(t.componentId,o,t.priority,t.className):this.logger.warn("UIPlugin","ChildComponentNotFound",`Child component ${t.componentId} not found for GroupedItems ${n.id}`)}))}}))}setInitialStateUIComponents(){const e=pi;Object.entries(this.config.components).forEach((([t,n])=>{n.initialState?e[n.type][t]=n.initialState:e[n.type][t]={}})),this.dispatch({type:ai,payload:e})}onGlobalStoreChange(e){for(const[t,n]of Object.entries(this.components)){const o=this.mapStateCallbacks[t];if(!o)continue;const{id:i,...r}=n.props,a=o(e,r);Yn(r,{...r,...a})||n.update(a)}}addSlot(e,t,n,o){const i=this.components[e];if(!i)return void this.logger.error("UIPlugin","ParentComponentNotFound",`Parent component ${e} not found`);if(!ki(i))return void this.logger.error("UIPlugin","ParentComponentDoesNotSupportSlots",`Parent component ${e} does not support slots`);const r=this.components[t];if(!r)return void this.logger.error("UIPlugin","ChildComponentNotFound",`Child component ${t} not found`);const a=i.getChildren();let s=n;if(void 0===s){s=(a.length>0?Math.max(...a.map((e=>e.priority))):0)+10}i.addChild(t,r,s,o)}buildCapability(){return{registerComponentRenderer:(e,t)=>{this.componentRenderers[e]=t},getComponent:e=>this.components[e],registerComponent:this.addComponent.bind(this),getCommandMenu:()=>Object.values(this.components).find((e=>function(e){return"commandMenu"===e.type}(e))),hideCommandMenu:()=>this.cooldownDispatch(hi({id:"commandMenu"}),100),getFloatingComponents:e=>Object.values(this.components).filter((e=>Pi(e))).filter((t=>!e||t.props.scrollerPosition===e)),getHeadersByPlacement:e=>Object.values(this.components).filter((e=>Ci(e))).filter((t=>t.props.placement===e)),getPanelsByLocation:e=>Object.values(this.components).filter((e=>Si(e))).filter((t=>t.props.location===e)),addSlot:this.addSlot.bind(this),togglePanel:e=>{this.dispatch((e=>({type:li,payload:e}))(e))},setHeaderVisible:e=>{this.dispatch((e=>({type:si,payload:e}))(e))},updateComponentState:e=>{this.dispatch((e=>({type:ui,payload:e}))(e))},...this.menuManager.capabilities()}}async destroy(){this.globalStoreSubscription(),this.components={},this.componentRenderers={},this.mapStateCallbacks={}}};xi.id="ui";let wi=xi;function ki(e){return function(e){return"groupedItems"===e.type}(e)||Ci(e)||Si(e)||Pi(e)||function(e){return"custom"===e.type}(e)}function Ci(e){return"header"===e.type}function Si(e){return"panel"===e.type}function Pi(e){return"floating"===e.type}const Mi="ui",Ii={manifest:{id:Mi,name:"UI Plugin",version:"1.0.0",provides:["ui"],requires:[],optional:[],defaultConfig:{enabled:!0,components:{}}},create:(e,t)=>new wi(Mi,e,t),reducer:(e=pi,t)=>{switch(t.type){case ai:return{...e,...t.payload};case li:{const n=e.panel[t.payload.id]||{},{open:o,visibleChild:i}=t.payload,r=n.visibleChild;let a=n.open,s=n.visibleChild;return i===r?a=void 0!==o?o:!n.open:(s=i,a=!0),{...e,panel:{...e.panel,[t.payload.id]:{...n,open:a,visibleChild:s}}}}case si:return{...e,header:{...e.header,[t.payload.id]:{...e.header[t.payload.id],visible:t.payload.visible,visibleChild:t.payload.visibleChild}}};case ci:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{activeCommand:t.payload.commandId,triggerElement:t.payload.triggerElement,position:t.payload.position,open:!0,flatten:t.payload.flatten}}};case di:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{...e.commandMenu[t.payload.id],open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1}}};case ui:{const{componentType:n,componentId:o,patch:i}=t.payload;if(!e[n]||!e[n][o])return e;const r=e[n][o],a=Object.fromEntries(Object.entries(i).filter((([e])=>e in r)));return 0===Object.keys(a).length?e:{...e,[n]:{...e[n],[o]:{...r,...a}}}}default:return e}},initialState:pi},_i=()=>lo(wi.id);function Ti({component:e,parentContext:t={}}){const[n,o]=_e({});Ae((()=>{const t=()=>o({});return e.onUpdate(t)&&o({}),()=>e.offUpdate(t)}),[e]);const i=e.getChildContext(t),r=e.getRenderer();if(!r)throw new Error(`No renderer for type: ${e.getRenderType}`);return r(e.props,(function(t){const n=(null==t?void 0:t.context)?{...i,...t.context}:i;return e.getChildren().filter((({id:e})=>!(null==t?void 0:t.filter)||t.filter(e))).map((({component:e,id:t,className:o})=>o?Ge("div",{className:o,children:Ge(Ti,{component:e,parentContext:n},t)}):Ge(Ti,{component:e,parentContext:n},t)))}),i)}function Ai({children:e}){const{provides:t}=_i(),n=e=>e.map((e=>Ge(Ti,{component:e},e.props.id)));return e({headers:{top:n((null==t?void 0:t.getHeadersByPlacement("top"))||[]),bottom:n((null==t?void 0:t.getHeadersByPlacement("bottom"))||[]),left:n((null==t?void 0:t.getHeadersByPlacement("left"))||[]),right:n((null==t?void 0:t.getHeadersByPlacement("right"))||[])},panels:{left:n((null==t?void 0:t.getPanelsByLocation("left"))||[]),right:n((null==t?void 0:t.getPanelsByLocation("right"))||[])},floating:{insideScroller:n((null==t?void 0:t.getFloatingComponents("inside"))||[]),outsideScroller:n((null==t?void 0:t.getFloatingComponents("outside"))||[])},commandMenu:(null==t?void 0:t.getCommandMenu())?Ge(Ti,{component:t.getCommandMenu()}):null})}var Ri=["id","children","onClick","active","disabled","className","tooltip","ref"];function Ei(e){var t=e.id,n=e.children,o=e.onClick,i=e.active,r=void 0!==i&&i,a=e.disabled,s=void 0!==a&&a,l=e.className,c=void 0===l?"":l,d=e.tooltip,u=e.ref,h=g(e,Ri);return F("button",p({id:t,ref:u,onClick:o,className:"flex h-[32px] w-auto min-w-[32px] items-center justify-center rounded-md p-[5px] transition-colors ".concat(r?"border-none bg-blue-50 text-blue-500 shadow ring ring-blue-500":"hover:bg-gray-100 hover:ring hover:ring-[#1a466b]"," ").concat(s?"cursor-not-allowed opacity-50 hover:bg-transparent hover:ring-0":"cursor-pointer"," ").concat(c," "),title:d},h),n)}const Ni=Math.min,zi=Math.max,Li=Math.round,Oi=Math.floor,Di=e=>({x:e,y:e}),Bi={left:"right",right:"left",bottom:"top",top:"bottom"},$i={start:"end",end:"start"};function Fi(e,t,n){return zi(e,Ni(t,n))}function ji(e,t){return"function"==typeof e?e(t):e}function Hi(e){return e.split("-")[0]}function Ui(e){return e.split("-")[1]}function Wi(e){return"x"===e?"y":"x"}function qi(e){return"y"===e?"height":"width"}function Vi(e){return["top","bottom"].includes(Hi(e))?"y":"x"}function Gi(e){return Wi(Vi(e))}function Zi(e){return e.replace(/start|end/g,(e=>$i[e]))}function Yi(e){return e.replace(/left|right|bottom|top/g,(e=>Bi[e]))}function Xi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ki(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function Qi(e,t,n){let{reference:o,floating:i}=e;const r=Vi(t),a=Gi(t),s=qi(a),l=Hi(t),c="y"===r,d=o.x+o.width/2-i.width/2,u=o.y+o.height/2-i.height/2,h=o[s]/2-i[s]/2;let p;switch(l){case"top":p={x:d,y:o.y-i.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:u};break;case"left":p={x:o.x-i.width,y:u};break;default:p={x:o.x,y:o.y}}switch(Ui(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function Ji(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:r,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=ji(t,e),g=Xi(p),f=s[h?"floating"===u?"reference":"floating":u],m=Ki(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(f)))||n?f:f.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},x=Ki(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(m.top-x.top+g.top)/b.y,bottom:(x.bottom-m.bottom+g.bottom)/b.y,left:(m.left-x.left+g.left)/b.x,right:(x.right-m.right+g.right)/b.x}}function er(){return"undefined"!=typeof window}function tr(e){return ir(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function or(e){var t;return null==(t=(ir(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ir(e){return!!er()&&(e instanceof Node||e instanceof nr(e).Node)}function rr(e){return!!er()&&(e instanceof Element||e instanceof nr(e).Element)}function ar(e){return!!er()&&(e instanceof HTMLElement||e instanceof nr(e).HTMLElement)}function sr(e){return!(!er()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot)}function lr(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=gr(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function cr(e){return["table","td","th"].includes(tr(e))}function dr(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function ur(e){const t=hr(),n=rr(e)?gr(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function hr(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function pr(e){return["html","body","#document"].includes(tr(e))}function gr(e){return nr(e).getComputedStyle(e)}function fr(e){return rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mr(e){if("html"===tr(e))return e;const t=e.assignedSlot||e.parentNode||sr(e)&&e.host||or(e);return sr(t)?t.host:t}function vr(e){const t=mr(e);return pr(t)?e.ownerDocument?e.ownerDocument.body:e.body:ar(t)&&lr(t)?t:vr(t)}function yr(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=vr(e),r=i===(null==(o=e.ownerDocument)?void 0:o.body),a=nr(i);if(r){const e=br(a);return t.concat(a,a.visualViewport||[],lr(i)?i:[],e&&n?yr(e):[])}return t.concat(i,yr(i,[],n))}function br(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xr(e){const t=gr(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=ar(e),r=i?e.offsetWidth:n,a=i?e.offsetHeight:o,s=Li(n)!==r||Li(o)!==a;return s&&(n=r,o=a),{width:n,height:o,$:s}}function wr(e){return rr(e)?e:e.contextElement}function kr(e){const t=wr(e);if(!ar(t))return Di(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=xr(t);let a=(r?Li(n.width):n.width)/o,s=(r?Li(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Cr=Di(0);function Sr(e){const t=nr(e);return hr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Cr}function Pr(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),r=wr(e);let a=Di(1);t&&(o?rr(o)&&(a=kr(o)):a=kr(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==nr(e))&&t}(r,n,o)?Sr(r):Di(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(r){const e=nr(r),t=o&&rr(o)?nr(o):o;let n=e,i=br(n);for(;i&&o&&t!==n;){const e=kr(i),t=i.getBoundingClientRect(),o=gr(i),r=t.left+(i.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(o.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=r,c+=a,n=nr(i),i=br(n)}}return Ki({width:d,height:u,x:l,y:c})}function Mr(e,t){const n=fr(e).scrollLeft;return t?t.left+n:Pr(or(e)).left+n}function Ir(e,t,n){void 0===n&&(n=!1);const o=e.getBoundingClientRect();return{x:o.left+t.scrollLeft-(n?0:Mr(e,o)),y:o.top+t.scrollTop}}function _r(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=nr(e),o=or(e),i=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,s=0,l=0;if(i){r=i.width,a=i.height;const e=hr();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:s,y:l}}(e,n);else if("document"===t)o=function(e){const t=or(e),n=fr(e),o=e.ownerDocument.body,i=zi(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=zi(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Mr(e);const s=-n.scrollTop;return"rtl"===gr(o).direction&&(a+=zi(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:a,y:s}}(or(e));else if(rr(t))o=function(e,t){const n=Pr(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=ar(e)?kr(e):Di(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:i*r.x,y:o*r.y}}(t,n);else{const n=Sr(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ki(o)}function Tr(e,t){const n=mr(e);return!(n===t||!rr(n)||pr(n))&&("fixed"===gr(n).position||Tr(n,t))}function Ar(e,t,n){const o=ar(t),i=or(t),r="fixed"===n,a=Pr(e,!0,r,t);let s={scrollLeft:0,scrollTop:0};const l=Di(0);if(o||!o&&!r)if(("body"!==tr(t)||lr(i))&&(s=fr(t)),o){const e=Pr(t,!0,r,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Mr(i));const c=!i||o||r?Di(0):Ir(i,s);return{x:a.left+s.scrollLeft-l.x-c.x,y:a.top+s.scrollTop-l.y-c.y,width:a.width,height:a.height}}function Rr(e){return"static"===gr(e).position}function Er(e,t){if(!ar(e)||"fixed"===gr(e).position)return null;if(t)return t(e);let n=e.offsetParent;return or(e)===n&&(n=n.ownerDocument.body),n}function Nr(e,t){const n=nr(e);if(dr(e))return n;if(!ar(e)){let t=mr(e);for(;t&&!pr(t);){if(rr(t)&&!Rr(t))return t;t=mr(t)}return n}let o=Er(e,t);for(;o&&cr(o)&&Rr(o);)o=Er(o,t);return o&&pr(o)&&Rr(o)&&!ur(o)?n:o||function(e){let t=mr(e);for(;ar(t)&&!pr(t);){if(ur(t))return t;if(dr(t))return null;t=mr(t)}return null}(e)||n}const zr={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r="fixed"===i,a=or(o),s=!!t&&dr(t.floating);if(o===a||s&&r)return n;let l={scrollLeft:0,scrollTop:0},c=Di(1);const d=Di(0),u=ar(o);if((u||!u&&!r)&&(("body"!==tr(o)||lr(a))&&(l=fr(o)),ar(o))){const e=Pr(o);c=kr(o),d.x=e.x+o.clientLeft,d.y=e.y+o.clientTop}const h=!a||u||r?Di(0):Ir(a,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:or,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[..."clippingAncestors"===n?dr(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=yr(e,[],!1).filter((e=>rr(e)&&"body"!==tr(e))),i=null;const r="fixed"===gr(e).position;let a=r?mr(e):e;for(;rr(a)&&!pr(a);){const t=gr(a),n=ur(a);n||"fixed"!==t.position||(i=null),(r?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||lr(a)&&!n&&Tr(e,a))?o=o.filter((e=>e!==a)):i=t,a=mr(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=r[0],s=r.reduce(((e,n)=>{const o=_r(t,n,i);return e.top=zi(o.top,e.top),e.right=Ni(o.right,e.right),e.bottom=Ni(o.bottom,e.bottom),e.left=zi(o.left,e.left),e}),_r(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Nr,getElementRects:async function(e){const t=this.getOffsetParent||Nr,n=this.getDimensions,o=await n(e.floating);return{reference:Ar(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=xr(e);return{width:t,height:n}},getScale:kr,isElement:rr,isRTL:function(e){return"rtl"===gr(e).direction}};function Lr(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Or(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=o,c=wr(e),d=i||r?[...c?yr(c):[],...yr(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),r&&e.addEventListener("resize",n)}));const u=c&&s?function(e,t){let n,o=null;const i=or(e);function r(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),r();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(s||t(),!h||!p)return;const g={rootMargin:-Oi(u)+"px "+-Oi(i.clientWidth-(d+h))+"px "+-Oi(i.clientHeight-(u+p))+"px "+-Oi(d)+"px",threshold:zi(0,Ni(1,l))||1};let f=!0;function m(t){const o=t[0].intersectionRatio;if(o!==l){if(!f)return a();o?a(!1,o):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==o||Lr(c,e.getBoundingClientRect())||a(),f=!1}try{o=new IntersectionObserver(m,{...g,root:i.ownerDocument})}catch(e){o=new IntersectionObserver(m,g)}o.observe(e)}(!0),r}(c,n):null;let h,p=-1,g=null;a&&(g=new ResizeObserver((e=>{let[o]=e;o&&o.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=g)||e.observe(t)}))),n()})),c&&!l&&g.observe(c),g.observe(t));let f=l?Pr(e):null;return l&&function t(){const o=Pr(e);f&&!Lr(f,o)&&n();f=o,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),r&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(h)}}const Dr=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:r,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:o,elements:i}=e,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=Hi(n),s=Ui(n),l="y"===Vi(n),c=["left","top"].includes(a)?-1:1,d=r&&l?-1:1,u=ji(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return s&&"number"==typeof g&&(p="end"===s?-1*g:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(o=s.arrow)&&o.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},Br=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=ji(e,t),c={x:n,y:o},d=await Ji(t,l),u=Vi(Hi(i)),h=Wi(u);let p=c[h],g=c[u];if(r){const e="y"===h?"bottom":"right";p=Fi(p+d["y"===h?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";g=Fi(g+d["y"===u?"top":"left"],g,g-d[e])}const f=s.fn({...t,[h]:p,[u]:g});return{...f,data:{x:f.x-n,y:f.y-o,enabled:{[h]:r,[u]:a}}}}}},$r=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:f=!0,...m}=ji(e,t);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const v=Hi(i),y=Vi(s),b=Hi(s)===s,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=h||(b||!f?[Yi(s)]:function(e){const t=Yi(e);return[Zi(e),t,Zi(t)]}(s)),k="none"!==g;!h&&k&&w.push(...function(e,t,n,o){const i=Ui(e);let r=function(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:a;default:return[]}}(Hi(e),"start"===n,o);return i&&(r=r.map((e=>e+"-"+i)),t&&(r=r.concat(r.map(Zi)))),r}(s,f,g,x));const C=[s,...w],S=await Ji(t,m),P=[];let M=(null==(o=r.flip)?void 0:o.overflows)||[];if(d&&P.push(S[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const o=Ui(e),i=Gi(e),r=qi(i);let a="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=Yi(a)),[a,Yi(a)]}(i,a,x);P.push(S[e[0]],S[e[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every((e=>e<=0))){var I,_;const e=((null==(I=r.flip)?void 0:I.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:M},reset:{placement:t}};let n=null==(_=M.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:_.placement;if(!n)switch(p){case"bestFit":{var T;const e=null==(T=M.filter((e=>{if(k){const t=Vi(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:T[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},Fr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:r,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=ji(e,t)||{};if(null==c)return{};const u=Xi(d),h={x:n,y:o},p=Gi(i),g=qi(p),f=await a.getDimensions(c),m="y"===p,v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",x=r.reference[g]+r.reference[p]-h[p]-r.floating[g],w=h[p]-r.reference[p],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let C=k?k[b]:0;C&&await(null==a.isElement?void 0:a.isElement(k))||(C=s.floating[b]||r.floating[g]);const S=x/2-w/2,P=C/2-f[g]/2-1,M=Ni(u[v],P),I=Ni(u[y],P),_=M,T=C-f[g]-I,A=C/2-f[g]/2+S,R=Fi(_,A,T),E=!l.arrow&&null!=Ui(i)&&A!==R&&r.reference[g]/2-(A<_?M:I)-f[g]/2<0,N=E?A<_?A-_:A-T:0;return{[p]:h[p]+N,data:{[p]:R,centerOffset:A-R-N,...E&&{alignmentOffset:N}},reset:E}}}),jr=(e,t,n)=>{const o=new Map,i={platform:zr,...n},r={...i.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,s=r.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Qi(c,o,l),h=o,p={},g=0;for(let n=0;n<s.length;n++){const{name:r,fn:f}=s[n],{x:m,y:v,data:y,reset:b}=await f({x:d,y:u,initialPlacement:o,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=v?v:u,p={...p,[r]:{...p[r],...y}},b&&g<=50&&(g++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=Qi(c,h,l))),n=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:r})};var Hr=function(){function e(){return i(this,e),o(this,e,arguments)}return d(e,W),a(e,[{key:"render",value:function(){return this.props.children}}])}();function Ur(e){var t=e.children,n=e.content,o=e.position,i=void 0===o?"top":o,r=e.className,a=void 0===r?"":r,s=e.delay,c=void 0===s?200:s,d=e.style,u=void 0===d?"dark":d,h=e.trigger,p=void 0===h?"hover":h,g=Ee(null),f=Ee(null),m=Ee(null),y=v(_e(!1),2),b=y[0],x=y[1],w=Ee(null);return Ae((function(){var e;if(null!==(e=g.current)&&void 0!==e&&e.base&&f.current)return Or(g.current.base,f.current,(function(){jr(g.current.base,f.current,{placement:i,middleware:[Dr(8),$r(),Br({padding:8}),Fr({element:m.current,padding:6})]}).then((function(e){var t,n=e.x,o=e.y,i=e.placement,r=e.middlewareData;Object.assign(f.current.style,{left:"".concat(n,"px"),top:"".concat(o,"px")});var a=null!==(t=r.arrow)&&void 0!==t?t:{},s=a.x,c=a.y,d={top:"bottom",bottom:"top",left:"right",right:"left"}[i.split("-")[0]];Object.assign(m.current.style,l({left:null!=s?"".concat(s,"px"):"",top:null!=c?"".concat(c,"px"):"",right:"",bottom:""},d,"-4px"))}))}))}),[i,b]),Ae((function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.base,n=f.current;if(t&&n){var o=function(){w.current&&clearTimeout(w.current)},i=function(){o(),w.current=setTimeout((function(){return x(!0)}),c)},r=function(){o(),x(!1)},a=function(){return x((function(e){return!e}))};return"hover"===p?(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",r),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),t.addEventListener("pointerdown",r)):"click"===p&&t.addEventListener("click",a),"none"===p&&(w.current&&clearTimeout(w.current),x(!1)),function(){o(),"hover"===p?(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",r),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),t.removeEventListener("pointerdown",r)):"click"===p&&t.removeEventListener("click",a)}}}),[p,c]),F(U,null,F("div",{ref:f,role:"tooltip",className:"z-100 pointer-events-none absolute select-none whitespace-nowrap rounded-lg px-3 py-2 text-sm shadow-md transition-opacity duration-150 ".concat("dark"===u?"bg-gray-900 text-white":"border border-gray-200 bg-white text-gray-900"," ").concat(b?"opacity-100":"opacity-0"," ").concat(a," "),style:{visibility:b?"visible":"hidden"}},n,F("div",{ref:m,className:"absolute h-2 w-2 rotate-45 bg-inherit ".concat("light"===u?"border border-gray-200":""," ")})),F(Hr,{ref:g},t))}function Wr(e){var t=e.open,n=e.trigger,o=e.children,i=e.placement,r=void 0===i?"bottom-start":i,a=e.offsetSkidding,s=void 0===a?-2:a,l=e.offsetDistance,c=void 0===l?5:l,d=e.delay,u=void 0===d?0:d,h=e.onShow,g=e.onHide,f=e.className,m=Ee(null),y=v(_e({x:0,y:0}),2),b=y[0],x=y[1],w=function(e){return e&&{top:"top-start",bottom:"bottom-start",left:"left-start",right:"right-start"}[e]||e||"bottom-start"}(r);return Ae((function(){var e=n,o=m.current;if(o&&(t?(o.style.display="block",null==h||h()):(u?setTimeout((function(){return o.style.display="none"}),u):o.style.display="none",null==g||g()),e&&t)){var i=Or(e,o,(function(){jr(e,o,{placement:w,strategy:"absolute",middleware:[Dr({mainAxis:c,crossAxis:s}),$r(),Br({padding:8})]}).then((function(e){var t=e.x,n=e.y;x({x:t,y:n})}))}));return function(){return i()}}}),[t,n,r,s,c,u]),Ae((function(){if(t){var e=m.current;if(e){var o=function(t){var o,i,r=null!==(o=null===(i=t.composedPath)||void 0===i?void 0:i.call(t))&&void 0!==o?o:[t.target];n&&r.includes(n)||r.includes(e)||null==g||g()};return window.addEventListener("pointerdown",o,!0),function(){return window.removeEventListener("pointerdown",o,!0)}}}}),[t,n,g]),F("div",{ref:m,style:p({},n&&{display:"none",left:"".concat(b.x,"px"),top:"".concat(b.y,"px")}),className:"absolute z-50 min-w-[8rem] divide-y divide-gray-100 rounded-lg border border-[#cfd4da] bg-white shadow-sm transition-opacity duration-150 focus:outline-none ".concat(t?"opacity-100":"opacity-0"," ").concat(!n&&"bottom-0 left-0 right-0"," ").concat(f," ")},F("div",{className:"flex flex-col py-2"},o))}var qr=(e=>(e.Automatic="automatic",e.FitPage="fit-page",e.FitWidth="fit-width",e))(qr||{}),Vr=(e=>(e[e.Center=0]="Center",e[e.Top=1]="Top",e))(Vr||{});const Gr="zoom",Zr={id:Gr,name:"Zoom Plugin",version:"1.0.0",provides:["zoom"],requires:["viewport","scroll"],optional:["interaction-manager"],defaultConfig:{enabled:!0,defaultZoomLevel:qr.Automatic,minZoom:.2,maxZoom:60,zoomStep:.1,zoomRanges:[{min:.2,max:.5,step:.05},{min:.5,max:1,step:.1},{min:1,max:2,step:.2},{min:2,max:4,step:.4},{min:4,max:10,step:.8},{min:10,max:20,step:1.6},{min:20,max:40,step:3.2},{min:40,max:60,step:6.4}],presets:[{name:"Fit Page",value:qr.FitPage},{name:"Fit Width",value:qr.FitWidth},{name:"Automatic",value:qr.Automatic},{name:"25%",value:.25},{name:"50%",value:.5},{name:"100%",value:1},{name:"125%",value:1.25},{name:"150%",value:1.5},{name:"200%",value:2},{name:"400%",value:4},{name:"800%",value:8},{name:"1600%",value:16}]}},Yr="SET_ZOOM_LEVEL",Xr="SET_INITIAL_ZOOM_LEVEL";const Kr={zoomLevel:qr.Automatic,currentZoomLevel:1};const Qr=class extends Vn{constructor(e,t,n){var o;super(e,t),this.zoom$=Jn(),this.state$=eo(),this.viewportPlugin=t.getPlugin("viewport"),this.viewport=this.viewportPlugin.provides(),this.scroll=t.getPlugin("scroll").provides();const i=t.getPlugin("interaction-manager");var r;this.interactionManager=(null==i?void 0:i.provides())??null,this.minZoom=n.minZoom??.25,this.maxZoom=n.maxZoom??10,this.zoomStep=n.zoomStep??.1,this.presets=n.presets??[],this.zoomRanges=this.normalizeRanges(n.zoomRanges??[]),this.dispatch((r=n.defaultZoomLevel,{type:Xr,payload:{zoomLevel:r}})),this.viewport.onViewportResize((()=>this.recalcAuto(Vr.Top)),{mode:"debounce",wait:150}),this.coreStore.onAction(Ln,(()=>this.recalcAuto(Vr.Top))),this.coreStore.onAction(On,(()=>this.recalcAuto(Vr.Top))),this.coreStore.onAction(En,(()=>this.recalcAuto(Vr.Top))),null==(o=this.interactionManager)||o.registerMode({id:"marqueeZoom",scope:"page",exclusive:!0,cursor:"zoom-in"}),this.resetReady()}buildCapability(){return{onZoomChange:this.zoom$.on,onStateChange:this.state$.on,zoomIn:()=>this.zoomIn(),zoomOut:()=>this.zoomOut(),zoomToArea:(e,t)=>this.zoomToArea(e,t),requestZoom:(e,t)=>this.handleRequest({level:e,center:t}),requestZoomBy:(e,t)=>{const n=this.state.currentZoomLevel,o=this.toZoom(n+e);return this.handleRequest({level:o,center:t})},enableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activate("marqueeZoom")},disableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activateDefaultMode()},toggleMarqueeZoom:()=>{var e,t,n;"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("marqueeZoom")},isMarqueeZoomActive:()=>{var e;return"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e),getState:()=>this.state,getPresets:()=>this.presets}}zoomOut(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:-this.stepFor(e)})}zoomIn(){const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:this.stepFor(e)})}zoomToArea(e,t){this.handleZoomToArea(e,t)}async initialize(){this.markReady()}async destroy(){this.zoom$.clear()}normalizeRanges(e){return[...e].filter((e=>e.step>0&&e.max>e.min)).sort(((e,t)=>e.min-t.min))}stepFor(e){const t=this.zoomRanges.find((t=>e>=t.min&&e<t.max));return t?t.step:this.zoomStep}toZoom(e){return parseFloat(Zn(e,this.minZoom,this.maxZoom).toFixed(2))}handleRequest({level:e,delta:t=0,center:n,focus:o=Vr.Center,align:i="keep"}){const r=this.viewport.getMetrics(),a=this.state.currentZoomLevel;if(0===r.clientWidth||0===r.clientHeight)return;const s="number"==typeof e?e:this.computeZoomForMode(e,r);if(!1===s)return;const l=Zn(s+t,this.minZoom,this.maxZoom),c=Math.floor(1e3*l)/1e3,d=n??{vx:r.clientWidth/2,vy:o===Vr.Top?0:r.clientHeight/2},{desiredScrollLeft:u,desiredScrollTop:h}=this.computeScrollForZoomChange(r,a,c,d,i);isNaN(u)||isNaN(h)||this.viewportPlugin.setViewportScrollMetrics({scrollLeft:u,scrollTop:h}),this.dispatch({type:Yr,payload:{zoomLevel:"number"==typeof e?c:e,currentZoomLevel:c}}),this.dispatchCoreAction({type:zn,payload:c}),this.markReady(),this.viewport.scrollTo({x:u,y:h,behavior:"instant"});const p={oldZoom:a,newZoom:c,level:e,center:d,desiredScrollLeft:u,desiredScrollTop:h,viewport:r};this.zoom$.emit(p)}computeZoomForMode(e,t){const n=jn(this.coreState.core);if(!n.length)return!1;const o=this.scroll.getPageGap(),i=this.viewport.getViewportGap();if(0===t.clientWidth||0===t.clientHeight)return!1;const r=t.clientWidth-2*i,a=t.clientHeight-2*i;if(r<=0||a<=0)return!1;let s=0,l=0;switch(n.forEach((e=>{const t=e.reduce(((e,t,n)=>e+t.rotatedSize.width+(n?o:0)),0),n=Math.max(...e.map((e=>e.rotatedSize.height)));s=Math.max(s,t),l=Math.max(l,n)})),e){case qr.FitWidth:return r/s;case qr.FitPage:return Math.min(r/s,a/l);case qr.Automatic:return Math.min(r/s,1);default:return 1}}computeScrollForZoomChange(e,t,n,o,i="keep"){const r=this.scroll.getLayout(),a=this.viewport.getViewportGap(),s=r.totalContentSize.width,l=r.totalContentSize.height,c=e.clientWidth-2*a,d=e.clientHeight-2*a,u=(e,t,n)=>t*n<e?(e-t*n)/2:0,h=u(c,s,t),p=u(d,l,t),g=u(c,s,n),f=u(d,l,n),m=(e.scrollLeft+o.vx-a-h)/t*n+a+g,v=(e.scrollTop+o.vy-a-p)/t*n+a+f,y="center"===i?m-e.clientWidth/2:m-o.vx,b="center"===i?v-e.clientHeight/2:v-o.vy;return{desiredScrollLeft:Math.max(0,y),desiredScrollTop:Math.max(0,b)}}handleZoomToArea(e,t){const n=this.coreState.core.rotation,o=this.viewport.getMetrics(),i=this.viewport.getViewportGap(),r=this.state.currentZoomLevel,a=o.clientWidth-2*i,s=o.clientHeight-2*i,l=this.scroll.getLayout(),c=l.virtualItems.find((t=>t.pageLayouts.some((t=>t.pageIndex===e))));if(!c)return;const d=c.pageLayouts.find((t=>t.pageIndex===e)),u=at({width:d.width,height:d.height},t,n),h=this.toZoom(Math.min(a/u.size.width,s/u.size.height)),p=c.x+d.x,g=c.y+d.y,f=p+u.origin.x+u.size.width/2,m=g+u.origin.y+u.size.height/2,v=(e,t,n)=>t*n<e?(e-t*n)/2:0,y=v(a,l.totalContentSize.width,r),b=v(s,l.totalContentSize.height,r),x=i+y+f*r-o.scrollLeft,w=i+b+m*r-o.scrollTop;this.handleRequest({level:h,center:{vx:x,vy:w},align:"center"})}recalcAuto(e){const t=this.state;t.zoomLevel!==qr.Automatic&&t.zoomLevel!==qr.FitPage&&t.zoomLevel!==qr.FitWidth||this.handleRequest({level:t.zoomLevel,focus:e})}onStoreUpdated(e,t){this.state$.emit(t)}registerMarqueeOnPage(e){if(!this.interactionManager)return this.logger.warn("ZoomPlugin","MissingDependency","Interaction manager plugin not loaded, marquee zoom disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("ZoomPlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("ZoomPlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r,onSmallDrag:a}=e;let s=null,l=null;return{onPointerDown:(e,t)=>{var n;s=e,l={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(l),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!s)return;const n=Zn(e.x,0,t.width),o=Zn(e.y,0,t.height);l={origin:{x:Math.min(s.x,n),y:Math.min(s.y,o)},size:{width:Math.abs(n-s.x),height:Math.abs(o-s.y)}},null==i||i(l)},onPointerUp:(e,t)=>{var c;l&&(Math.max(l.size.width,l.size.height)*n>o?null==r||r(l):null==a||a()),s=null,l=null,null==i||i(null),null==(c=t.releasePointerCapture)||c.call(t)},onPointerCancel:(e,t)=>{var n;s=null,l=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.zoomToArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)},onSmallDrag:()=>{var t,n;this.zoomIn(),null==(n=(t=e.callback).onSmallDrag)||n.call(t)}});return this.interactionManager.registerHandlers({modeId:"marqueeZoom",handlers:o,pageIndex:e.pageIndex})}};Qr.id="zoom";let Jr=Qr;const ea={manifest:Zr,create:(e,t)=>new Jr(Gr,e,t),reducer:(e=Kr,t)=>{switch(t.type){case Yr:return{...e,zoomLevel:t.payload.zoomLevel,currentZoomLevel:t.payload.currentZoomLevel};case Xr:return{...e,zoomLevel:t.payload.zoomLevel};default:return e}},initialState:Kr},ta=()=>lo(Jr.id);function na({element:e,viewportProvides:t,zoomProvides:n}){if("undefined"==typeof window)return()=>{};let o,i=0,r={x:0,y:0};const a=()=>{e.style.transform="none",e.style.transformOrigin="0 0"},s=o=>{var a;i=n.getState().currentZoomLevel;const s=t.getBoundingRect();r={x:o.center.x-s.origin.x,y:o.center.y-s.origin.y};const l=e.getBoundingClientRect();e.style.transformOrigin=`${o.center.x-l.left}px ${o.center.y-l.top}px`,(null==(a=o.srcEvent)?void 0:a.cancelable)&&(o.srcEvent.preventDefault(),o.srcEvent.stopPropagation())},l=t=>{var n,o;o=t.scale,e.style.transform=`scale(${o})`,(null==(n=t.srcEvent)?void 0:n.cancelable)&&(t.srcEvent.preventDefault(),t.srcEvent.stopPropagation())},c=e=>{const t=(e.scale-1)*i;n.requestZoomBy(t,{vx:r.x,vy:r.y}),a(),i=0};return(async()=>{try{const t=(await import("./hammer-e1aXHboh-6cda5c0f.js").then((e=>e.h))).default,n=(()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0;return e&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?t.TouchInput:e?t.TouchMouseInput:t.MouseInput})();o=new t(e,{touchAction:"pan-x pan-y",inputClass:n}),o.get("pinch").set({enable:!0,pointers:2,threshold:.1}),o.on("pinchstart",s),o.on("pinchmove",l),o.on("pinchend",c)}catch(e){console.warn("Failed to load HammerJS:",e)}})(),()=>{null==o||o.destroy(),a()}}function oa({children:e,style:t,...n}){const{elementRef:o}=function(){const{provides:e}=lo("viewport"),{provides:t}=ta(),n=Ee(null);return Ae((()=>{const o=n.current;if(o&&e&&t)return na({element:o,viewportProvides:e,zoomProvides:t})}),[e,t]),{elementRef:n}}();return Ge("div",{ref:o,...n,style:{...t,display:"block",width:"fit-content",overflow:"visible",boxSizing:"border-box",margin:"0px auto"},children:e})}const ia=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=ta(),[a,s]=_e(null);return Ae((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:s}})}),[r,e,t]),a?Ge("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};var ra={download:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),F("path",{d:"M7 11l5 5l5 -5"}),F("path",{d:"M12 4l0 12"}))},menu:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 8l16 0"}),F("path",{d:"M4 16l16 0"}))},fullscreen:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),F("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),F("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),F("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}))},fullscreenExit:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 8v-2c0 -.551 .223 -1.05 .584 -1.412"}),F("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),F("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),F("path",{d:"M16 20h2c.545 0 1.04 -.218 1.4 -.572"}),F("path",{d:"M3 3l18 18"}))},save:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),F("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),F("path",{d:"M14 4l0 4l-6 0l0 -4"}))},print:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"}),F("path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"}),F("path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"}))},settings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),F("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}))},viewSettings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),F("path",{d:"M12 10.5v1.5"}),F("path",{d:"M12 16v1.5"}),F("path",{d:"M15.031 12.25l-1.299 .75"}),F("path",{d:"M10.268 15l-1.3 .75"}),F("path",{d:"M15 15.803l-1.285 -.773"}),F("path",{d:"M10.285 12.97l-1.285 -.773"}),F("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),F("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}))},rotateClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5"}))},rotateCounterClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"}))},singlePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"}))},doublePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"}))},zoomIn:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),F("path",{d:"M9 12h6"}),F("path",{d:"M12 9v6"}))},zoomOut:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),F("path",{d:"M9 12l6 0"}))},fitToWidth:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),F("path",{d:"M10 18h-7"}),F("path",{d:"M21 18h-7"}),F("path",{d:"M6 15l-3 3l3 3"}),F("path",{d:"M18 15l3 3l-3 3"}))},fitToPage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}),F("path",{d:"M18 14v7"}),F("path",{d:"M18 3v7"}),F("path",{d:"M15 18l3 3l3 -3"}),F("path",{d:"M15 6l3 -3l3 3"}))},chevronRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M9 6l6 6l-6 6"}))},chevronLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M15 6l-6 6l6 6"}))},chevronDown:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6 9l6 6l6 -6"}))},search:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),F("path",{d:"M21 21l-6 -6"}))},comment:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 11v.01"}),F("path",{d:"M8 11v.01"}),F("path",{d:"M16 11v.01"}),F("path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3z"}))},sidebar:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),F("path",{d:"M14 18v-12a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2z"}))},dots:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),F("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),F("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},vertical:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M8 7l4 -4l4 4"}),F("path",{d:"M8 17l4 4l4 -4"}),F("path",{d:"M12 3l0 18"}))},horizontal:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7 8l-4 4l4 4"}),F("path",{d:"M17 8l4 4l-4 4"}),F("path",{d:"M3 12l18 0"}))},book:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),F("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),F("path",{d:"M3 6l0 13"}),F("path",{d:"M12 6l0 13"}),F("path",{d:"M21 6l0 13"}))},book2:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z"}),F("path",{d:"M19 16h-12a2 2 0 0 0 -2 2"}),F("path",{d:"M9 8h6"}))},squares:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z"}),F("path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3"}))},listTree:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M9 6h11"}),F("path",{d:"M12 12h8"}),F("path",{d:"M15 18h5"}),F("path",{d:"M5 6v.01"}),F("path",{d:"M8 12v.01"}),F("path",{d:"M11 18v.01"}))},paperclip:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"}))},copy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),F("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}))},underline:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 20h16",stroke:a}),F("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),F("path",{d:"M8 10h8",stroke:"#000000"}))},squiggly:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),F("path",{d:"M8 10h8",stroke:"#000000"}),F("path",{d:"M4 20c1.5 -1.5 3.5 -1.5 5 0s3.5 1.5 5 0 3.5 -1.5 5 0",stroke:a}))},strikethrough:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),F("path",{d:"M4 10h16",stroke:a}))},highlight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("rect",{x:"2",y:"6",width:"20",height:"16",rx:"2",fill:a,stroke:"none"}),F("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),F("path",{d:"M8 10h8",stroke:"#000000"}))},palette:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),F("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),F("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),F("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},x:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M18 6l-12 12"}),F("path",{d:"M6 6l12 12"}))},fileImport:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),F("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))},hand:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),F("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),F("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),F("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}))},zoomInArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M15 13v4"}),F("path",{d:"M13 15h4"}),F("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),F("path",{d:"M22 22l-3 -3"}),F("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),F("path",{d:"M3 11v-1"}),F("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),F("path",{d:"M10 3h1"}),F("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"}))},screenshot:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7 19a2 2 0 0 1 -2 -2"}),F("path",{d:"M5 13v-2"}),F("path",{d:"M5 7a2 2 0 0 1 2 -2"}),F("path",{d:"M11 5h2"}),F("path",{d:"M17 5a2 2 0 0 1 2 2"}),F("path",{d:"M19 11v2"}),F("path",{d:"M19 17v4"}),F("path",{d:"M21 19h-4"}),F("path",{d:"M13 19h-2"}))},arrowBackUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M9 14l-4 -4l4 -4"}),F("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}))},arrowForwardUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M15 14l4 -4l-4 -4"}),F("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}))},trash:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 7l16 0"}),F("path",{d:"M10 11l0 6"}),F("path",{d:"M14 11l0 6"}),F("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),F("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))},deviceFloppy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),F("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),F("path",{d:"M14 4l0 4l-6 0l0 -4"}))},pencilMarker:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":i,class:e.className,role:"img","aria-label":e.title},F("g",{transform:"rotate(47.565 12.1875 10.75)"},F("path",{stroke:"#000000",d:"m14.18752,16.75l0,-12c0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2l0,12l2,2l2,-2z"}),F("path",{stroke:"#000000",d:"m10.18752,6.75l4,0"})),F("path",{stroke:a,d:"m19.37499,20.125c0.56874,0.0625 -4.04999,-0.5625 -6.41249,-0.4375c-2.3625,0.125 -4.75833,1.22916 -6.85624,1.625c-1.76458,0.6875 -3.40416,-0.9375 -1.98125,-2.49999"}))},circle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,s=e.secondaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===s?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}))},square:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,s=e.secondaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===s?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}))},line:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M20 4l-16 16"}))},lineArrow:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M20 4l-16 16"}),F("path",{d:"M16 3h5v5"}))},polygon:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,s=e.secondaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===s?"none":s,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M13.163 2.168l8.021 5.828c.694 .504 .984 1.397 .719 2.212l-3.064 9.43a1.978 1.978 0 0 1 -1.881 1.367h-9.916a1.978 1.978 0 0 1 -1.881 -1.367l-3.064 -9.43a1.978 1.978 0 0 1 .719 -2.212l8.021 -5.828a1.978 1.978 0 0 1 2.326 0z"}))},zigzag:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{d:"M12 2.4L21.36 11.76L2.64 12.24L12 21.6"}))},text:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0"}),F("path",{d:"M14 19v-10.5a3.5 3.5 0 0 1 7 0v10.5"}),F("path",{d:"M14 13h7"}),F("path",{d:"M10 12v7"}))},italic:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M11 5l6 0"}),F("path",{d:"M7 19l6 0"}),F("path",{d:"M14 5l-4 14"}))},bold:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),F("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))},alignLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 6l16 0"}),F("path",{d:"M4 12l10 0"}),F("path",{d:"M4 18l14 0"}))},alignCenter:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 6l16 0"}),F("path",{d:"M8 12l8 0"}),F("path",{d:"M6 18l12 0"}))},alignRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M4 6l16 0"}),F("path",{d:"M10 12l10 0"}),F("path",{d:"M6 18l14 0"}))},alignTop:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),F("path",{d:"M11 13h2"}),F("path",{d:"M9 10h6"}),F("path",{d:"M10 7h4"}))},alignMiddle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),F("path",{d:"M11 15h2"}),F("path",{d:"M9 12h6"}),F("path",{d:"M10 9h4"}))},alignBottom:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),F("path",{d:"M11 17h2"}),F("path",{d:"M9 14h6"}),F("path",{d:"M10 11h4"}))},photo:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M15 8h.01"}),F("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),F("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),F("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}))},pointer:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"}))},redact:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M7 4h10"}),F("path",{d:"M12 4v8"}),F("defs",null,F("clipPath",{id:"stripeClip"},F("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2"}))),F("rect",{x:"2",y:"12",width:"20",height:"10",rx:"2",fill:"none"}),F("g",{"clip-path":"url(#stripeClip)"},F("path",{d:"M-7 24l12 -12"}),F("path",{d:"M-3 24l12 -12"}),F("path",{d:"M1 24l12 -12"}),F("path",{d:"M5 24l12 -12"}),F("path",{d:"M9 24l12 -12"}),F("path",{d:"M13 24l12 -12"}),F("path",{d:"M17 24l12 -12"}),F("path",{d:"M21 24l12 -12"}),F("path",{d:"M25 24l12 -12"})))},redactArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6 20h-1a2 2 0 0 1 -2 -2v-1"}),F("path",{d:"M3 13v-3"}),F("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),F("path",{d:"M10 3h3"}),F("path",{d:"M17 3h1a2 2 0 0 1 2 2v1"}),F("defs",null,F("clipPath",{id:"redactClip"},F("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2"}))),F("rect",{x:"10",y:"10",width:"12",height:"12",rx:"2",fill:"none"}),F("g",{"clip-path":"url(#redactClip)"},F("path",{d:"M-2 24l14 -14"}),F("path",{d:"M2 24l14 -14"}),F("path",{d:"M6 24l14 -14"}),F("path",{d:"M10 24l15 -15"}),F("path",{d:"M14 24l15 -15"}),F("path",{d:"M18 24l15 -15"})))},check:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return F("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M5 12l5 5l10 -10"}))}},aa=["icon","title","size","strokeWidth","primaryColor","secondaryColor","className"];function sa(e){var t=e.icon,n=e.title,o=e.size,i=void 0===o?24:o,r=e.strokeWidth,a=void 0===r?2:r,s=e.primaryColor,l=void 0===s?"currentColor":s,c=e.secondaryColor,d=e.className,u=g(e,aa),h=ra[t];return h?F(h,p({size:i,strokeWidth:a,primaryColor:l,secondaryColor:c,className:d,title:n},u)):(console.warn("Icon not found: ".concat(t)),null)}const la="START_SEARCH_SESSION",ca="STOP_SEARCH_SESSION",da="SET_SEARCH_FLAGS",ua="SET_SHOW_ALL_RESULTS",ha="START_SEARCH",pa="SET_SEARCH_RESULTS",ga="APPEND_SEARCH_RESULTS",fa="SET_ACTIVE_RESULT_INDEX";function ma(e){return{type:da,payload:e}}function va(e){return{type:ua,payload:e}}function ya(e,t,n){return{type:pa,payload:{results:e,total:t,activeResultIndex:n}}}function ba(e){return{type:fa,payload:e}}const xa=class extends Vn{constructor(e,t){super(e,t),this.searchStop$=eo(),this.searchStart$=eo(),this.searchResult$=eo(),this.searchActiveResultChange$=eo(),this.searchResultState$=eo(),this.searchState$=eo(),this.loader=this.registry.getPlugin("loader").provides(),this.loader.onDocumentLoaded(this.handleDocumentLoaded.bind(this)),this.loader.onLoaderEvent(this.handleLoaderEvent.bind(this))}handleDocumentLoaded(e){this.currentDocument=e,this.state.active&&this.startSearchSession()}handleLoaderEvent(e){("error"===e.type||"start"===e.type&&this.currentDocument)&&(this.state.active&&this.stopSearchSession(),this.currentDocument=void 0)}async initialize(e){this.dispatch(ma(e.flags||[])),this.dispatch(va(void 0===e.showAllResults||e.showAllResults))}onStoreUpdated(e,t){this.searchResultState$.emit({results:t.results,activeResultIndex:t.activeResultIndex,showAllResults:t.showAllResults,active:t.active}),this.searchState$.emit(t)}buildCapability(){return{startSearch:this.startSearchSession.bind(this),stopSearch:this.stopSearchSession.bind(this),searchAllPages:this.searchAllPages.bind(this),nextResult:this.nextResult.bind(this),previousResult:this.previousResult.bind(this),goToResult:this.goToResult.bind(this),setShowAllResults:e=>this.dispatch(va(e)),getShowAllResults:()=>this.state.showAllResults,onSearchResult:this.searchResult$.on,onSearchStart:this.searchStart$.on,onSearchStop:this.searchStop$.on,onActiveResultChange:this.searchActiveResultChange$.on,onSearchResultStateChange:this.searchResultState$.on,onStateChange:this.searchState$.on,getFlags:()=>this.state.flags,setFlags:e=>this.setFlags(e),getState:()=>this.state}}setFlags(e){this.dispatch(ma(e)),this.state.active&&this.searchAllPages(this.state.query,!0)}notifySearchStart(){this.searchStart$.emit()}notifySearchStop(){this.searchStop$.emit()}notifyActiveResultChange(e){this.searchActiveResultChange$.emit(e)}startSearchSession(){this.currentDocument&&(this.dispatch({type:la}),this.notifySearchStart())}stopSearchSession(){var e,t;if(this.currentDocument&&this.state.active){try{null==(t=null==(e=this.currentTask)?void 0:e.abort)||t.call(e,{type:"abort",code:"cancelled",message:"search stopped"})}catch{}this.currentTask=void 0,this.dispatch({type:ca}),this.notifySearchStop()}}searchAllPages(e,t=!1){var n,o;const i=e.trim();if(this.state.query===i&&!t)return qt.resolve({results:this.state.results,total:this.state.total});if(this.currentTask){try{null==(o=(n=this.currentTask).abort)||o.call(n,{type:"abort",code:"superseded",message:"new search"})}catch{}this.currentTask=void 0}if(this.dispatch({type:ha,payload:i}),!i||!this.currentDocument)return this.dispatch(ya([],0,-1)),qt.resolve({results:[],total:0});this.state.active||this.startSearchSession();const r=this.currentTask=this.engine.searchAllPages(this.currentDocument,i,{flags:this.state.flags});return r.onProgress((e=>{var t,n;(null==(t=null==e?void 0:e.results)?void 0:t.length)&&(this.dispatch((n=e.results,{type:ga,payload:{results:n}})),-1===this.state.activeResultIndex&&(this.dispatch(ba(0)),this.notifyActiveResultChange(0)))})),r.wait((e=>{this.currentTask=void 0;const t=e.total>0?0:-1;this.dispatch(ya(e.results,e.total,t)),this.searchResult$.emit(e),e.total>0&&this.notifyActiveResultChange(0)}),(e=>{this.currentTask=void 0,console.error("Error during search:",e),this.dispatch(ya([],0,-1))})),r}nextResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex>=this.state.results.length-1?0:this.state.activeResultIndex+1;return this.goToResult(e)}previousResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex<=0?this.state.results.length-1:this.state.activeResultIndex-1;return this.goToResult(e)}goToResult(e){return 0===this.state.results.length||e<0||e>=this.state.results.length?-1:(this.dispatch(ba(e)),this.notifyActiveResultChange(e),e)}async destroy(){this.state.active&&this.currentDocument&&this.stopSearchSession(),this.searchResult$.clear(),this.searchStart$.clear(),this.searchStop$.clear(),this.searchActiveResultChange$.clear(),this.searchResultState$.clear(),this.searchState$.clear()}};xa.id="search";let wa=xa;const ka="search",Ca={flags:[],results:[],total:0,activeResultIndex:-1,showAllResults:!0,query:"",loading:!1,active:!1},Sa={manifest:{id:ka,name:"Search Plugin",version:"1.0.0",provides:["search"],requires:["loader"],optional:[],defaultConfig:{enabled:!0,flags:[]}},create:e=>new wa(ka,e),reducer:(e=Ca,t)=>{switch(t.type){case la:return{...e,active:!0};case ca:return{...e,results:[],total:0,activeResultIndex:-1,query:"",loading:!1,active:!1};case da:return{...e,flags:t.payload};case ua:return{...e,showAllResults:t.payload};case ha:return{...e,loading:!0,query:t.payload,results:[],total:0,activeResultIndex:-1};case ga:{const n=[...e.results,...t.payload.results],o=-1===e.activeResultIndex&&n.length>0?0:e.activeResultIndex;return{...e,results:n,total:n.length,activeResultIndex:o,loading:!0}}case pa:return{...e,results:t.payload.results,total:t.payload.total,activeResultIndex:t.payload.activeResultIndex,loading:!1};case fa:return{...e,activeResultIndex:t.payload};default:return e}},initialState:Ca},Pa=()=>lo(wa.id);function Ma({pageIndex:e,scale:t,style:n,highlightColor:o="#FFFF00",activeHighlightColor:i="#FFBF00",...r}){const{provides:a}=Pa(),[s,l]=_e(null);if(Ae((()=>null==a?void 0:a.onSearchResultStateChange((e=>{l(e)}))),[a]),!s)return null;return Ge("div",{style:{...n},...r,children:s.results.map(((e,t)=>({result:e,originalIndex:t}))).filter((({result:t})=>t.pageIndex===e)).map((({result:e,originalIndex:n})=>e.rects.map(((e,r)=>Ge("div",{style:{position:"absolute",top:e.origin.y*t,left:e.origin.x*t,width:e.size.width*t,height:e.size.height*t,backgroundColor:n===s.activeResultIndex?i:o,mixBlendMode:"multiply",transform:"scale(1.02)",transformOrigin:"center",transition:"opacity .3s ease-in-out",opacity:1}},`${n}-${r}`)))))})}const Ia="thumbnail",_a={id:Ia,name:"Thumbnail Plugin",version:"1.0.0",provides:["thumbnail"],requires:["render"],optional:["scroll"],defaultConfig:{enabled:!0,width:150,gap:10,buffer:3,labelHeight:16,autoScroll:!0,scrollBehavior:"smooth",imagePadding:0,paddingY:0}},Ta=class extends Vn{constructor(e,t,n){var o;super(e,t),this.cfg=n,this.scrollCapability=null,this.thumbs=[],this.window=null,this.viewportH=0,this.scrollY=0,this.emitWindow=eo(),this.refreshPages$=Jn(),this.taskCache=new Map,this.canAutoScroll=!0,this.scrollTo$=eo(),this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=(null==(o=this.registry.getPlugin("scroll"))?void 0:o.provides())??null,this.coreStore.onAction(En,((e,t)=>{this.taskCache.clear(),this.setWindowState(t)})),this.coreStore.onAction(Rn,(e=>{this.refreshPages$.emit(e.payload);for(const t of e.payload)this.taskCache.delete(t)})),this.scrollCapability&&!1!==this.cfg.autoScroll&&(this.scrollCapability.onPageChangeState((({isChanging:e,targetPage:t})=>{this.canAutoScroll=!e,e||this.scrollToThumb(t-1)})),this.scrollCapability.onPageChange((({pageNumber:e})=>{this.canAutoScroll&&this.scrollToThumb(e-1)})))}async initialize(){}onRefreshPages(e){return this.refreshPages$.on(e)}onWindow(e){return this.emitWindow.on(e)}onScrollTo(e){return this.scrollTo$.on(e)}setWindowState(e){const t=e.core;if(!t.document)return;const n=this.cfg.width??120,o=this.cfg.labelHeight??16,i=this.cfg.gap??8,r=this.cfg.imagePadding??0,a=this.cfg.paddingY??0,s=Math.max(1,n-2*r);let l=a;this.thumbs=t.document.pages.map((e=>{const t=e.size.height/e.size.width,n=Math.round(s*t),a=r+n+r+o,c={pageIndex:e.index,width:s,height:n,wrapperHeight:a,top:l,labelHeight:o,padding:r};return l+=a+i,c})),this.window={start:-1,end:-1,items:[],totalHeight:l-i+a},this.viewportH>0?this.updateWindow(this.scrollY,this.viewportH):this.emitWindow.emit(this.window)}buildCapability(){return{renderThumb:(e,t)=>this.renderThumb(e,t),scrollToThumb:e=>this.scrollToThumb(e)}}updateWindow(e,t){const n=this.cfg.buffer??3;if(this.scrollY=e,this.viewportH=t,!this.window||0===this.thumbs.length)return;let o=0,i=this.thumbs.length-1,r=0;for(;o<=i;){const t=o+i>>1,n=this.thumbs[t];n.top+n.wrapperHeight<e?o=t+1:(r=t,i=t-1)}let a=r;const s=e+t;for(;a+1<this.thumbs.length&&this.thumbs[a].top<s;)a++;a=Math.min(this.thumbs.length-1,a+n);const l=Math.max(0,r-n);l===this.window.start&&a===this.window.end||(this.window={start:l,end:a,items:this.thumbs.slice(l,a+1),totalHeight:this.window.totalHeight},this.emitWindow.emit(this.window))}scrollToThumb(e){if(!this.window)return;const t=this.thumbs[e];if(!t)return;const n=this.cfg.scrollBehavior??"smooth",o=this.cfg.paddingY??0;if(this.viewportH<=0){const e=Math.max(o,t.top-t.wrapperHeight);return void this.scrollTo$.emit({top:e,behavior:n})}const i=t.top,r=t.top+t.wrapperHeight,a=i<this.scrollY+8+o,s=r>this.scrollY+this.viewportH-8;a?this.scrollTo$.emit({top:Math.max(0,i-o),behavior:n}):s&&this.scrollTo$.emit({top:Math.max(0,r-this.viewportH+o),behavior:n})}renderThumb(e,t){if(this.taskCache.has(e))return this.taskCache.get(e);const n=this.coreState.core.document.pages[e],o=this.cfg.width??120,i=this.cfg.imagePadding??0,r=Math.max(1,o-2*i)/n.size.width,a=this.renderCapability.renderPageRect({pageIndex:e,rect:{origin:{x:0,y:0},size:n.size},options:{scaleFactor:r,dpr:t}});return this.taskCache.set(e,a),a.wait(kn,(()=>this.taskCache.delete(e))),a}};Ta.id="thumbnail";let Aa=Ta;const Ra={manifest:_a,create:(e,t)=>new Aa(Ia,e,t),reducer:()=>{},initialState:{}},Ea=()=>so(Aa.id);function Na({style:e,scrollOptions:t,selectedPage:n,...o}){const{plugin:i}=Ea(),r=Ee(null),[a,s]=_e(null);Ae((()=>null==i?void 0:i.onWindow(s)),[i]),Ae((()=>{const e=r.current;if(!e)return;const t=()=>null==i?void 0:i.updateWindow(e.scrollTop,e.clientHeight);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[i]),Ae((()=>{const e=r.current;if(!e||!i)return;const t=new ResizeObserver((()=>{i.updateWindow(e.scrollTop,e.clientHeight)}));return t.observe(e),()=>t.disconnect()}),[i]),Ae((()=>{const e=r.current;e&&i&&i.updateWindow(e.scrollTop,e.clientHeight)}),[a,i]),Ae((()=>{const e=r.current;if(e&&i&&a)return i.onScrollTo((({top:t,behavior:n})=>{e.scrollTo({top:t,behavior:n})}))}),[i,!!a]);const l=(null==i?void 0:i.cfg.paddingY)??0;return Ge("div",{ref:r,style:{overflowY:"auto",position:"relative",paddingTop:l,paddingBottom:l,height:"100%",...e},...o,children:Ge("div",{style:{height:(null==a?void 0:a.totalHeight)??0,position:"relative"},children:null==a?void 0:a.items.map((e=>o.children(e)))})})}function za({meta:e,style:t,...n}){const{provides:o}=lo(Aa.id),{plugin:i}=Ea(),[r,a]=_e(),s=Ee(null),[l,c]=_e(0);Ae((()=>{if(i)return i.onRefreshPages((t=>{t.includes(e.pageIndex)&&c((e=>e+1))}))}),[i]),Ae((()=>{const t=null==o?void 0:o.renderThumb(e.pageIndex,window.devicePixelRatio);return null==t||t.wait((e=>{const t=URL.createObjectURL(e);s.current=t,a(t)}),kn),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):null==t||t.abort({code:Wt.Cancelled,message:"canceled render task"})}}),[o,e.pageIndex,l]);return r?Ge("img",{src:r,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},style:t,...n}):null}function La(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=v(_e(e),2),o=n[0],i=n[1];return Ae((function(){var n=window.setTimeout((function(){return i(e)}),t);return function(){return clearTimeout(n)}}),[e,t]),o}var Oa=function(e){var t=e.label,n=e.checked,o=e.onChange;return F("label",{className:"inline-flex cursor-pointer select-none items-center gap-2 text-xs font-medium text-gray-700"},F("input",{type:"checkbox",checked:n,onChange:function(e){return o(e.target.checked)},className:"peer h-4 w-4 shrink-0 appearance-none rounded-[3px] border border-gray-300 bg-white transition-all checked:border-blue-600 checked:bg-blue-600"}),F("svg",{viewBox:"0 0 24 24",className:"/* fine-tune centering */ pointer-events-none absolute h-3.5 w-3.5 translate-x-[1px] translate-y-[1px] text-white opacity-0 peer-checked:opacity-100",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"},F("polyline",{points:"20 6 9 17 4 12"})),t)};const Da="selection",Ba={id:Da,name:"Selection Plugin",version:"1.0.0",provides:["selection"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0}},$a="CACHE_PAGE_GEOMETRY",Fa="SET_SELECTION",ja="START_SELECTION",Ha="END_SELECTION",Ua="CLEAR_SELECTION",Wa="SET_RECTS",qa="SET_SLICES",Va="RESET";function Ga(e,t){return e.rects[t]??[]}function Za(e,t){return ct(Ga(e,t))}function Ya(e,t){for(const n of e.runs){if(!(t.y>=n.rect.y&&t.y<=n.rect.y+n.rect.height&&t.x>=n.rect.x&&t.x<=n.rect.x+n.rect.width))continue;const e=n.glyphs.findIndex((e=>t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height));if(-1!==e)return n.charStart+e}return-1}function Xa(e,t,n){if(!e||!t)return null;if(n<e.start.page||n>e.end.page)return null;const o=n===e.start.page?e.start.index:0,i=t.runs[t.runs.length-1],r=i.charStart+i.glyphs.length-1;return{from:o,to:n===e.end.page?e.end.index:r}}function Ka(e,t,n,o=!0){const i=[];for(const o of e.runs){const e=o.charStart,r=e+o.glyphs.length-1;if(r<t||e>n)continue;const a=Math.max(t,e)-e,s=Math.min(n,r)-e;let l=1/0,c=-1/0,d=1/0,u=-1/0,h=0;for(let e=a;e<=s;e++){const t=o.glyphs[e];2!==t.flags&&(l=Math.min(l,t.x),c=Math.max(c,t.x+t.width),d=Math.min(d,t.y),u=Math.max(u,t.y+t.height),h++)}l!==1/0&&h>0&&i.push({rect:{origin:{x:l,y:d},size:{width:c-l,height:u-d}},charCount:h})}return o?function(e){const t=[];let n=null,o=null;for(const i of e)n&&o?ts(n,i)?o=Qa(o,i.rect):(t.push(o),o=i.rect):o=i.rect,n=i;o&&!Ja(o)&&t.push(o);return t}(i):i.map((e=>e.rect))}function Qa(e,t){const n=Math.min(e.origin.x,t.origin.x),o=Math.min(e.origin.y,t.origin.y);return{origin:{x:n,y:o},size:{width:Math.max(e.origin.x+e.size.width,t.origin.x+t.size.width)-n,height:Math.max(e.origin.y+e.size.height,t.origin.y+t.size.height)-o}}}function Ja(e){return e.size.width<=0||e.size.height<=0}function es(e,t){if(Ja(e)||Ja(t))return 0;const n=Qa(e,t);if(n.size.height===e.size.height||n.size.height===t.size.height)return 1;const o=function(e,t){const n=Math.max(e.origin.x,t.origin.x),o=Math.max(e.origin.y,t.origin.y),i=Math.min(e.origin.x+e.size.width,t.origin.x+t.size.width),r=Math.min(e.origin.y+e.size.height,t.origin.y+t.size.height);return{origin:{x:n,y:o},size:{width:Math.max(0,i-n),height:Math.max(0,r-o)}}}(e,t);return o.size.height/n.size.height}function ts(e,t){const n=e.rect,o=t.rect;if(es(n,o)<.8)return!1;const i=1*n.size.width/e.charCount,r=1*o.size.width/t.charCount,a=n.origin.x-i,s=n.origin.x+n.size.width+i,l=o.origin.x-r;return a<o.origin.x+o.size.width+r&&s>l}const ns=class extends Vn{constructor(e,t){var n;super(e,t),this.enabledModes=new Set(["pointerMode"]),this.selecting=!1,this.pageCallbacks=new Map,this.selChange$=eo(),this.textRetrieved$=eo(),this.copyToClipboard$=Jn(),this.beginSelection$=Jn(),this.endSelection$=Jn(),this.interactionManagerCapability=null==(n=this.registry.getPlugin("interaction-manager"))?void 0:n.provides(),this.coreStore.onAction(En,(e=>{this.dispatch({type:Va}),this.notifyAllPages()})),this.coreStore.onAction(Rn,(e=>{const t=e.payload.map((e=>this.getNewPageGeometryAndCache(e)));yt.all(t).wait((()=>{e.payload.forEach((e=>{this.notifyPage(e)}))}),kn)}))}async initialize(){}async destroy(){this.selChange$.clear()}buildCapability(){return{getFormattedSelection:()=>function(e){const t=[],n=Object.keys(e.rects).map(Number);for(const o of n){const n=e.rects[o]||[];if(0===n.length)continue;const i=Za(e,o);i&&t.push({pageIndex:o,rect:i,segmentRects:n})}return t}(this.state),getFormattedSelectionForPage:e=>function(e,t){const n=e.rects[t]||[];if(0===n.length)return null;const o=Za(e,t);return o?{pageIndex:t,rect:o,segmentRects:n}:null}(this.state,e),getHighlightRectsForPage:e=>Ga(this.state,e),getHighlightRects:()=>this.state.rects,getBoundingRectForPage:e=>Za(this.state,e),getBoundingRects:()=>function(e){const t=[],n=e.rects;for(const e in n){const o=Number(e),i=ct(n[o]);i&&t.push({page:o,rect:i})}return t}(this.state),onCopyToClipboard:this.copyToClipboard$.on,onSelectionChange:this.selChange$.on,onTextRetrieved:this.textRetrieved$.on,onBeginSelection:this.beginSelection$.on,onEndSelection:this.endSelection$.on,clear:()=>this.clearSelection(),getSelectedText:()=>this.getSelectedText(),copyToClipboard:()=>this.copyToClipboard(),enableForMode:e=>this.enabledModes.add(e),isEnabledForMode:e=>this.enabledModes.has(e),getState:()=>this.state}}registerSelectionOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("SelectionPlugin","MissingDependency","Interaction manager plugin not loaded, text selection disabled"),()=>{};const{pageIndex:t,onRectsChange:n}=e;this.pageCallbacks.set(t,n);const o=this.getOrLoadGeometry(t);n({rects:Ga(this.state,t),boundingRect:Za(this.state,t)});const i={onPointerDown:(e,n,o)=>{if(!this.enabledModes.has(o))return;this.clearSelection();const i=this.state.geometry[t];if(i){const n=Ya(i,e);-1!==n&&this.beginSelection(t,n)}},onPointerMove:(e,n,o)=>{var i,r;if(!this.enabledModes.has(o))return;const a=this.state.geometry[t];if(a){const n=Ya(a,e);-1!==n?null==(i=this.interactionManagerCapability)||i.setCursor("selection-text","text",10):null==(r=this.interactionManagerCapability)||r.removeCursor("selection-text"),this.selecting&&-1!==n&&this.updateSelection(t,n)}},onPointerUp:(e,t,n)=>{this.enabledModes.has(n)&&this.endSelection()},onHandlerActiveEnd:e=>{this.enabledModes.has(e)&&this.clearSelection()}},r=this.interactionManagerCapability.registerAlways({scope:{type:"page",pageIndex:t},handlers:i});return()=>{r(),this.pageCallbacks.delete(t),o.abort({code:Wt.Cancelled,message:"Cleanup"})}}notifyPage(e){var t;const n=this.pageCallbacks.get(e);if(n){n("pointerMode"===(null==(t=this.interactionManagerCapability)?void 0:t.getActiveMode())?{rects:Ga(this.state,e),boundingRect:Za(this.state,e)}:{rects:[],boundingRect:null})}}notifyAllPages(){this.pageCallbacks.forEach(((e,t)=>{this.notifyPage(t)}))}getNewPageGeometryAndCache(e){if(!this.coreState.core.document)return qt.reject({code:Wt.NotFound,message:"Doc Not Found"});const t=this.coreState.core.document.pages.find((t=>t.index===e)),n=this.engine.getPageGeometry(this.coreState.core.document,t);return n.wait((t=>{this.dispatch(((e,t)=>({type:$a,payload:{page:e,geo:t}}))(e,t))}),kn),n}getOrLoadGeometry(e){const t=this.state.geometry[e];return t?qt.resolve(t):this.getNewPageGeometryAndCache(e)}beginSelection(e,t){this.selecting=!0,this.anchor={page:e,index:t},this.dispatch({type:ja}),this.beginSelection$.emit({page:e,index:t})}endSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ha}),this.endSelection$.emit()}clearSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Ua}),this.selChange$.emit(null),this.notifyAllPages()}updateSelection(e,t){if(!this.selecting||!this.anchor)return;const n=this.anchor,o=e>n.page||e===n.page&&t>=n.index,i={start:o?n:{page:e,index:t},end:o?{page:e,index:t}:n};this.dispatch({type:Fa,payload:i}),this.updateRectsAndSlices(i),this.selChange$.emit(i);for(let e=i.start.page;e<=i.end.page;e++)this.notifyPage(e)}updateRectsAndSlices(e){const t={},n={};for(let o=e.start.page;o<=e.end.page;o++){const i=this.state.geometry[o],r=Xa(e,i,o);r&&(t[o]=Ka(i,r.from,r.to),n[o]={start:r.from,count:r.to-r.from+1})}this.dispatch((e=>({type:Wa,payload:e}))(t)),this.dispatch({type:qa,payload:n})}getSelectedText(){if(!this.coreState.core.document||!this.state.selection)return qt.reject({code:Wt.NotFound,message:"Doc Not Found or No Selection"});const e=this.state.selection,t=[];for(let n=e.start.page;n<=e.end.page;n++){const e=this.state.slices[n];e&&t.push({pageIndex:n,charIndex:e.start,charCount:e.count})}if(0===t.length)return qt.resolve([]);const n=this.engine.getTextSlices(this.coreState.core.document,t);return n.wait((e=>{this.textRetrieved$.emit(e)}),kn),n}copyToClipboard(){this.getSelectedText().wait((e=>{this.copyToClipboard$.emit(e.join("\n"))}),kn)}};ns.id="selection";let os=ns;const is={geometry:{},rects:{},slices:{},selection:null,active:!1,selecting:!1},rs=()=>lo(os.id);function as({pageIndex:e,scale:t,background:n="rgba(33,150,243)"}){const{plugin:o}=so(os.id),[i,r]=_e([]),[a,s]=_e(null);return Ae((()=>{if(o)return o.registerSelectionOnPage({pageIndex:e,onRectsChange:({rects:e,boundingRect:t})=>{r(e),s(t)}})}),[o,e]),a?Ge("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,mixBlendMode:"multiply",isolation:"isolate"},children:i.map(((e,o)=>Ge("div",{style:{position:"absolute",left:(e.origin.x-a.origin.x)*t,top:(e.origin.y-a.origin.y)*t,width:e.size.width*t,height:e.size.height*t,background:n,pointerEvents:"none"}},o)))}):null}const ss=no({manifest:Ba,create:e=>new os(Da,e),reducer:(e=is,t)=>{switch(t.type){case $a:{const{page:n,geo:o}=t.payload;return{...e,geometry:{...e.geometry,[n]:o}}}case Fa:return{...e,selection:t.payload,active:!0};case ja:return{...e,selecting:!0,selection:null,rects:{}};case Ha:return{...e,selecting:!1};case Ua:return{...e,selecting:!1,selection:null,rects:{},active:!1};case Wa:return{...e,rects:t.payload};case qa:return{...e,slices:t.payload};case Va:return is;default:return e}},initialState:is}).addUtility((function(){const{provides:e}=rs();return Ae((()=>{if(e)return e.onCopyToClipboard((e=>{navigator.clipboard.writeText(e)}))}),[e]),null})).build();function ls(e,t,n,o,i,r){return r?e.origin.y+i>=n+o:e.origin.y+i+e.size.height+n+o<=t.scrollTop+t.clientHeight}var cs=function(e,t,n){if(!e)return n||"(no date)";try{return(e instanceof Date?e:new Date(e)).toLocaleDateString(t||"en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch(t){return"string"==typeof e?e:n||"(no date)"}};function ds(e){var t=e.open,n=e.title,o=e.children,i=e.onClose,r=e.className,a=e.showCloseButton,s=void 0===a||a;e.maxWidth;var l=Ee(null);Ae((function(){if(t){var e=function(e){"Escape"===e.key&&(null==i||i())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}),[t,i]);return Ae((function(){return document.body.style.overflow=t?"hidden":"",function(){document.body.style.overflow=""}}),[t]),t?Ge("div",{ref:l,className:"fixed inset-0 z-50 bg-black/50 md:flex md:items-center md:justify-center",onClick:function(e){e.target===l.current&&(null==i||i())},children:Ge("div",{className:"relative flex h-full w-full flex-col bg-white md:h-auto md:w-[28rem] md:max-w-[90vw] md:rounded-lg md:border md:border-gray-200 md:shadow-lg ".concat(r),onClick:function(e){return e.stopPropagation()},children:[(n||s)&&Ge("div",{className:"flex flex-shrink-0 items-center justify-between border-b border-gray-200 px-6 py-4",children:[n&&Ge("h2",{className:"text-lg font-semibold text-gray-900",children:n}),s&&Ge(Ei,{onClick:i,className:"p-1 hover:bg-gray-100",children:Ge(sa,{icon:"x",className:"h-5 w-5"})})]}),Ge("div",{className:"flex-1 overflow-y-auto px-6 py-4 md:max-h-[80vh] md:flex-none",children:o})]})}):null}const us="print",hs={id:us,name:"Print Plugin",version:"1.0.0",provides:["print"],requires:[],optional:[],defaultConfig:{enabled:!0}},ps=class extends Vn{constructor(e,t,n){super(e,t),this.printReady$=Jn()}async initialize(e){}buildCapability(){return{print:this.print.bind(this)}}onPrintRequest(e){return this.printReady$.on(e)}print(e){const t=e??{},n=new yt;n.progress({stage:"preparing",message:"Preparing document..."});return this.preparePrintDocument(t).wait((e=>{n.progress({stage:"document-ready",message:"Document prepared successfully"}),this.printReady$.emit({options:t,buffer:e,task:n})}),n.fail),n}preparePrintDocument(e){const t=this.coreState.core.document;return t?this.engine.preparePrintDocument(t,e):qt.reject({code:Wt.DocNotOpen,message:"Document not found"})}};ps.id="print";let gs=ps;const fs=()=>lo(gs.id);const ms=no({manifest:hs,create:(e,t)=>new gs(us,e,t),reducer:()=>{},initialState:{}}).addUtility((function(){const{provides:e}=fs(),{plugin:t}=so(gs.id),n=Ee(null),o=Ee(null);return Ae((()=>{if(!e||!t)return;const i=t.onPrintRequest((({buffer:e,task:t})=>{const i=n.current;if(!i)return;o.current&&(URL.revokeObjectURL(o.current),o.current=null);const r=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));o.current=r,i.onload=()=>{var n,o;i.src===r&&(t.progress({stage:"iframe-ready",message:"Ready to print"}),null==(n=i.contentWindow)||n.focus(),null==(o=i.contentWindow)||o.print(),t.progress({stage:"printing",message:"Print dialog opened"}),t.resolve(e))},i.src=r}));return()=>{i(),o.current&&URL.revokeObjectURL(o.current)}}),[e,t]),Ge("iframe",{ref:n,style:{position:"absolute",display:"none"},title:"Print Document",src:"about:blank"})})).build(),vs="bookmark",ys={id:vs,name:"Bookmark Plugin",version:"1.0.0",provides:["bookmark"],requires:[],optional:[],defaultConfig:{enabled:!0}},bs=class extends Vn{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getBookmarks:this.getBookmarks.bind(this)}}getBookmarks(){const e=this.coreState.core.document;if(!e)throw new Error("Document not open");return this.engine.getBookmarks(e)}};bs.id="bookmark";let xs=bs;const ws={manifest:ys,create:e=>new xs(vs,e),reducer:()=>{},initialState:{}},ks=class extends Vn{constructor(e,t){super(e,t)}async initialize(e){}buildCapability(){return{getAttachments:this.getAttachments.bind(this),downloadAttachment:this.downloadAttachment.bind(this)}}downloadAttachment(e){const t=this.coreState.core.document;return t?this.engine.readAttachmentContent(t,e):qt.reject({code:Wt.NotFound,message:"Document not found"})}getAttachments(){const e=this.coreState.core.document;return e?this.engine.getAttachments(e):qt.reject({code:Wt.NotFound,message:"Document not found"})}};ks.id="attachment";let Cs=ks;const Ss="attachment",Ps={manifest:{id:Ss,name:"Attachment Plugin",version:"1.0.0",provides:["attachment"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new Cs(Ss,e),reducer:()=>{},initialState:{}};function Ms(e,t){for(var n in t)e[n]=t[n];return e}function Is(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var o in t)if("__source"!==o&&e[o]!==t[o])return!0;return!1}function _s(e,t){var n=t(),o=_e({t:{__:n,u:t}}),i=o[0].t,r=o[1];return Re((function(){i.__=n,i.u=t,Ts(i)&&r({t:i})}),[e,n,t]),Ae((function(){return Ts(i)&&r({t:i}),e((function(){Ts(i)&&r({t:i})}))}),[e]),n}function Ts(e){var t,n,o=e.u,i=e.__;try{var r=o();return!((t=i)===(n=r)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function As(e){e()}function Rs(e){return e}function Es(){return[!1,As]}var Ns=Re;function zs(e,t){this.props=e,this.context=t}function Ls(e,t){function n(e){var n=this.props.ref,o=n==e.ref;return!o&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!o:Is(this.props,e)}function o(t){return this.shouldComponentUpdate=n,F(e,t)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o}(zs.prototype=new W).isPureReactComponent=!0,zs.prototype.shouldComponentUpdate=function(e,t){return Is(this.props,e)||Is(this.state,t)};var Os=C.__b;C.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Os&&Os(e)};var Ds="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Bs(e){function t(t){var n=Ms({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Ds,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var $s=function(e,t){return null==e?null:K(K(e).map(t))},Fs={map:$s,forEach:$s,count:function(e){return e?K(e).length:0},only:function(e){var t=K(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:K},js=C.__e;C.__e=function(e,t,n,o){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);js(e,t,n,o)};var Hs=C.unmount;function Us(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=Ms({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return Us(e,t,n)}))),e}function Ws(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Ws(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function qs(){this.__u=0,this.o=null,this.__b=null}function Vs(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Gs(e){var t,n,o;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return F(n,i)}return i.displayName="Lazy",i.__f=!0,i}function Zs(){this.i=null,this.l=null}C.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Hs&&Hs(e)},(qs.prototype=new W).__c=function(e,t){var n=t.__c,o=this;null==o.o&&(o.o=[]),o.o.push(n);var i=Vs(o.__v),r=!1,a=function(){r||(r=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=Ws(e,e.__c.__P,e.__c.__O)}var t;for(o.setState({__a:o.__b=null});t=o.o.pop();)t.forceUpdate()}};o.__u++||32&t.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(a,a)},qs.prototype.componentWillUnmount=function(){this.o=[]},qs.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Us(this.__b,n,o.__O=o.__P)}this.__b=null}var i=t.__a&&F(U,null,e.fallback);return i&&(i.__u&=-33),[F(U,null,t.__a?null:e.children),i]};var Ys=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Xs(e){return this.getChildContext=function(){return e.context},e.children}function Ks(e){var t=this,n=e.h;t.componentWillUnmount=function(){ce(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),t.v||(t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],contains:function(){return!0},appendChild:function(e){this.childNodes.push(e),t.h.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}),ce(F(Xs,{context:t.context},e.__v),t.v)}function Qs(e,t){var n=F(Ks,{__v:e,h:t});return n.containerInfo=t,n}(Zs.prototype=new W).__a=function(e){var t=this,n=Vs(t.__v),o=t.l.get(e);return o[0]++,function(i){var r=function(){t.props.revealOrder?(o.push(i),Ys(t,e,o)):i()};n?n(r):r()}},Zs.prototype.render=function(e){this.i=null,this.l=new Map;var t=K(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Zs.prototype.componentDidUpdate=Zs.prototype.componentDidMount=function(){var e=this;this.l.forEach((function(t,n){Ys(e,n,t)}))};var Js="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,el=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tl=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,nl=/[A-Z0-9]/g,ol="undefined"!=typeof document,il=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function rl(e,t,n){return null==t.__k&&(t.textContent=""),ce(e,t),"function"==typeof n&&n(),e?e.__c:null}function al(e,t,n){return de(e,t),"function"==typeof n&&n(),e?e.__c:null}W.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(W.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var sl=C.event;function ll(){}function cl(){return this.cancelBubble}function dl(){return this.defaultPrevented}C.event=function(e){return sl&&(e=sl(e)),e.persist=ll,e.isPropagationStopped=cl,e.isDefaultPrevented=dl,e.nativeEvent=e};var ul,hl={enumerable:!1,configurable:!0,get:function(){return this.class}},pl=C.vnode;C.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,o={},i=-1===n.indexOf("-");for(var r in t){var a=t[r];if(!("value"===r&&"defaultValue"in t&&null==a||ol&&"children"===r&&"noscript"===n||"class"===r||"className"===r)){var s=r.toLowerCase();"defaultValue"===r&&"value"in t&&null==t.value?r="value":"download"===r&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?r="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||il(t.type)?"onfocus"===s?r="onfocusin":"onblur"===s?r="onfocusout":tl.test(r)&&(r=s):s=r="oninput":i&&el.test(r)?r=r.replace(nl,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===s&&o[r=s]&&(r="oninputCapture"),o[r]=a}}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=K(t.children).forEach((function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=K(t.children).forEach((function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value}))),t.class&&!t.className?(o.class=t.class,Object.defineProperty(o,"className",hl)):(t.className&&!t.class||t.class&&t.className)&&(o.class=o.className=t.className),e.props=o}(e),e.$$typeof=Js,pl&&pl(e)};var gl=C.__r;C.__r=function(e){gl&&gl(e),ul=e.__c};var fl=C.diffed;C.diffed=function(e){fl&&fl(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),ul=null};var ml={ReactCurrentDispatcher:{current:{readContext:function(e){return ul.__n[e.__c].props.value},useCallback:Le,useContext:Oe,useDebugValue:De,useDeferredValue:Rs,useEffect:Ae,useId:Be,useImperativeHandle:Ne,useInsertionEffect:Ns,useLayoutEffect:Re,useMemo:ze,useReducer:Te,useRef:Ee,useState:_e,useSyncExternalStore:_s,useTransition:Es}}};function vl(e){return F.bind(null,e)}function yl(e){return!!e&&e.$$typeof===Js}function bl(e){return yl(e)&&e.type===U}function xl(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function wl(e){return yl(e)?ue.apply(null,arguments):e}function kl(e){return!!e.__k&&(ce(null,e),!0)}function Cl(e){return e&&(e.base||1===e.nodeType&&e)||null}var Sl=function(e,t){return e(t)},Pl=function(e,t){return e(t)},Ml=U,Il=yl,_l={useState:_e,useId:Be,useReducer:Te,useEffect:Ae,useLayoutEffect:Re,useInsertionEffect:Ns,useTransition:Es,useDeferredValue:Rs,useSyncExternalStore:_s,startTransition:As,useRef:Ee,useImperativeHandle:Ne,useMemo:ze,useCallback:Le,useContext:Oe,useDebugValue:De,version:"18.3.1",Children:Fs,render:rl,hydrate:al,unmountComponentAtNode:kl,createPortal:Qs,createElement:F,createContext:he,createFactory:vl,cloneElement:wl,createRef:H,Fragment:U,isValidElement:yl,isElement:Il,isFragment:bl,isMemo:xl,findDOMNode:Cl,Component:W,PureComponent:zs,memo:Ls,forwardRef:Bs,flushSync:Pl,unstable_batchedUpdates:Sl,StrictMode:Ml,Suspense:qs,SuspenseList:Zs,lazy:Gs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ml},Tl=Object.freeze({__proto__:null,Children:Fs,Component:W,Fragment:U,PureComponent:zs,StrictMode:Ml,Suspense:qs,SuspenseList:Zs,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ml,cloneElement:wl,createContext:he,createElement:F,createFactory:vl,createPortal:Qs,createRef:H,default:_l,findDOMNode:Cl,flushSync:Pl,forwardRef:Bs,hydrate:al,isElement:Il,isFragment:bl,isMemo:xl,isValidElement:yl,lazy:Gs,memo:Ls,render:rl,startTransition:As,unmountComponentAtNode:kl,unstable_batchedUpdates:Sl,useCallback:Le,useContext:Oe,useDebugValue:De,useDeferredValue:Rs,useEffect:Ae,useErrorBoundary:function(e){var t=Ie(pe++,10),n=_e();return t.__=e,ge.componentDidCatch||(ge.componentDidCatch=function(e,o){t.__&&t.__(e,o),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:Be,useImperativeHandle:Ne,useInsertionEffect:Ns,useLayoutEffect:Re,useMemo:ze,useReducer:Te,useRef:Ee,useState:_e,useSyncExternalStore:_s,useTransition:Es,version:"18.3.1"});const Al=e=>"string"==typeof e,Rl=()=>{let e,t;const n=new Promise(((n,o)=>{e=n,t=o}));return n.resolve=e,n.reject=t,n},El=e=>null==e?"":""+e,Nl=/###/g,zl=e=>e&&e.indexOf("###")>-1?e.replace(Nl,"."):e,Ll=e=>!e||Al(e),Ol=(e,t,n)=>{const o=Al(t)?t.split("."):t;let i=0;for(;i<o.length-1;){if(Ll(e))return{};const t=zl(o[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return Ll(e)?{}:{obj:e,k:zl(o[i])}},Dl=(e,t,n)=>{const{obj:o,k:i}=Ol(e,t,Object);if(void 0!==o||1===t.length)return void(o[i]=n);let r=t[t.length-1],a=t.slice(0,t.length-1),s=Ol(e,a,Object);for(;void 0===s.obj&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),s=Ol(e,a,Object),s?.obj&&void 0!==s.obj[`${s.k}.${r}`]&&(s.obj=void 0);s.obj[`${s.k}.${r}`]=n},Bl=(e,t)=>{const{obj:n,k:o}=Ol(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,o))return n[o]},$l=(e,t,n)=>{for(const o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?Al(e[o])||e[o]instanceof String||Al(t[o])||t[o]instanceof String?n&&(e[o]=t[o]):$l(e[o],t[o],n):e[o]=t[o]);return e},Fl=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var jl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Hl=e=>Al(e)?e.replace(/[&<>"'\/]/g,(e=>jl[e])):e;const Ul=[" ",",","?","!",";"],Wl=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),ql=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const o=t.split(n);let i=e;for(let e=0;e<o.length;){if(!i||"object"!=typeof i)return;let t,r="";for(let a=e;a<o.length;++a)if(a!==e&&(r+=n),r+=o[a],t=i[r],void 0!==t){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<o.length-1)continue;e+=a-e+1;break}i=t}return i},Vl=e=>e?.replace("_","-"),Gl={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Zl{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Gl,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,o){return o&&!this.debug?null:(Al(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Zl(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Zl(this.logger,e)}}var Yl=new Zl;class Xl{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((([e,n])=>{for(let o=0;o<n;o++)e(...t)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((([n,o])=>{for(let i=0;i<o;i++)n.apply(n,[e,...t])}))}}}class Kl extends Xl{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,o={}){const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,r=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],n&&(Array.isArray(n)?a.push(...n):Al(n)&&i?a.push(...n.split(i)):a.push(n)));const s=Bl(this.data,a);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=a[0],t=a[1],n=a.slice(2).join(".")),!s&&r&&Al(n)?ql(this.data?.[e]?.[t],n,i):s}addResource(e,t,n,o,i={silent:!1}){const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(a=e.split("."),o=t,t=a[1]),this.addNamespaces(t),Dl(this.data,a,o),i.silent||this.emit("added",e,t,n,o)}addResources(e,t,n,o={silent:!1}){for(const o in n)(Al(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});o.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,o,i,r={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),o=n,n=t,t=a[1]),this.addNamespaces(t);let s=Bl(this.data,a)||{};r.skipCopy||(n=JSON.parse(JSON.stringify(n))),o?$l(s,n,i):s={...s,...n},Dl(this.data,a,s),r.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Ql={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,o,i){return e.forEach((e=>{t=this.processors[e]?.process(t,n,o,i)??t})),t}};const Jl=Symbol("i18next/PATH_KEY");function ec(e,t){const{[Jl]:n}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(o,i)=>(n?.revoke?.(),i===Jl?e:(e.push(i),n=Proxy.revocable(o,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}());return n.join(t?.keySeparator??".")}const tc={},nc=e=>!Al(e)&&"boolean"!=typeof e&&"number"!=typeof e;class oc extends Xl{constructor(e,t={}){super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Yl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const o=this.resolve(e,n);if(void 0===o?.res)return!1;const i=nc(o.res);return!1!==n.returnObjects||!i}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const r=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const o=Ul.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===o.length)return!0;const i=Wl.getRegExp(`(${o.map((e=>"?"===e?"\\?":e)).join("|")})`);let r=!i.test(e);if(!r){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(r=!0)}return r})(e,n,o));if(r&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Al(i)?[i]:i};const r=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(r[0])>-1)&&(i=r.shift()),e=r.join(o)}return{key:e,namespaces:Al(i)?[i]:i}}translate(e,t,n){let o="object"==typeof t?{...t}:t;if("object"!=typeof o&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof o&&(o={...o}),o||(o={}),null==e)return"";"function"==typeof e&&(e=ec(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const i=void 0!==o.returnDetails?o.returnDetails:this.options.returnDetails,r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],o),l=s[s.length-1];let c=void 0!==o.nsSeparator?o.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=o.lng||this.language,u=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===d?.toLowerCase())return u?i?{res:`${l}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(o)}:`${l}${c}${a}`:i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(o)}:a;const h=this.resolve(e,o);let p=h?.res;const g=h?.usedKey||a,f=h?.exactUsedKey||a,m=void 0!==o.joinArrays?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==o.count&&!Al(o.count),b=oc.hasDefaultValue(o),x=y?this.pluralResolver.getSuffix(d,o.count,o):"",w=o.ordinal&&y?this.pluralResolver.getSuffix(d,o.count,{ordinal:!1}):"",k=y&&!o.ordinal&&0===o.count,C=k&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${x}`]||o[`defaultValue${w}`]||o.defaultValue;let S=p;v&&!p&&b&&(S=C);const P=nc(S),M=Object.prototype.toString.apply(S);if(!(v&&S&&P&&["[object Number]","[object Function]","[object RegExp]"].indexOf(M)<0)||Al(m)&&Array.isArray(S))if(v&&Al(m)&&Array.isArray(p))p=p.join(m),p&&(p=this.extendTranslation(p,e,o,n));else{let t=!1,i=!1;!this.isValidLookup(p)&&b&&(t=!0,p=C),this.isValidLookup(p)||(i=!0,p=a);const s=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:p,u=b&&C!==p&&this.options.updateMissing;if(i||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,a,u?C:p),r){const e=this.resolve(a,{...o,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let n=0;n<t.length;n++)e.push(t[n]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(o.lng||this.language):e.push(o.lng||this.language);const n=(e,t,n)=>{const i=b&&n!==p?n:s;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,u,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,u,o),this.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,o);k&&o[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach((t=>{n([e],a+t,o[`defaultValue${t}`]||C)}))})):n(e,a,C))}p=this.extendTranslation(p,e,o,h,n),i&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${l}${c}${a}`),(i||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${a}`:a,t?p:void 0,o))}else{if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,S,{...o,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=e,h.usedParams=this.getUsedParamsDetails(o),h):e}if(r){const e=Array.isArray(S),t=e?[]:{},n=e?f:g;for(const e in S)if(Object.prototype.hasOwnProperty.call(S,e)){const i=`${n}${r}${e}`;t[e]=b&&!p?this.translate(i,{...o,defaultValue:nc(C)?C[e]:void 0,joinArrays:!1,ns:s}):this.translate(i,{...o,joinArrays:!1,ns:s}),t[e]===i&&(t[e]=S[e])}p=t}}return i?(h.res=p,h.usedParams=this.getUsedParamsDetails(o),h):p}extendTranslation(e,t,n,o,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const r=Al(e)&&(void 0!==n?.interpolation?.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(r){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let s=n.replace&&!Al(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),e=this.interpolator.interpolate(e,s,n.lng||this.language||o.usedLng,n),r){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&o&&o.res&&(n.lng=this.language||o.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,((...e)=>i?.[0]!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null)),n)),n.interpolation&&this.interpolator.reset()}const r=n.postProcess||this.options.postProcess,a=Al(r)?[r]:r;return null!=e&&a?.length&&!1!==n.applyPostProcessor&&(e=Ql.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,o,i,r,a;return Al(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(n))return;const s=this.extractFromKey(e,t),l=s.key;o=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==t.count&&!Al(t.count),u=d&&!t.ordinal&&0===t.count,h=void 0!==t.context&&(Al(t.context)||"number"==typeof t.context)&&""!==t.context,p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach((e=>{this.isValidLookup(n)||(a=e,tc[`${p[0]}-${e}`]||!this.utils?.hasLoadedNamespace||this.utils?.hasLoadedNamespace(a)||(tc[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${o}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((o=>{if(this.isValidLookup(n))return;r=o;const a=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,o,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(o,t.count,t));const n=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&0===e.indexOf(i)&&a.push(l+e.replace(i,this.options.pluralSeparator)),a.push(l+e),u&&a.push(l+n)),h){const o=`${l}${this.options.contextSeparator||"_"}${t.context}`;a.push(o),d&&(t.ordinal&&0===e.indexOf(i)&&a.push(o+e.replace(i,this.options.pluralSeparator)),a.push(o+e),u&&a.push(o+n))}}let s;for(;s=a.pop();)this.isValidLookup(n)||(i=s,n=this.getResource(o,e,s,t))})))}))})),{res:n,usedKey:o,exactUsedKey:i,usedLng:r,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Al(e.replace);let o=n?e.replace:e;if(n&&void 0!==e.count&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!n){o={...o};for(const e of t)delete o[e]}return o}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class ic{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yl.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Vl(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Vl(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Al(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const o=this.getLanguagePartFromCode(e);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find((e=>e===o?e:e.indexOf("-")<0&&o.indexOf("-")<0?void 0:e.indexOf("-")>0&&o.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===o||0===e.indexOf(o)&&o.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Al(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),o=[],i=e=>{e&&(this.isSupportedCode(e)?o.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Al(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):Al(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{o.indexOf(e)<0&&i(this.formatLanguageCode(e))})),o}}const rc={zero:0,one:1,two:2,few:3,many:4,other:5},ac={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class sc{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Yl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Vl("dev"===e?"en":e),o=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let r;try{r=new Intl.PluralRules(n,{type:o})}catch(n){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ac;if(!e.match(/-|_/))return ac;const o=this.languageUtils.getLanguagePartFromCode(e);r=this.getRule(o,t)}return this.pluralRulesCache[i]=r,r}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort(((e,t)=>rc[e]-rc[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):[]}getSuffix(e,t,n={}){const o=this.getRule(e,n);return o?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const lc=(e,t,n,o=".",i=!0)=>{let r=((e,t,n)=>{const o=Bl(e,n);return void 0!==o?o:Bl(t,n)})(e,t,n);return!r&&i&&Al(n)&&(r=ql(e,n,o),void 0===r&&(r=ql(t,n,o))),r},cc=e=>e.replace(/\$/g,"$$$$");class dc{constructor(e={}){this.logger=Yl.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:o,prefix:i,prefixEscaped:r,suffix:a,suffixEscaped:s,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Hl,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==o&&o,this.prefix=i?Fl(i):r||"{{",this.suffix=a?Fl(a):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?Fl(u):h||Fl("$t("),this.nestingSuffix=p?Fl(p):g||Fl(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e?.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,o){let i,r,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const i=lc(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...o,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),r=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(lc(t,s,r,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...o,...t,interpolationkey:r})};this.resetRegExp();const c=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=void 0!==o?.interpolation?.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>cc(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?cc(this.escape(e)):cc(e)}].forEach((t=>{for(a=0;i=t.regex.exec(e);){const n=i[1].trim();if(r=l(n),void 0===r)if("function"==typeof c){const t=c(e,i,o);r=Al(t)?t:""}else if(o&&Object.prototype.hasOwnProperty.call(o,n))r="";else{if(d){r=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),r=""}else Al(r)||this.useRawValueToEscape||(r=El(r));const s=t.safeValue(r);if(e=e.replace(i[0],s),d?(t.regex.lastIndex+=r.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t,n={}){let o,i,r;const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const o=e.split(new RegExp(`${n}[ ]*{`));let i=`{${o[1]}`;e=o[0],i=this.interpolate(i,r);const a=i.match(/'/g),s=i.match(/"/g);((a?.length??0)%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${i}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;o=this.nestingRegexp.exec(e);){let s=[];r={...n},r=r.replace&&!Al(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;const l=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(-1!==l&&(s=o[1].slice(l).split(this.formatSeparator).map((e=>e.trim())).filter(Boolean),o[1]=o[1].slice(0,l)),i=t(a.call(this,o[1].trim(),r),r),i&&o[0]===e&&!Al(i))return i;Al(i)||(i=El(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),i=""),s.length&&(i=s.reduce(((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:o[1].trim()})),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}const uc=e=>{const t={};return(n,o,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=o+JSON.stringify(r);let s=t[a];return s||(s=e(Vl(o),i),t[a]=s),s(n)}},hc=e=>(t,n,o)=>e(Vl(n),o)(t);class pc{constructor(e={}){this.logger=Yl.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?uc:hc;this.formats={number:n(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:n(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:n(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:n(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:n(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=uc(t)}format(e,t,n,o={}){const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const r=i.reduce(((e,t)=>{const{formatName:i,formatOptions:r}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const o=e.split("(");t=o[0].toLowerCase().trim();const i=o[1].substring(0,o[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...o]=e.split(":"),i=o.join(":").trim().replace(/^'+|'+$/g,""),r=t.trim();n[r]||(n[r]=i),"false"===i&&(n[r]=!1),"true"===i&&(n[r]=!0),isNaN(i)||(n[r]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const a=o?.formatParams?.[o.interpolationkey]||{},s=a.locale||a.lng||o.locale||o.lng||n;t=this.formats[i](e,s,{...r,...o,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return r}}class gc extends Xl{constructor(e,t,n,o={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=o,this.logger=Yl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,o.backend,o)}queueLoad(e,t,n,o){const i={},r={},a={},s={};return e.forEach((e=>{let o=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===r[a]&&(r[a]=!0):(this.state[a]=1,o=!1,void 0===r[a]&&(r[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))})),o||(a[e]=!0)})),(Object.keys(i).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(r),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const o=e.split("|"),i=o[0],r=o[1];t&&this.emit("failedLoading",i,r,t),!t&&n&&this.store.addResourceBundle(i,r,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:o,k:i}=Ol(e,t,Object);o[i]=o[i]||[],o[i].push(n)})(n.loaded,[i],r),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n,o=0,i=this.retryTimeout,r){if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:i,callback:r});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&o<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,o+1,2*i,r)}),i):r(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t,n={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();Al(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Al(t)&&(t=[t]);const i=this.queueLoad(e,t,n,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),o=n[0],i=n[1];this.read(o,i,"read",void 0,void 0,((n,r)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${o} failed`,n),!n&&r&&this.logger.log(`${t}loaded namespace ${i} for language ${o}`,r),this.loaded(e,n,r)}))}saveMissing(e,t,n,o,i,r={},a=()=>{}){if(!this.services?.utils?.hasLoadedNamespace||this.services?.utils?.hasLoadedNamespace(t)){if(null!=n&&""!==n){if(this.backend?.create){const s={...r,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,o,s):l(e,t,n,o),i&&"function"==typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(e){a(e)}else l(e,t,n,o,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const fc=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Al(e[1])&&(t.defaultValue=e[1]),Al(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),mc=e=>(Al(e.ns)&&(e.ns=[e.ns]),Al(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Al(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),vc=()=>{};class yc extends Xl{constructor(e={},t){var n;if(super(),this.options=mc(e),this.services={},this.logger=Yl,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Al(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=fc();this.options={...n,...this.options,...mc(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?Yl.init(o(this.modules.logger),this.options):Yl.init(null,this.options),e=this.modules.formatter?this.modules.formatter:pc;const t=new ic(this.options);this.store=new Kl(this.options.resources,this.options);const i=this.services;i.logger=Yl,i.resourceStore=this.store,i.languageUtils=t,i.pluralResolver=new sc(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(i.formatter=o(e),i.formatter.init&&i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new dc(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new gc(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",((e,...t)=>{this.emit(e,...t)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new oc(this.services,this.options),this.translator.on("*",((e,...t)=>{this.emit(e,...t)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,t||(t=vc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((e=>{this[e]=(...t)=>this.store[e](...t)}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((e=>{this[e]=(...t)=>(this.store[e](...t),this)}));const i=Rl(),r=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?r():setTimeout(r,0),i}loadResources(e,t=vc){let n=t;const o=Al(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===o?.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(o)t(o);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>t(e)))}this.options.preload?.forEach?.((e=>t(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)}))}else n(null)}reloadResources(e,t,n){const o=Rl();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=vc),this.services.backendConnector.reload(e,t,(e=>{o.resolve(),n(e)})),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Ql.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=Rl();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,r)=>{r?this.isLanguageChangingTo===e&&(o(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,n.resolve(((...e)=>this.t(...e))),t&&t(i,((...e)=>this.t(...e)))},r=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Al(t)?t:t&&t[0],r=this.store.hasLanguageSomeTranslations(n)?n:this.services.languageUtils.getBestMatchFromCodes(Al(t)?[t]:t);r&&(this.language||o(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,(e=>{i(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(r):this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const o=(e,t,...i)=>{let r;r="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(i)):{...t},r.lng=r.lng||o.lng,r.lngs=r.lngs||o.lngs,r.ns=r.ns||o.ns,""!==r.keyPrefix&&(r.keyPrefix=r.keyPrefix||n||o.keyPrefix);const a=this.options.keySeparator||".";let s;return r.keyPrefix&&Array.isArray(e)?s=e.map((e=>("function"==typeof e&&(e=ec(e,{...this.options,...t})),`${r.keyPrefix}${a}${e}`))):("function"==typeof e&&(e=ec(e,{...this.options,...t})),s=r.keyPrefix?`${r.keyPrefix}${a}${e}`:e),this.t(s,r)};return Al(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const r=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!r(n,e)||o&&!r(i,e)))}loadNamespaces(e,t){const n=Rl();return this.options.ns?(Al(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Rl();Al(e)&&(e=[e]);const o=this.options.preload||[],i=e.filter((e=>o.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=o.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(e){}const t=this.services?.languageUtils||new ic(fc());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new yc(e,t)}cloneInstance(e={},t=vc){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},i=new yc(o);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const e=Object.keys(this.store.data).reduce(((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce(((n,o)=>(n[o]={...e[t][o]},n)),e[t]),e)),{});i.store=new Kl(e,o),i.services.resourceStore=i.store}return i.translator=new oc(i.services,o),i.translator.on("*",((e,...t)=>{i.emit(e,...t)})),i.init(o,t),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bc=yc.createInstance();function xc(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})})),n}bc.createInstance=yc.createInstance,bc.createInstance,bc.dir,bc.init,bc.loadResources,bc.reloadResources,bc.use,bc.changeLanguage,bc.getFixedT,bc.t,bc.exists,bc.setDefaultNamespace,bc.hasLoadedNamespace,bc.loadNamespaces,bc.loadLanguages;const wc={},kc=(e,t,n,o)=>{Mc(n)&&wc[n]||(Mc(n)&&(wc[n]=new Date),((e,t,n,o)=>{const i=[n,{code:t,...o||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);Mc(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)})(e,t,n,o))},Cc=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}},Sc=(e,t,n)=>{e.loadNamespaces(t,Cc(e,n))},Pc=(e,t,n,o)=>{if(Mc(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Sc(e,n,o);n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,Cc(e,o))},Mc=e=>"string"==typeof e,Ic=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_c={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Tc=e=>_c[e];let Ac={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Ic,Tc)};let Rc;const Ec={type:"3rdParty",init(e){((e={})=>{Ac={...Ac,...e}})(e.options.react),(e=>{Rc=e})(e)}},Nc=he();class zc{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Lc,Oc={exports:{}},Dc=xc(Tl),Bc={};Oc.exports=(Lc||(Lc=1,function(){function e(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!n(e,o)}catch(e){return!0}}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var t=Dc,n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=t.useState,i=t.useEffect,r=t.useLayoutEffect,a=t.useDebugValue,s=!1,l=!1,c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(c,d){s||void 0===t.startTransition||(s=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var u=d();if(!l){var h=d();n(u,h)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),l=!0)}var p=(h=o({inst:{value:u,getSnapshot:d}}))[0].inst,g=h[1];return r((function(){p.value=u,p.getSnapshot=d,e(p)&&g({inst:p})}),[c,u,d]),i((function(){return e(p)&&g({inst:p}),c((function(){e(p)&&g({inst:p})}))}),[c]),a(u),u};Bc.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:c,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()),Bc);var $c=Oc.exports;const Fc={t:(e,t)=>{return Mc(t)?t:"object"==typeof(n=t)&&null!==n&&Mc(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},ready:!1},jc=()=>()=>{},Hc=(e,t={})=>{const{i18n:n}=t,{i18n:o,defaultNS:i}=Oe(Nc)||{},r=n||o||Rc;r&&!r.reportNamespaces&&(r.reportNamespaces=new zc),r||kc(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=ze((()=>({...Ac,...r?.options?.react,...t})),[r,t]),{useSuspense:s,keyPrefix:l}=a,c=ze((()=>{const t=e||i||r?.options?.defaultNS;return Mc(t)?[t]:t||["translation"]}),[e,i,r]);r?.reportNamespaces?.addUsedNamespaces?.(c);const d=Ee(0),u=Le((e=>{if(!r)return jc;const{bindI18n:t,bindI18nStore:n}=a,o=()=>{d.current+=1,e()};return t&&r.on(t,o),n&&r.store.on(n,o),()=>{t&&t.split(" ").forEach((e=>r.off(e,o))),n&&n.split(" ").forEach((e=>r.store.off(e,o)))}}),[r,a]),h=Ee(),p=Le((()=>{if(!r)return Fc;const e=!(!r.isInitialized&&!r.initializedStoreOnce)&&c.every((e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e))return!1}}):(kc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,r,a))),n=t.lng||r.language,o=d.current,i=h.current;if(i&&i.ready===e&&i.lng===n&&i.keyPrefix===l&&i.revision===o)return i;const s={t:r.getFixedT(n,"fallback"===a.nsMode?c:c[0],l),ready:e,lng:n,keyPrefix:l,revision:o};return h.current=s,s}),[r,c,l,a,t.lng]),[g,f]=_e(0),{t:m,ready:v}=$c.useSyncExternalStore(u,p,p);Ae((()=>{if(r&&!v&&!s){const e=()=>f((e=>e+1));t.lng?Pc(r,t.lng,c,e):Sc(r,c,e)}}),[r,t.lng,c,v,s,g]);const y=r||{},b=ze((()=>{const e=[m,y,v];return e.t=m,e.i18n=y,e.ready=v,e}),[m,y,v]);if(r&&s&&!v)throw new Promise((e=>{const n=()=>e();t.lng?Pc(r,t.lng,c,n):Sc(r,c,n)}));return b};var Uc=["commandId","onClick","active","iconProps","disabled"],Wc=["commandId","onClick","active"],qc=function(e,t,n){var o=e.commandId,i=e.onClick,r=e.active,a=e.iconProps,s=e.disabled,l=void 0!==s&&s,c=g(e,Uc),d=_i().provides,u=o?null==d?void 0:d.getMenuOrAction(o):null,h=Hc().t,f=Le((function(e){if(e.preventDefault(),e.stopPropagation(),i)i();else if(o&&d&&u){var t=e.currentTarget;d.executeCommand(o,{source:"click",triggerElement:t,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right"})}}),[u,o,d,i]);return F(Ur,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:h(c.label||(null==u?void 0:u.label)||""),trigger:r?"none":"hover",delay:500},F(Ei,{active:r,onClick:f,disabled:l,className:" ".concat("flyout"===(null==n?void 0:n.variant)?"w-full rounded-none px-2":""," ")},!(null!=u&&u.icon)&&c.img&&F("img",{src:c.img,alt:h(c.label||""),className:"h-5 w-5"}),!(null!=u&&u.icon)&&c.imgNode&&("string"==typeof c.imgNode?F("div",{className:"h-5",dangerouslySetInnerHTML:{__html:c.imgNode}}):c.imgNode),(null==u?void 0:u.icon)&&F(sa,p({icon:u.icon,className:"h-5 w-5"},a))))},Vc=function(e,t){var n=e.commandId,o=e.onClick,i=e.active,r=g(e,Wc),a=_i().provides,s=n?null==a?void 0:a.getMenuOrAction(n):null,l=Hc().t,c=Le((function(e){e.preventDefault(),e.stopPropagation(),o?o():n&&a&&s&&a.executeCommand(n,{source:"click"})}),[s,n,a,o]);return F(Ei,{key:r.id,className:"rounded-none px-2 py-1 text-sm hover:bg-transparent ".concat(i?"border-b-2 border-b-blue-500 text-blue-500":"border-b-2 border-b-transparent hover:border-b-gray-500"," hover:ring-transparent"),onClick:c},l(r.label))},Gc=function(e,t,n){return F("div",{className:"horizontal"===(null==n?void 0:n.direction)?"h-6 w-[1px] bg-gray-300 self-center":"h-[1px] w-6 bg-gray-300 self-center"})},Zc=function(e,t,n){return F("div",{style:{display:"flex",flexDirection:"horizontal"===(null==n?void 0:n.direction)?"row":"column",justifyContent:e.justifyContent||"start",gap:"".concat(e.gap||0,"px")}},t())},Yc=function(e,t){var n=p(p(p({},"top"===e.placement?{borderBottom:"1px solid #cfd4da"}:"bottom"===e.placement?{borderTop:"1px solid #cfd4da"}:"left"===e.placement?{borderRight:"1px solid #cfd4da"}:{borderLeft:"1px solid #cfd4da"}),{},{width:"top"===e.placement||"bottom"===e.placement?"100%":"auto",height:"left"===e.placement||"right"===e.placement?"100%":"auto",zIndex:10,justifyContent:"space-between",display:"flex",flexDirection:"top"===e.placement||"bottom"===e.placement?"row":"column"},"top"===e.placement||"bottom"===e.placement?{paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px"}:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"16px",paddingBottom:"16px"}),e.style);return void 0===e.visible||e.visible?F("div",{style:n,className:"header"},t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))):null},Xc=function(e,t){var n;return F(U,null,"string"==typeof e.extNode?F("div",{dangerouslySetInnerHTML:{__html:e.extNode}}):e.extNode,null===(n=e.extActions)||void 0===n?void 0:n.map((function(e,t){return qc({id:e.id||t+"",img:e.img,imgNode:e.imgNode,label:e.label,onClick:function(){e.onClick&&e.onClick()}},0,{direction:"horizontal"})})))},Kc=function(e,t){var n=_i().provides,o=e.tabsCommandId?null==n?void 0:n.getMenuOrAction(e.tabsCommandId):null,i=o&&"menu"===o.type?null==n?void 0:n.getItemsByIds(o.children):null,r=Hc().t;return F(U,null,o&&i&&F("div",{role:"tablist",className:"mx-4 my-4 flex flex-shrink-0 overflow-hidden bg-white"},i.filter((function(e){return"action"===e.type})).map((function(e,t,o){var i=!!e.active,a=0===t,s=t===o.length-1;return F(Ur,{key:e.id,content:r(e.label),trigger:"hover",position:"bottom"},F("button",{role:"tab","aria-selected":i,tabIndex:i?0:-1,onClick:function(t){return null==n?void 0:n.executeCommand(e.id,{source:"click",triggerElement:t.currentTarget,position:"bottom"})},className:"relative flex h-7 flex-1 cursor-pointer items-center justify-center border outline-none transition-colors ".concat(a?"rounded-l-md":""," ").concat(s?"rounded-r-md":""," ").concat(s?"":"border-r-0"," ").concat(i?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-50"," ")},e.icon&&F(sa,{icon:e.icon,className:"pointer-events-none block h-5 w-5"})))}))),t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}})))},Qc=function(e,t){var n=function(e){var t=v(_e(!1),2),n=t[0],o=t[1],i=Ee(0),r=Ee(0),a=Ee(null),s=Ee(!1);return Ae((function(){e||(o(!1),s.current=!1)}),[e]),Ae((function(){if(e){var t=a.current;if(t){var l=function(e){s.current=!0,i.current="touches"in e?e.touches[0].clientY:e.clientY,r.current=i.current},c=function(e){if(s.current){r.current="touches"in e?e.touches[0].clientY:e.clientY;var t=r.current-i.current;t<-2&&!n?(o(!0),s.current=!1):t>2&&n&&(o(!1),s.current=!1)}},d=function(){s.current=!1};return t.addEventListener("touchstart",l),t.addEventListener("touchmove",c),t.addEventListener("touchend",d),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",l),t.addEventListener("mousemove",c),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),function(){t.removeEventListener("touchstart",l),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.removeEventListener("mousedown",l),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d)}}}}),[e,n]),{elementRef:a,isFullscreen:n}}(e.open),o=n.elementRef,i=n.isFullscreen,r=_i().provides;if(!e.open)return null;var a="left"===e.location?"md:border-r":"md:border-l";return F("div",{className:"flex w-full flex-none shrink-0 flex-col border-t bg-white md:w-[275px] md:min-w-[275px] md:border-t-0 ".concat(a," absolute bottom-0 left-0 right-0 z-10 touch-pan-y border-[#cfd4da] transition-all duration-300 ease-in-out md:static md:h-full ").concat(i?"h-full":"h-1/2")},F("div",{className:"flex h-6 w-full cursor-grab items-center justify-center active:cursor-grabbing md:hidden",ref:o},F("div",{className:"h-1 w-12 rounded-full bg-gray-300"})),F("div",{className:"flex flex-row justify-end md:hidden"},F("button",{onClick:function(){null==r||r.togglePanel({id:e.id,visibleChild:e.visibleChild||"leftPanelMain",open:!e.open})},className:"mr-5 cursor-pointer"},F(sa,{icon:"x",className:"h-5 w-5"}))),F("div",{className:"flex min-h-0 flex-1 flex-col"},t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))))};function Jc(e){var t=e.hit,n=e.onClick,o=e.active,i=t.context,r=i.before,a=i.match,s=i.after,l=i.truncatedLeft,c=i.truncatedRight,d=Ee(null);return Ae((function(){o&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[o]),F("button",{ref:d,onClick:function(){return n(t)},className:"shadow-xs w-full cursor-pointer overflow-hidden rounded border border-[#cfd4da] p-3 text-left text-xs leading-tight text-gray-600 ".concat(o?"border-blue-500 bg-blue-50":"hover:border-[#1a466b] hover:bg-gray-100")},l&&" ",r,F("span",{className:"font-bold text-blue-500"},a),s,c&&" ")}var ed=function(e){var t=Ee(null),n=v(_e(e.query||""),2),o=n[0],i=n[1],r=Pa().provides,a=jo().provides,s=La(o,400);Ae((function(){t.current&&t.current.focus()}),[r]),Ae((function(){""===s?null==r||r.stopSearch():null==r||r.searchAllPages(s)}),[s,r]),Ae((function(){void 0!==e.activeResultIndex&&c(e.activeResultIndex)}),[e.activeResultIndex,e.query,e.flags]);var l=function(t,n){n?null==r||r.setFlags([].concat(y(e.flags),[t])):null==r||r.setFlags(e.flags.filter((function(e){return e!==t})))},c=function(t){var n=e.results[t];if(n){var o=n.rects.reduce((function(e,t){return{x:Math.min(e.x,t.origin.x),y:Math.min(e.y,t.origin.y)}}),{x:1/0,y:1/0});null==a||a.scrollToPage({pageNumber:n.pageIndex+1,pageCoordinates:o,center:!0})}},d=e.results.reduce((function(e,t,n){var o,i;return(null!==(i=e[o=t.pageIndex])&&void 0!==i?i:e[o]=[]).push({hit:t,index:n}),e}),{}),u=Hc().t;return F("div",{className:"flex h-full flex-col bg-white"},F("div",{className:"p-4"},F("div",{className:"relative"},F("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},F("svg",{className:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},F("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),F("input",{ref:t,type:"text",placeholder:u("Search"),autoFocus:!0,value:o,onInput:function(e){var t=e.target;i(t.value)},className:"w-full rounded-md border border-gray-300 py-1 pl-8 pr-9 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o&&F("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3",onClick:function(){i(""),t.current&&t.current.focus()}},F("svg",{className:"h-4 w-4 text-gray-500 hover:text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},F("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),F("div",{className:"mt-3 flex flex-row gap-4"},F(Oa,{label:u("Case sensitive"),checked:e.flags.includes(Ht.MatchCase),onChange:function(e){return l(Ht.MatchCase,e)}}),F(Oa,{label:u("Whole word"),checked:e.flags.includes(Ht.MatchWholeWord),onChange:function(e){return l(Ht.MatchWholeWord,e)}})),F("hr",{className:"mb-2 mt-5 border-gray-200"}),e.active&&F("div",{className:"flex h-[32px] flex-row items-center justify-between"},F("div",{className:"text-xs text-gray-500"},u("Search.Results",{total:e.total})),e.total>1&&F("div",{className:"flex flex-row"},F(Ei,{onClick:function(){null==r||r.previousResult()}},F(sa,{icon:"chevronLeft",className:"h-4 w-4"})),F(Ei,{onClick:function(){null==r||r.nextResult()}},F(sa,{icon:"chevronRight",className:"h-4 w-4"}))))),F("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto px-4"},Object.entries(d).map((function(t){var n=v(t,2),o=n[0],i=n[1];return F("div",{key:o,className:"mt-2 first:mt-0"},F("div",{className:"bg-white/80 py-2 text-xs text-gray-500 backdrop-blur"},u("Search.Page",{page:Number(o)+1})),F("div",{className:"flex flex-col gap-2"},i.map((function(t){var n=t.hit,o=t.index;return F(Jc,{key:o,hit:n,active:o===e.activeResultIndex,onClick:function(){null==r||r.goToResult(o)}})}))))})),F("div",null)))},td=function(e,t,n){var o=ta().provides,i=_i().provides;if(!i)return null;var r=Hc().t,a=e.commandZoomMenu?i.getMenuOrAction(e.commandZoomMenu):null,s=e.commandZoomIn?i.getMenuOrAction(e.commandZoomIn):null,l=e.commandZoomOut?i.getMenuOrAction(e.commandZoomOut):null,c=v(_e(!1),2);c[0],c[1];var d=Ee(null),u=Math.round(100*e.zoomLevel),h=function(e,t){t&&i.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",flatten:!0})};return Ae((function(){d.current&&console.log(d.current)}),[d.current]),F("div",{className:"flex flex-row items-center rounded-md bg-[#f1f3f5]"},F("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=new FormData(t).get("zoom");null==o||o.requestZoom(parseFloat(n)/100)},className:"block"},F("input",{name:"zoom",type:"text",inputMode:"numeric",pattern:"\\d*",className:"h-6 w-8 border-0 bg-transparent p-0 text-right text-sm","aria-label":"Set zoom",autoFocus:!1,value:u,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),F("span",{className:"text-sm"},"%")),F(Ur,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:r("Zoom Options"),trigger:e.zoomMenuActive?"none":"hover"},F(Ei,{className:"p-1",onClick:function(e){return h(e,a)},active:e.zoomMenuActive},F("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"},F("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),F("path",{d:"M6 9l6 6l6 -6"})))),F(Ur,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:r("Zoom Out"),trigger:"hover"},F(Ei,{className:"p-1",onClick:function(e){return h(e,l)}},(null==l?void 0:l.icon)&&F(sa,{icon:l.icon,className:"h-5 w-5"}))),F(Ur,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:r("Zoom In"),trigger:"hover"},F(Ei,{className:"p-1",onClick:function(e){return h(e,s)}},(null==s?void 0:s.icon)&&F(sa,{icon:s.icon,className:"h-5 w-5"}))))},nd=function(e,t){var n=rs().provides,o=jo().provides,i=Co().provides;if(!(e.open&&n&&o&&i))return null;var r=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40;if(!e.length)return null;var r=n.getMetrics(),a=n.getViewportGap(),s=1===e.length?{first:e[0],last:e[0]}:{first:e[0],last:e[e.length-1]},l=t.getRectPositionForPage(s.first.page,s.first.rect),c=t.getRectPositionForPage(s.last.page,s.last.rect);if(!l||!c)return null;var d=ls(c,r,i,o,a,!1),u=ls(l,r,i,o,a,!0);return d?{left:c.origin.x+c.size.width/2,top:c.origin.y+c.size.height+o}:u?{left:l.origin.x+l.size.width/2,top:l.origin.y-o-i}:null}(n.getBoundingRects(),o,i,10,42);return r?F("div",{style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),transform:"translate(-50%, 0%)",zIndex:2e3},className:"absolute rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"},Zc({gap:10,id:"text-selection-menu"},(function(){var o;return[null===(o=e.extActions)||void 0===o?void 0:o.map((function(e,t){return qc({id:e.id||t+"",img:e.img,imgNode:e.imgNode,label:e.label,onClick:function(){e.onClick&&e.onClick(n.getSelectedText(),n.getFormattedSelection()),n.clear()}},0,{direction:"horizontal"})})),t()]}),{direction:"horizontal"})):null},od=function(e,t){var n=Co().provides,o=v(_e(!1),2),i=o[0],r=o[1],a=v(_e(!1),2),s=a[0],l=a[1],c=Ee(),d=Le((function(){c.current&&clearTimeout(c.current),c.current=setTimeout((function(){s||r(!1)}),4e3)}),[s]);Ae((function(){if(n)return n.onScrollChange((function(e){(e.scrollTop>0||e.scrollLeft>0)&&(r(!0),d())}))}),[n,d]),Ae((function(){return function(){c.current&&clearTimeout(c.current)}}),[]);return F("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",onMouseEnter:function(){l(!0),r(!0)},onMouseLeave:function(){l(!1),d()}},F("div",{className:"rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1 transition-opacity duration-200 ".concat(i?"opacity-100":"opacity-0")},t()))},id=function(e){var t=jo().provides,n=_i().provides,o=1===e.currentPage,i=e.currentPage===e.pageCount,r=Hc().t,a=e.nextPageCommandId?null==n?void 0:n.getMenuOrAction(e.nextPageCommandId):null,s=e.previousPageCommandId?null==n?void 0:n.getMenuOrAction(e.previousPageCommandId):null,l=function(e,t){t&&n&&n.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget})};return F("div",{className:"flex flex-row items-center justify-between gap-3 rounded-md"},F(Ur,{position:"top",content:r("Previous Page"),trigger:o?"none":"hover"},F(Ei,{className:"p-1 ".concat(o?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,s)},disabled:o},(null==s?void 0:s.icon)&&F(sa,{icon:s.icon,className:"h-5 w-5"}))),F("form",{className:"flex flex-row items-center gap-3",onSubmit:function(e){e.preventDefault();var n=e.target,o=new FormData(n).get("page"),i=parseInt(o);!isNaN(i)&&i>=1&&(null==t||t.scrollToPage({pageNumber:i}))}},F("input",{name:"page",type:"text",inputMode:"numeric",pattern:"\\d*",className:"border-1 h-8 w-8 rounded-md border-gray-600 bg-white p-0 text-center text-sm","aria-label":"Set page",value:e.currentPage,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),F("span",{className:"text-sm"},e.pageCount)),F(Ur,{position:"top",content:r("Next Page"),trigger:i?"none":"hover"},F(Ei,{className:"p-1 ".concat(i?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,a)},disabled:i},(null==a?void 0:a.icon)&&F(sa,{icon:a.icon,className:"h-5 w-5"}))))},rd=function(e){var t=e.activeCommand,n=e.open,o=e.position,i=e.triggerElement,r=e.flatten,a=_i().provides,s=v(_e([]),2),l=s[0],c=s[1],d=Ee(null),u=Hc().t;if(Ae((function(){n||c([])}),[n]),Ae((function(){t&&(d.current!==t?c([]):d.current=null)}),[t]),!a)return null;var h=t?null==a?void 0:a.getChildItems(t,{flatten:r}):null,g=l.length>0&&t?a.getMenuOrAction(t):void 0,f=function(e){t&&c((function(e){return[].concat(y(e),[t])})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})},m=function(e,t){if("group"===e.type){var n=e,o=a.getItemsByIds(n.children);return F(U,{key:e.id},F("div",{className:"px-4 py-3 text-xs font-medium uppercase text-gray-600"},u(n.label+"")),o.map((function(e,t){return F(U,{key:e.id},m(e,t))})),F("hr",{className:"my-2 border-gray-200"}))}var i=e.dividerBefore&&0!==t?F("hr",{className:"my-2 border-gray-200"}):null;return F(U,{key:e.id},i,F("button",{disabled:!!e.disabled,onClick:function(){return function(e){"action"===e.type?(a.hideCommandMenu(),a.executeCommand(e.id)):"menu"===e.type&&f(e.id)}(e)},className:"flex cursor-pointer flex-row items-center justify-between gap-2 px-4 py-1 ".concat("menu"===e.type?"menu-item":""," ").concat(e.active&&!e.disabled?"bg-blue-500 text-white":"text-gray-500 hover:bg-blue-900 hover:text-white"," ").concat(e.disabled?"pointer-events-none cursor-not-allowed opacity-50":""," ")},F("div",{className:"flex flex-row items-center gap-2"},F("div",{className:"flex h-6 w-6 items-center justify-center"},e.icon&&F(sa,p({icon:e.icon,className:"h-6 w-6"},e.iconProps))),F("div",{className:"text-sm"},u(e.label))),F("div",{className:"flex items-center"},e.shortcutLabel&&F("div",{className:"mr-2 text-sm"},"(",u(e.shortcutLabel),")"),"menu"===e.type&&F(sa,{icon:"chevronRight",className:"h-6 w-6"}))))},b=F(U,null,l.length>0&&F("div",{onClick:function(){if(0!==l.length){var e=l[l.length-1];c((function(e){return e.slice(0,-1)})),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})}},className:"flex cursor-pointer flex-row items-center gap-2 px-4 py-1 pb-2 text-sm font-medium text-gray-500 hover:bg-gray-100"},F(sa,{icon:"chevronLeft",className:"h-6 w-6 text-gray-500"})," ",u(null==g?void 0:g.label)),null==h?void 0:h.map((function(e,t){return m(e,t)})));return n?F(Wr,{trigger:i,open:n,placement:o||"bottom",className:"@max-[600px]:!bottom-0 @max-[600px]:!top-auto @max-[600px]:!left-0 @max-[600px]:!right-0",onShow:function(){},onHide:function(){a.hideCommandMenu()}},b):null},ad=function(e,t){var n=jo().provides;return F(Na,{className:"flex-1",selectedPage:e.currentPage},(function(t){return F("div",{key:t.pageIndex,className:"absolute flex w-full cursor-pointer flex-col items-center",style:{height:t.wrapperHeight,top:t.top},onClick:function(){null==n||n.scrollToPage({pageNumber:t.pageIndex+1})}},F("div",{style:{width:t.width,height:t.height},className:"outline outline-2 -outline-offset-2 ".concat(e.currentPage===t.pageIndex+1?"outline-blue-500":"outline-gray-300")},F(za,{meta:t,className:"h-full w-full object-contain"})),F("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:t.labelHeight}},t.pageIndex+1))}))},sd=function(e,t){var n=lo(xs.id).provides,o=jo().provides,i=v(_e([]),2),r=i[0],a=i[1],s=v(_e(new Set),2),l=s[0],c=s[1],d=Hc().t;Ae((function(){if(n){var e=n.getBookmarks();return e.wait((function(e){var t=e.bookmarks;a(t);var n=t.map((function(e,t){return"bookmark-".concat(t)}));c(new Set(n))}),kn),function(){e.abort({code:Wt.Cancelled,message:d("Task.Bookmark.Cancelled")})}}}),[n,e.document]);var u=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="bookmark-".concat(n),s=t.children&&t.children.length>0,d=l.has(a);return F("div",{key:a,className:"outline-item"},F("div",{className:"flex cursor-pointer items-center py-1 pr-4 text-sm text-gray-700 hover:bg-gray-100",style:{paddingLeft:"".concat(16*r+8,"px")},onClick:function(){return function(t){if(o&&t.target&&"action"===t.target.type){var n=t.target.action;if(1===n.type&&n.destination){var i=n.destination;if(i.zoom.mode===kt.XYZ){var r,a=null===(r=e.document)||void 0===r?void 0:r.pages.find((function(e){return e.index===i.pageIndex}));if(!a)return;o.scrollToPage({pageNumber:i.pageIndex+1,pageCoordinates:i.zoom.params?{x:i.zoom.params.x,y:a.size.height-i.zoom.params.y}:void 0,behavior:"smooth"})}else i.zoom.mode===kt.FitPage&&o.scrollToPage({pageNumber:i.pageIndex+1,behavior:"smooth"})}}}(t)}},s&&F("button",{className:"mr-1 flex h-4 w-4 items-center justify-center rounded hover:bg-gray-200",onClick:function(e){e.stopPropagation(),function(e){c((function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))}(a)}},F(sa,{icon:d?"chevronDown":"chevronRight",className:"h-3 w-3 text-gray-500"})),!s&&F("div",{className:"mr-1 w-4"}),F("span",{className:"flex-1 truncate",title:t.title},t.title)),s&&d&&F("div",{className:"outline-children"},null===(i=t.children)||void 0===i?void 0:i.map((function(e,t){return u(e,"".concat(n,"-").concat(t),r+1)}))))};return 0===r.length?F("div",{className:"flex h-full items-center justify-center p-6"},F("div",{className:"text-center text-gray-500"},F("div",{className:"text-sm"},d("Outline.None")),F("div",{className:"mt-1 text-xs"},d("Outline.Bookmark.None")))):F("div",{className:"flex h-full flex-col bg-white"},F("div",{className:"flex-1 overflow-y-auto"},F("div",{className:"outline-tree"},r.map((function(e,t){return u(e,t)})))))},ld=function(e,t){var n=lo(Cs.id).provides,o=v(_e([]),2),i=o[0],r=o[1],a=Hc().t;Ae((function(){if(n){var e=n.getAttachments();return e.wait((function(e){r(e)}),kn),function(){e.abort({code:Wt.Cancelled,message:a("Task.Bookmark.Cancelled")})}}}),[n,e.document]);var s=function(e){if(n){var t=n.downloadAttachment(e);return t.wait((function(e){console.log(e)}),kn),function(){t.abort({code:Wt.Cancelled,message:a("Task.Attachment.Cancelled")})}}};return F("div",null,i.map((function(e){return F("div",{key:e.name,onClick:function(){return s(e)}},e.name)})))},cd=function(e,t){var n=e.activeCommandId,o=e.menuCommandId,i=e.active,r=_i().provides;if(!r)return null;var a=Hc().t,s=r.getMenuOrAction(n),l=Le((function(e){if(e.preventDefault(),e.stopPropagation(),r&&o){var t=e.currentTarget;r.executeCommand(o,{source:"click",triggerElement:t})}}),[o,r]);return F("div",{style:{maxWidth:"100px",width:"100px"}},F(Ei,{className:"col-start-1 row-start-1 !w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-2 text-[13px] text-gray-900 ".concat(i?"text-blue-500 outline outline-2 -outline-offset-2 outline-blue-500":"outline outline-1 -outline-offset-1 outline-gray-300"," flex flex-row items-center justify-between gap-2 hover:ring-transparent"),onClick:l},F("span",{className:"min-w-0 flex-1 truncate text-left"},a(null==s?void 0:s.label)),F(sa,{icon:"chevronDown",className:"h-4 w-4 text-gray-500"})))},dd=function(e){var t=_i().provides,n=jo().provides,o=fs().provides,i=Hc().t,r=v(_e("all"),2),a=r[0],s=r[1],l=v(_e(""),2),c=l[0],d=l[1],u=v(_e(!0),2),h=u[0],p=u[1],g=v(_e(!1),2),f=g[0],m=g[1],y=v(_e(""),2),b=y[0],x=y[1];if(!t)return null;if(!e.open)return null;var w=null==n?void 0:n.getMetrics(),k=(null==w?void 0:w.currentPage)||1,C=(null==n?void 0:n.getTotalPages())||0,S=function(){t.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!1}})},P=("custom"!==a||c.trim().length>0)&&!f;return F(ds,{open:e.open,title:i("Print.Settings"),onClose:S,maxWidth:"28rem"},F("div",{className:"space-y-6"},F("div",null,F("label",{className:"mb-3 block text-sm font-medium text-gray-700"},i("Print.PagesToPrint")),F("div",{className:"space-y-2"},F("label",{className:"flex items-center"},F("input",{type:"radio",name:"pageRange",value:"all",checked:"all"===a,onChange:function(){return s("all")},disabled:f,className:"mr-2"}),F("span",{className:"text-sm"},i("Print.AllPages"))),F("label",{className:"flex items-center"},F("input",{type:"radio",name:"pageRange",value:"current",checked:"current"===a,onChange:function(){return s("current")},disabled:f,className:"mr-2"}),F("span",{className:"text-sm"},i("Print.CurrentPage",{currentPage:k}))),F("label",{className:"flex items-start"},F("input",{type:"radio",name:"pageRange",value:"custom",checked:"custom"===a,onChange:function(){return s("custom")},disabled:f,className:"mr-2 mt-0.5"}),F("div",{className:"flex-1"},F("span",{className:"mb-1 block text-sm"},i("Print.SpecifyPages")),F("input",{type:"text",placeholder:i("Print.SpecifyPages.EG"),value:c,onInput:function(e){return d(e.target.value)},disabled:"custom"!==a||f,className:"w-full rounded-md border px-3 py-1 text-sm ".concat("custom"!==a||f?"bg-gray-100 text-gray-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-1")}),"custom"===a&&c.trim()&&C>0&&F("p",{className:"mt-1 text-xs text-gray-500"},i("Print.SpecifyPages.TotalPages",{totalPages:C})))))),F("div",null,F("label",{className:"flex items-center"},F("input",{type:"checkbox",checked:h,onChange:function(e){return p(e.target.checked)},disabled:f,className:"mr-2"}),F("span",{className:"text-sm font-medium text-gray-700"},i("Print.Annotations")))),f&&F("div",{className:"flex items-center space-x-3 rounded-md bg-blue-50 p-3"},F("div",{className:"flex-shrink-0"},F("svg",{className:"h-5 w-5 animate-spin text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},F("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),F("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),F("div",{className:"text-sm text-blue-700"},b)),F("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},F(Ei,{onClick:S,disabled:f,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50"},i("Cancel")),F(Ei,{onClick:function(){var e;"current"===a?e=String(k):"custom"===a&&(e=c.trim()||void 0);var t={includeAnnotations:h,pageRange:e};try{m(!0),x(i("Print.Loading"));var n=null==o?void 0:o.print(t);n&&(n.onProgress((function(e){x(e.message)})),n.wait((function(){m(!1),x(""),S()}),(function(e){console.error("Print failed:",e),m(!1),x("")})))}catch(e){console.error("Print failed:",e),m(!1),x("")}},disabled:!P,className:"flex items-center space-x-2 rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},f&&F("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},F("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),F("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),F("span",null,i(f?"Printing...":"Print"))))))};const ud="annotation",hd={id:ud,name:"Annotation Plugin",version:"1.0.0",provides:["annotation"],requires:["interaction-manager","selection"],optional:["history"],defaultConfig:{enabled:!0,autoCommit:!0,annotationAuthor:"Guest",deactivateToolAfterCreate:!1,selectAfterCreate:!0}},pd="ANNOTATION/SET_ANNOTATIONS",gd="ANNOTATION/SELECT_ANNOTATION",fd="ANNOTATION/DESELECT_ANNOTATION",md="ANNOTATION/ADD_COLOR_PRESET",vd="ANNOTATION/CREATE_ANNOTATION",yd="ANNOTATION/PATCH_ANNOTATION",bd="ANNOTATION/DELETE_ANNOTATION",xd="ANNOTATION/COMMIT",wd="ANNOTATION/PURGE_ANNOTATION",kd="ANNOTATION/SET_ACTIVE_TOOL_ID",Cd="ANNOTATION/SET_TOOL_DEFAULTS",Sd="ANNOTATION/ADD_TOOL",Pd=()=>({type:fd}),Md=(e,t)=>({type:vd,payload:{pageIndex:e,annotation:t}}),Id=(e,t,n)=>({type:yd,payload:{pageIndex:e,id:t,patch:n}}),_d=(e,t)=>({type:bd,payload:{pageIndex:e,id:t}}),Td=e=>({type:wd,payload:{uid:e}});function Ad(e){return e.object.type===At.INK}function Rd(e){return e.object.type===At.CIRCLE}function Ed(e){return e.object.type===At.POLYGON}function Nd(e){return e.object.type===At.SQUARE}function zd(e){return e.object.type===At.LINE}function Ld(e){return e.object.type===At.POLYLINE}function Od(e){return e.object.type===At.HIGHLIGHT}function Dd(e){return e.object.type===At.UNDERLINE}function Bd(e){return e.object.type===At.STRIKEOUT}function $d(e){return e.object.type===At.SQUIGGLY}function Fd(e){return e.object.type===At.FREETEXT}function jd(e){return e.object.type===At.STAMP}function Hd(e){return e.object.type===At.TEXT}function Ud(e){return function(e){return Od(e)||Dd(e)||Bd(e)||$d(e)}(e)||Ad(e)||Nd(e)||Rd(e)||Ed(e)||zd(e)||Ld(e)||Fd(e)||jd(e)}const Wd=e=>e.selectedUid?e.byUid[e.selectedUid]:null;function qd(e,t){const n=e.tools.find((e=>e.id===t));return null==n?void 0:n.defaults}const Vd=e=>{const t={};for(const n of Object.values(e.pages))for(const o of n){const n=e.byUid[o];if(n&&Hd(n)){const e=n.object.inReplyToId;e&&(t[e]||(t[e]=[])).push(n)}}const n={};for(const[o,i]of Object.entries(e.pages)){const r=Number(o),a=[];for(const n of i){const o=e.byUid[n];o&&Ud(o)&&a.push({page:r,annotation:o,replies:t[o.object.id]??[]})}a.length>0&&(n[r]=a)}return n};function Gd(e){let t=e;return[()=>t,e=>{t=e}]}const Zd={annotationType:At.INK,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i}=e,[r,a]=Gd([]),[s,l]=Gd(!1),c={current:null},d=e=>({x:Zn(e.x,0,i.width),y:Zn(e.y,0,i.height)}),u=()=>{const e=o();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,flags:e.defaults.flags??["print"]}:null},h=()=>{const e=r();if(0===e.length||0===e[0].points.length)return null;const t=u();if(!t)return null;const n=e.flatMap((e=>e.points)),o=rt(it(n),t.strokeWidth/2);return{type:At.INK,bounds:o,data:{...t,rect:o,inkList:e}}};return{onPointerDown:(e,t)=>{var o;const i=d(e);l(!0),c.current&&clearTimeout(c.current);const s=[...r(),{points:[i]}];a(s),n(h()),null==(o=t.setPointerCapture)||o.call(t)},onPointerMove:e=>{if(!s())return;const t=r();if(0===t.length)return;const o=d(e);t[t.length-1].points.push(o),a(t),n(h())},onPointerUp:(o,i)=>{var s;l(!1),null==(s=i.releasePointerCapture)||s.call(i),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{const o=r();if(o.length>0&&o[0].points.length>1){const n=u();if(!n)return;const i=o.flatMap((e=>e.points)),r=rt(it(i),n.strokeWidth/2);t({...n,inkList:o,rect:r,type:At.INK,pageIndex:e.pageIndex,id:wn(),created:new Date})}a([]),n(null)}),800)},onPointerCancel:(e,t)=>{var o;a([]),l(!1),n(null),c.current&&clearTimeout(c.current),null==(o=t.releasePointerCapture)||o.call(t)}}}};function Yd({threshold:e=5,getTool:t,onClickDetected:n}){const[o,i]=Gd(null),[r,a]=Gd(!1);return{onStart:e=>{i(e),a(!1)},onMove:t=>{const n=o();if(!n||r())return;Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))>e&&a(!0)},onEnd:e=>{var s;if(o()&&!r()){const o=t();o&&"clickBehavior"in o&&(null==(s=o.clickBehavior)?void 0:s.enabled)&&n(e,o)}i(null),a(!1)},hasMoved:r,reset:()=>{i(null),a(!1)}}}const Xd={annotationType:At.FREETEXT,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i,pageIndex:r}=e,[a,s]=Gd(null),l=e=>({x:Zn(e.x,0,i.width),y:Zn(e.y,0,i.height)}),c=()=>{const e=o();return e?{...e.defaults,fontColor:e.defaults.fontColor??"#000000",opacity:e.defaults.opacity??1,fontSize:e.defaults.fontSize??12,fontFamily:e.defaults.fontFamily??St.Helvetica,backgroundColor:e.defaults.backgroundColor??"transparent",textAlign:e.defaults.textAlign??Pt.Left,verticalAlign:e.defaults.verticalAlign??Mt.Top,contents:e.defaults.contents??"Insert text here",flags:e.defaults.flags??["print"]}:null},d=Yd({threshold:5,getTool:o,onClickDetected:(e,n)=>{const o=c();if(!o)return;const a=n.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:s,height:l}=a.defaultSize,d=s/2,u=l/2,h={origin:{x:Zn(e.x-d,0,i.width-s),y:Zn(e.y-u,0,i.height-l)},size:{width:s,height:l}},p=a.defaultContent??o.contents,g={...o,contents:p,type:At.FREETEXT,rect:h,pageIndex:r,id:wn(),created:new Date};t(g)}}),u=e=>{const t=a();if(!t)return null;const n=c();if(!n)return null;const o={origin:{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)},size:{width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y)}};return{type:At.FREETEXT,bounds:o,data:{...n,rect:o}}};return{onPointerDown:(e,t)=>{var o;const i=l(e);s(i),d.onStart(i),n(u(i)),null==(o=t.setPointerCapture)||o.call(t)},onPointerMove:e=>{const t=l(e);d.onMove(t),a()&&d.hasMoved()&&n(u(t))},onPointerUp:(o,i)=>{var r;const u=a();if(!u)return;const h=c();if(!h)return;const p=l(o);if(d.hasMoved()){const n={origin:{x:Math.min(u.x,p.x),y:Math.min(u.y,p.y)},size:{width:Math.abs(u.x-p.x),height:Math.abs(u.y-p.y)}},o={...h,type:At.FREETEXT,rect:n,pageIndex:e.pageIndex,id:wn(),created:new Date};t(o)}else d.onEnd(p);s(null),n(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var o;s(null),n(null),d.reset(),null==(o=t.releasePointerCapture)||o.call(t)},onPointerCancel:(e,t)=>{var o;s(null),n(null),d.reset(),null==(o=t.releasePointerCapture)||o.call(t)}}}};function Kd(e){const t=e=>{const t=9*e,n=Math.PI/6;return{x:-t*Math.cos(n),y:t*Math.sin(n)}};return{getSvgPath:n=>{const{x:o,y:i}=t(n);return e?`M 0 0 L ${o} ${i} L ${o} ${-i} Z`:`M ${o} ${i} L 0 0 L ${o} ${-i}`},getLocalPoints:e=>{const{x:n,y:o}=t(e);return[{x:0,y:0},{x:n,y:o},{x:n,y:-o}]},getRotation:e=>e,filled:e}}function Qd(e,t){const n=t=>t*e/2;return{getSvgPath:e=>{const t=n(e);return`M ${-t} 0 L ${t} 0`},getLocalPoints:e=>{const t=n(e);return[{x:-t,y:0},{x:t,y:0}]},getRotation:t,filled:!1}}const Jd=Kd(!1),eu=Kd(!0),tu={[Nt.OpenArrow]:Jd,[Nt.ClosedArrow]:eu,[Nt.ROpenArrow]:{...Jd,getRotation:e=>e+Math.PI},[Nt.RClosedArrow]:{...eu,getRotation:e=>e+Math.PI},[Nt.Circle]:{getSvgPath:e=>{const t=5*e/2;return`M ${t} 0 A ${t} ${t} 0 1 1 ${-t} 0 A ${t} ${t} 0 1 1 ${t} 0`},getLocalPoints:e=>{const t=5*e/2;return[{x:-t,y:-t},{x:t,y:t}]},getRotation:()=>0,filled:!0},[Nt.Square]:{getSvgPath:e=>{const t=6*e/2;return`M ${-t} ${-t} L ${t} ${-t} L ${t} ${t} L ${-t} ${t} Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:-t,y:-t},{x:t,y:-t},{x:t,y:t},{x:-t,y:t}]},getRotation:e=>e,filled:!0},[Nt.Diamond]:{getSvgPath:e=>{const t=6*e/2;return`M 0 ${-t} L ${t} 0 L 0 ${t} L ${-t} 0 Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:0,y:-t},{x:t,y:0},{x:0,y:t},{x:-t,y:0}]},getRotation:e=>e,filled:!0},[Nt.Butt]:Qd(6,(e=>e+Math.PI/2)),[Nt.Slash]:Qd(18,(e=>e+Math.PI/1.5))};function nu(e,t,n){if(!e||0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const o=[...e],i=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),r=(e,n,i)=>{if(!e)return;const r=tu[e];if(!r)return;const a=r.getLocalPoints(t),s=r.getRotation(i),l=a.map((e=>function(e,t,n){const o=Math.cos(t),i=Math.sin(t),r=e.x*o-e.y*i,a=e.x*i+e.y*o;return{x:r+n.x,y:a+n.y}}(e,s,n)));o.push(...l)};if(e.length>=2){const t=i(e[1],e[0]);r(null==n?void 0:n.start,e[0],t);const o=e.length-1,a=i(e[o-1],e[o]);r(null==n?void 0:n.end,e[o],a)}if(o.length<=1){const n=e[0]||{x:0,y:0},o=t;return{origin:{x:n.x-o,y:n.y-o},size:{width:2*o,height:2*o}}}return rt(it(o),t/2+1.2*t)}class ou{constructor(){this.patches=new Map}register(e,t){this.patches.set(e,t)}transform(e,t){const n=this.patches.get(e.type);return n?n(e,t):t.changes}}const iu=new ou,ru=Object.freeze(Object.defineProperty({__proto__:null,LINE_ENDING_HANDLERS:tu,PatchRegistry:ou,createEnding:function(e,t,n,o,i){if(!e)return null;const r=tu[e];if(!r)return null;const a=r.getRotation(n);return{d:r.getSvgPath(t),transform:`translate(${o} ${i}) rotate(${(e=>180*e/Math.PI)(a)})`,filled:r.filled}},lineRectWithEndings:nu,patchRegistry:iu},Symbol.toStringTag,{value:"Module"})),au={annotationType:At.LINE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,s]=Gd(null),l=e=>({x:Zn(e.x,0,r.width),y:Zn(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,lineEndings:e.defaults.lineEndings??{start:Nt.None,end:Nt.None},color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeStyle:e.defaults.strokeStyle??Ot.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],strokeColor:e.defaults.strokeColor??"#000000",flags:e.defaults.flags??["print"]}:null},d=Yd({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const r=o.clickBehavior;if(!(null==r?void 0:r.enabled))return;const a=r.defaultAngle??0,s=r.defaultLength/2,d=e.x-s*Math.cos(a),u=e.y-s*Math.sin(a),h=e.x+s*Math.cos(a),p=e.y+s*Math.sin(a),g=l({x:d,y:u}),f=l({x:h,y:p}),m=nu([g,f],i.strokeWidth,i.lineEndings);n({...i,rect:m,linePoints:{start:g,end:f},pageIndex:t,id:wn(),created:new Date,type:At.LINE})}}),u=e=>{const t=a();if(!t)return null;const n=c();if(!n)return null;const o=nu([t,e],n.strokeWidth,n.lineEndings);return{type:At.LINE,bounds:o,data:{...n,rect:o,linePoints:{start:t,end:e}}}};return{onPointerDown:(e,t)=>{var n;const i=l(e);s(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=l(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;const u=a();if(!u)return;const h=l(e);if(d.hasMoved()){const e=c();if(!e)return;if(Math.abs(h.x-u.x)>2||Math.abs(h.y-u.y)>2){const o=nu([u,h],e.strokeWidth,e.lineEndings);n({...e,rect:o,linePoints:{start:u,end:h},pageIndex:t,id:wn(),flags:["print"],created:new Date,type:At.LINE})}}else d.onEnd(h);s(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},su={annotationType:At.POLYLINE,create(e){const{onCommit:t,onPreview:n,getTool:o,pageSize:i}=e,[r,a]=Gd([]),[s,l]=Gd(null),c=e=>({x:Zn(e.x,0,i.width),y:Zn(e.y,0,i.height)}),d=()=>{const e=o();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??1,lineEndings:e.defaults.lineEndings??{start:Nt.None,end:Nt.None},color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Ot.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],flags:e.defaults.flags??["print"]}:null},u=()=>{const e=r(),t=s();if(0===e.length||!t)return null;const n=d();if(!n)return null;const o=[...e,t],i=nu(o,n.strokeWidth,n.lineEndings);return{type:At.POLYLINE,bounds:i,data:{...n,rect:i,vertices:o,currentVertex:t}}};return{onClick:e=>{const t=c(e),o=r(),i=o[o.length-1];i&&Math.abs(i.x-t.x)<1&&Math.abs(i.y-t.y)<1||(a([...o,t]),l(t),n(u()))},onDoubleClick:()=>{(()=>{const o=r();if(o.length<2)return;const i=d();if(!i)return;const s=nu(o,i.strokeWidth,i.lineEndings),c={...i,vertices:o,rect:s,type:At.POLYLINE,pageIndex:e.pageIndex,id:wn(),created:new Date};t(c),a([]),l(null),n(null)})()},onPointerMove:e=>{if(r().length>0){const t=c(e);l(t),n(u())}},onPointerCancel:()=>{a([]),l(null),n(null)}}}},lu={annotationType:At.POLYGON,create(e){const{onCommit:t,onPreview:n,getTool:o,scale:i,pageSize:r}=e,[a,s]=Gd([]),[l,c]=Gd(null),d=e=>({x:Zn(e.x,0,r.width),y:Zn(e.y,0,r.height)}),u=()=>{const e=o();return e?{...e.defaults,color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,strokeWidth:e.defaults.strokeWidth??1,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Ot.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],flags:e.defaults.flags??["print"]}:null},h=()=>{const o=a();if(o.length<3)return;const i=u();if(!i)return;const r=rt(it(o),i.strokeWidth/2),l={...i,vertices:o,rect:r,type:At.POLYGON,pageIndex:e.pageIndex,id:wn(),created:new Date};t(l),s([]),c(null),n(null)},p=()=>{const e=a(),t=l();if(0===e.length||!t)return null;const n=u();if(!n)return null;const o=rt(it([...e,t]),n.strokeWidth/2);return{type:At.POLYGON,bounds:o,data:{...n,rect:o,vertices:e,currentVertex:t}}};return{onClick:e=>{const t=d(e);if((e=>{const t=a();if(t.length<2)return!1;const n=14/i/2,o=t[0];return e.x>=o.x-n&&e.x<=o.x+n&&e.y>=o.y-n&&e.y<=o.y+n})(t)&&a().length>=3)return void h();const o=a(),r=o[o.length-1];r&&Math.abs(r.x-t.x)<1&&Math.abs(r.y-t.y)<1||(s([...o,t]),c(t),n(p()))},onDoubleClick:e=>{h()},onPointerMove:e=>{if(a().length>0){const t=d(e);c(t),n(p())}},onPointerCancel:e=>{s([]),c(null),n(null)}}}},cu={annotationType:At.SQUARE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,s]=Gd(null),l=e=>({x:Zn(e.x,0,r.width),y:Zn(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,flags:e.defaults.flags??["print"],strokeWidth:e.defaults.strokeWidth??2,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Ot.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1}:null},d=Yd({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const a=o.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:s,height:l}=a.defaultSize,d=s/2,u=l/2,h=Zn(e.x-d,0,r.width-s),p=Zn(e.y-u,0,r.height-l),g=i.strokeWidth,f=g/2,m={origin:{x:h-f,y:p-f},size:{width:s+g,height:l+g}},v={...i,type:At.SQUARE,created:new Date,id:wn(),pageIndex:t,rect:m};n(v)}}),u=e=>{const t=a();if(!t)return null;const n=Math.min(t.x,e.x),o=Math.min(t.y,e.y),i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),s=c();if(!s)return null;const l=s.strokeWidth,d=l/2,u={origin:{x:n-d,y:o-d},size:{width:i+l,height:r+l}};return{type:At.SQUARE,bounds:u,data:{rect:u,...s}}};return{onPointerDown:(e,t)=>{var n;const i=l(e);s(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=l(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;if(!a())return;if(!c())return;const h=l(e);if(d.hasMoved()){const e=c();if(!e)return;const o=u(h);if(o){const i={...e,type:At.SQUARE,created:new Date,id:wn(),pageIndex:t,rect:o.data.rect};n(i)}}else d.onEnd(h);s(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},du={annotationType:At.STAMP,create(e){const{services:t,onCommit:n,getTool:o,pageSize:i}=e;return{onPointerDown:r=>{const a=o();if(!a)return;const{imageSrc:s,imageSize:l}=a.defaults,c=(t,o,s)=>{const l=r.x-o/2,c=r.y-s/2,d={origin:{x:Zn(l,0,i.width-o),y:Zn(c,0,i.height-s)},size:{width:o,height:s}},u={...a.defaults,rect:d,type:At.STAMP,icon:a.defaults.icon??Et.Draft,subject:a.defaults.subject??"Stamp",flags:a.defaults.flags??["print"],pageIndex:e.pageIndex,id:wn(),created:new Date};n(u,{imageData:t})};s?t.processImage({source:s,maxWidth:i.width,maxHeight:i.height,onComplete:e=>c(e.imageData,(null==l?void 0:l.width)??e.width,(null==l?void 0:l.height)??e.height)}):t.requestFile({accept:"image/png,image/jpeg",onFile:e=>{t.processImage({source:e,maxWidth:i.width,maxHeight:i.height,onComplete:e=>c(e.imageData,e.width,e.height)})}})}}}},uu={annotationType:At.CIRCLE,create(e){const{pageIndex:t,onCommit:n,onPreview:o,getTool:i,pageSize:r}=e,[a,s]=Gd(null),l=e=>({x:Zn(e.x,0,r.width),y:Zn(e.y,0,r.height)}),c=()=>{const e=i();return e?{...e.defaults,strokeWidth:e.defaults.strokeWidth??2,strokeColor:e.defaults.strokeColor??"#000000",strokeStyle:e.defaults.strokeStyle??Ot.SOLID,strokeDashArray:e.defaults.strokeDashArray??[],color:e.defaults.color??"#000000",opacity:e.defaults.opacity??1,flags:e.defaults.flags??["print"]}:null},d=Yd({threshold:5,getTool:i,onClickDetected:(e,o)=>{const i=c();if(!i)return;const a=o.clickBehavior;if(!(null==a?void 0:a.enabled))return;const{width:s,height:l}=a.defaultSize,d=s/2,u=l/2,h=Zn(e.x-d,0,r.width-s),p=Zn(e.y-u,0,r.height-l),g=i.strokeWidth,f=g/2,m={origin:{x:h-f,y:p-f},size:{width:s+g,height:l+g}},v={...i,type:At.CIRCLE,created:new Date,id:wn(),pageIndex:t,rect:m};n(v)}}),u=e=>{const t=a();if(!t)return null;const n=Math.min(t.x,e.x),o=Math.min(t.y,e.y),i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y),s=c();if(!s)return null;const l=s.strokeWidth,d=l/2,u={origin:{x:n-d,y:o-d},size:{width:i+l,height:r+l}};return{type:At.CIRCLE,bounds:u,data:{rect:u,...s}}};return{onPointerDown:(e,t)=>{var n;const i=l(e);s(i),d.onStart(i),o(u(i)),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{const t=l(e);d.onMove(t),a()&&d.hasMoved()&&o(u(t))},onPointerUp:(e,i)=>{var r;if(!a())return;if(!c())return;const h=l(e);if(d.hasMoved()){const e=c();if(!e)return;const o=u(h);if(o){const i={...e,type:At.CIRCLE,flags:["print"],created:new Date,id:wn(),pageIndex:t,rect:o.data.rect};n(i)}}else d.onEnd(h);s(null),o(null),d.reset(),null==(r=i.releasePointerCapture)||r.call(i)},onPointerLeave:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)},onPointerCancel:(e,t)=>{var n;s(null),o(null),d.reset(),null==(n=t.releasePointerCapture)||n.call(t)}}}},hu=(e,t)=>{var n;switch(t.type){case"vertex-edit":default:return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.inkList.map((e=>({points:e.points.map((e=>({x:e.x+n,y:e.y+o})))})));return{rect:t.changes.rect,inkList:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const l=(e,t)=>({origin:{x:e.origin.x+t,y:e.origin.y+t},size:{width:Math.max(1,e.size.width-2*t),height:Math.max(1,e.size.height-2*t)}}),c=Math.min(t.changes.rect.size.width/o.size.width,t.changes.rect.size.height/o.size.height),d=Math.max(1,Math.round(e.strokeWidth*c)),u=l(o,e.strokeWidth/2),h=l(t.changes.rect,d/2),p=h.size.width/Math.max(u.size.width,1e-6),g=h.size.height/Math.max(u.size.height,1e-6),f=e.inkList.map((e=>({points:e.points.map((e=>({x:h.origin.x+(e.x-u.origin.x)*p,y:h.origin.y+(e.y-u.origin.y)*g})))})));return{rect:t.changes.rect,inkList:f,strokeWidth:d}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth){const n={...e,...t.changes},o=n.inkList.flatMap((e=>e.points)),i=rt(it(o),n.strokeWidth/2);return{...t.changes,rect:i}}return t.changes}},pu=(e,t)=>{var n;switch(t.type){case"vertex-edit":if(t.changes.linePoints){const{start:n,end:o}=t.changes.linePoints;return{rect:nu([n,o],e.strokeWidth,e.lineEndings),linePoints:{start:n,end:o}}}return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y;return{rect:t.changes.rect,linePoints:{start:{x:e.linePoints.start.x+n,y:e.linePoints.start.y+o},end:{x:e.linePoints.end.x+n,y:e.linePoints.end.y+o}}}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const l={start:{x:t.changes.rect.origin.x+(e.linePoints.start.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.linePoints.start.y-o.origin.y)*a},end:{x:t.changes.rect.origin.x+(e.linePoints.end.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.linePoints.end.y-o.origin.y)*a}};return{rect:t.changes.rect,linePoints:l}}return t.changes;case"property-update":if(t.changes.strokeWidth||t.changes.lineEndings){const n={...e,...t.changes},o=nu([n.linePoints.start,n.linePoints.end],n.strokeWidth,n.lineEndings);return{...t.changes,rect:o}}return t.changes;default:return t.changes}},gu=(e,t)=>{var n;switch(t.type){case"vertex-edit":return t.changes.vertices&&t.changes.vertices.length?{rect:nu(t.changes.vertices,e.strokeWidth,e.lineEndings),vertices:t.changes.vertices}:t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.changes.rect,vertices:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const l=e.vertices.map((e=>({x:t.changes.rect.origin.x+(e.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.y-o.origin.y)*a})));return{rect:t.changes.rect,vertices:l}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth||void 0!==t.changes.lineEndings){const n={...e,...t.changes},o=nu(n.vertices,n.strokeWidth,n.lineEndings);return{...t.changes,rect:o}}return t.changes;default:return t.changes}},fu=(e,t)=>{var n;switch(t.type){case"vertex-edit":if(t.changes.vertices&&t.changes.vertices.length){const n=e.strokeWidth/2;return{rect:rt(it(t.changes.vertices),n),vertices:t.changes.vertices}}return t.changes;case"move":if(t.changes.rect){const n=t.changes.rect.origin.x-e.rect.origin.x,o=t.changes.rect.origin.y-e.rect.origin.y,i=e.vertices.map((e=>({x:e.x+n,y:e.y+o})));return{rect:t.changes.rect,vertices:i}}return t.changes;case"resize":if(t.changes.rect){const o=e.rect,i=t.changes.rect;let r=i.size.width/o.size.width,a=i.size.height/o.size.height;const s=10;if((i.size.width<s||i.size.height<s)&&(r=Math.max(r,s/o.size.width),a=Math.max(a,s/o.size.height),t.changes.rect={origin:i.origin,size:{width:o.size.width*r,height:o.size.height*a}}),null==(n=t.metadata)?void 0:n.maintainAspectRatio){const e=Math.min(r,a);r=e,a=e,t.changes.rect.size={width:o.size.width*e,height:o.size.height*e}}const l=e.vertices.map((e=>({x:t.changes.rect.origin.x+(e.x-o.origin.x)*r,y:t.changes.rect.origin.y+(e.y-o.origin.y)*a})));return{rect:t.changes.rect,vertices:l}}return t.changes;case"property-update":if(void 0!==t.changes.strokeWidth){const n={...e,...t.changes},o=n.strokeWidth/2,i=rt(it(n.vertices),o);return{...t.changes,rect:i}}return t.changes;default:return t.changes}},mu=class extends Vn{constructor(e,t,n){var o,i,r;super(e,t),this.ANNOTATION_HISTORY_TOPIC="annotations",this.state$=eo(),this.pendingContexts=new Map,this.handlerFactories=new Map,this.activeTool$=eo(null),this.events$=eo(),this.patchRegistry=new ou,this.isInitialLoadComplete=!1,this.importQueue=[],this.config=n,this.selection=(null==(o=t.getPlugin("selection"))?void 0:o.provides())??null,this.history=(null==(i=t.getPlugin("history"))?void 0:i.provides())??null,this.interactionManager=(null==(r=t.getPlugin("interaction-manager"))?void 0:r.provides())??null,this.coreStore.onAction(En,((e,t)=>{const n=t.core.document;this.isInitialLoadComplete=!1,n&&this.getAllAnnotations(n)})),this.registerHandlerFactories(),this.registerBuiltInPatches()}registerHandlerFactories(){this.handlerFactories.set(At.CIRCLE,uu),this.handlerFactories.set(At.SQUARE,cu),this.handlerFactories.set(At.STAMP,du),this.handlerFactories.set(At.POLYGON,lu),this.handlerFactories.set(At.POLYLINE,su),this.handlerFactories.set(At.LINE,au),this.handlerFactories.set(At.INK,Zd),this.handlerFactories.set(At.FREETEXT,Xd)}registerBuiltInPatches(){this.patchRegistry.register(At.INK,hu),this.patchRegistry.register(At.LINE,pu),this.patchRegistry.register(At.POLYLINE,gu),this.patchRegistry.register(At.POLYGON,fu)}async initialize(){var e,t,n;this.state.tools.forEach((e=>this.registerInteractionForTool(e))),null==(e=this.history)||e.onHistoryChange((e=>{e===this.ANNOTATION_HISTORY_TOPIC&&!1!==this.config.autoCommit&&this.commit()})),null==(t=this.interactionManager)||t.onModeChange((e=>{var t;const n=(null==(t=this.state.tools.find((t=>(t.interaction.mode??t.id)===e.activeMode)))?void 0:t.id)??null;n!==this.state.activeToolId&&this.dispatch({type:kd,payload:n})})),null==(n=this.selection)||n.onEndSelection((()=>{var e,t,n;const o=this.getActiveTool();if(!o||!o.interaction.textSelection)return;const i=null==(e=this.selection)?void 0:e.getFormattedSelection(),r=null==(t=this.selection)?void 0:t.getSelectedText();if(i&&r){for(const e of i)r.wait((t=>{const n=wn();this.createAnnotation(e.pageIndex,{...o.defaults,rect:e.rect,segmentRects:e.segmentRects,pageIndex:e.pageIndex,created:new Date,id:n,custom:{text:t.join("\n")}}),this.getToolBehavior(o,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(o,"selectAfterCreate")&&this.selectAnnotation(e.pageIndex,n)}),kn);null==(n=this.selection)||n.clear()}}))}registerInteractionForTool(e){var t,n;null==(t=this.interactionManager)||t.registerMode({id:e.interaction.mode??e.id,scope:"page",exclusive:e.interaction.exclusive,cursor:e.interaction.cursor}),e.interaction.textSelection&&(null==(n=this.selection)||n.enableForMode(e.interaction.mode??e.id))}buildCapability(){return{getPageAnnotations:e=>this.getPageAnnotations(e),getSelectedAnnotation:()=>Wd(this.state),selectAnnotation:(e,t)=>this.selectAnnotation(e,t),deselectAnnotation:()=>this.dispatch(Pd()),getActiveTool:()=>this.getActiveTool(),setActiveTool:e=>this.setActiveTool(e),getTools:()=>this.state.tools,getTool:e=>this.getTool(e),addTool:e=>{this.dispatch((e=>({type:Sd,payload:e}))(e)),this.registerInteractionForTool(e)},transformAnnotation:(e,t)=>this.transformAnnotation(e,t),registerPatchFunction:(e,t)=>this.registerPatchFunction(e,t),findToolForAnnotation:e=>this.findToolForAnnotation(e),setToolDefaults:(e,t)=>this.dispatch(((e,t)=>({type:Cd,payload:{toolId:e,patch:t}}))(e,t)),getColorPresets:()=>[...this.state.colorPresets],addColorPreset:e=>this.dispatch((e=>({type:md,payload:e}))(e)),importAnnotations:e=>this.importAnnotations(e),createAnnotation:(e,t,n)=>this.createAnnotation(e,t,n),updateAnnotation:(e,t,n)=>this.updateAnnotation(e,t,n),deleteAnnotation:(e,t)=>this.deleteAnnotation(e,t),renderAnnotation:e=>this.renderAnnotation(e),onStateChange:this.state$.on,onActiveToolChange:this.activeTool$.on,onAnnotationEvent:this.events$.on,commit:()=>this.commit()}}onStoreUpdated(e,t){this.state$.emit(t),e.activeToolId===t.activeToolId&&e.tools===t.tools||this.activeTool$.emit(this.getActiveTool())}registerPatchFunction(e,t){this.patchRegistry.register(e,t)}transformAnnotation(e,t){const n={type:t.type,changes:t.changes,metadata:t.metadata};return this.patchRegistry.transform(e,n)}registerPageHandlers(e,t,n){var o;const i=null==(o=this.coreState.core.document)?void 0:o.pages[e];if(!i)return()=>{};if(!this.interactionManager)return()=>{};const r=[];for(const o of this.state.tools){if(!o.defaults.type)continue;const a=this.handlerFactories.get(o.defaults.type);if(!a)continue;const s={pageIndex:e,pageSize:i.size,scale:t,services:n.services,onPreview:e=>n.onPreview(o.id,e),onCommit:(t,n)=>{this.createAnnotation(e,t,n),this.getToolBehavior(o,"deactivateToolAfterCreate")&&this.setActiveTool(null),this.getToolBehavior(o,"selectAfterCreate")&&this.selectAnnotation(e,t.id)},getTool:()=>this.state.tools.find((e=>e.id===o.id))},l=this.interactionManager.registerHandlers({modeId:o.interaction.mode??o.id,handlers:a.create(s),pageIndex:e});r.push(l)}return()=>r.forEach((e=>e()))}getAllAnnotations(e){this.engine.getAllAnnotations(e).wait((e=>{this.dispatch((e=>({type:pd,payload:e}))(e)),this.isInitialLoadComplete=!0,this.importQueue.length>0&&this.processImportQueue(),this.events$.emit({type:"loaded",total:Object.values(e).reduce(((e,t)=>e+t.length),0)})}),kn)}getPageAnnotations(e){const{pageIndex:t}=e,n=this.coreState.core.document;if(!n)return qt.reject({code:Wt.NotFound,message:"Document not found"});const o=n.pages.find((e=>e.index===t));return o?this.engine.getPageAnnotations(n,o):qt.reject({code:Wt.NotFound,message:"Page not found"})}renderAnnotation({pageIndex:e,annotation:t,options:n}){const o=this.coreState.core;if(!o.document)return qt.reject({code:Wt.NotFound,message:"Document not found"});const i=o.document.pages.find((t=>t.index===e));return i?this.engine.renderPageAnnotation(o.document,i,t,n):qt.reject({code:Wt.NotFound,message:"Page not found"})}importAnnotations(e){this.isInitialLoadComplete?this.processImportItems(e):this.importQueue.push(...e)}processImportQueue(){if(0===this.importQueue.length)return;const e=[...this.importQueue];this.importQueue=[],this.processImportItems(e)}processImportItems(e){for(const t of e){const{annotation:e,ctx:n}=t,o=e.pageIndex,i=e.id;this.dispatch(Md(o,e)),n&&this.pendingContexts.set(i,n)}!1!==this.config.autoCommit&&this.commit()}createAnnotation(e,t,n){const o=t.id,i={...t,author:t.author??this.config.annotationAuthor},r=()=>{this.dispatch(Md(e,i)),n&&this.pendingContexts.set(o,n),this.events$.emit({type:"create",annotation:i,pageIndex:e,ctx:n,committed:!1})};if(!this.history)return r(),void(this.config.autoCommit&&this.commit());const a={execute:r,undo:()=>{this.pendingContexts.delete(o),this.dispatch(Pd()),this.dispatch(_d(e,o)),this.events$.emit({type:"delete",annotation:i,pageIndex:e,committed:!1})}};this.history.register(a,this.ANNOTATION_HISTORY_TOPIC)}buildPatch(e,t){return"rect"in t?t:this.transformAnnotation(e,{type:"property-update",changes:t})}updateAnnotation(e,t,n){const o=this.state.byUid[t].object,i=this.buildPatch(o,{...n,author:n.author??this.config.annotationAuthor}),r=()=>{this.dispatch(Id(e,t,i)),this.events$.emit({type:"update",annotation:o,pageIndex:e,patch:i,committed:!1})};if(!this.history)return r(),void(!1!==this.config.autoCommit&&this.commit());const a=Object.fromEntries(Object.keys(n).map((e=>[e,o[e]]))),s={execute:r,undo:()=>{this.dispatch(Id(e,t,a)),this.events$.emit({type:"update",annotation:o,pageIndex:e,patch:a,committed:!1})}};this.history.register(s,this.ANNOTATION_HISTORY_TOPIC)}deleteAnnotation(e,t){var n;const o=null==(n=this.state.byUid[t])?void 0:n.object;if(!o)return;const i=()=>{this.dispatch(Pd()),this.dispatch(_d(e,t)),this.events$.emit({type:"delete",annotation:o,pageIndex:e,committed:!1})};if(!this.history)return i(),void(!1!==this.config.autoCommit&&this.commit());const r={execute:i,undo:()=>{this.dispatch(Md(e,o)),this.events$.emit({type:"create",annotation:o,pageIndex:e,committed:!1})}};this.history.register(r,this.ANNOTATION_HISTORY_TOPIC)}selectAnnotation(e,t){this.dispatch(((e,t)=>({type:gd,payload:{pageIndex:e,id:t}}))(e,t))}getActiveTool(){return this.state.activeToolId?this.state.tools.find((e=>e.id===this.state.activeToolId))??null:null}setActiveTool(e){var t,n;if(e===this.state.activeToolId)return;const o=this.state.tools.find((t=>t.id===e));o?null==(t=this.interactionManager)||t.activate(o.interaction.mode??o.id):null==(n=this.interactionManager)||n.activateDefaultMode()}getTool(e){return this.state.tools.find((t=>t.id===e))}findToolForAnnotation(e){let t=null,n=0;for(const o of this.state.tools){const i=o.matchScore(e);i>n&&(n=i,t=o)}return t}commit(){const e=new yt;if(!this.state.hasPendingChanges)return qt.resolve(!0);const t=this.coreState.core.document;if(!t)return qt.reject({code:Wt.NotFound,message:"Document not found"});const n=[],o=[],i=[];for(const[e,r]of Object.entries(this.state.byUid)){if("synced"===r.commitState)continue;const a=t.pages.find((e=>e.index===r.object.pageIndex));if(a)switch(r.commitState){case"new":const s=this.pendingContexts.get(r.object.id),l=this.engine.createPageAnnotation(t,a,r.object,s);l.wait((()=>{this.events$.emit({type:"create",annotation:r.object,pageIndex:r.object.pageIndex,ctx:s,committed:!0}),this.pendingContexts.delete(r.object.id)}),kn),n.push(l);break;case"dirty":const c=this.engine.updatePageAnnotation(t,a,r.object);c.wait((()=>{this.events$.emit({type:"update",annotation:r.object,pageIndex:r.object.pageIndex,patch:r.object,committed:!0})}),kn),o.push(c);break;case"deleted":i.push({ta:r,uid:e})}}const r=[];for(const{ta:e,uid:n}of i){const o=t.pages.find((t=>t.index===e.object.pageIndex));if("deleted"===e.commitState&&e.object.id){const i=new yt;this.engine.removePageAnnotation(t,o,e.object).wait((()=>{this.dispatch(Td(n)),this.events$.emit({type:"delete",annotation:e.object,pageIndex:e.object.pageIndex,committed:!0}),i.resolve(!0)}),i.fail),r.push(i)}else this.dispatch(Td(n))}const a=[...n,...o,...r];return yt.allSettled(a).wait((()=>{this.dispatch({type:xd}),e.resolve(!0)}),e.fail),e}getToolBehavior(e,t){var n;return void 0!==(null==(n=e.behavior)?void 0:n[t])?e.behavior[t]:!1!==this.config[t]}};mu.id="annotation";let vu=mu;const yu=[{id:"highlight",name:"Highlight",matchScore:e=>e.type===At.HIGHLIGHT?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:At.HIGHLIGHT,color:"#FFCD45",opacity:1,blendMode:It.Multiply}},{id:"underline",name:"Underline",matchScore:e=>e.type===At.UNDERLINE?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:At.UNDERLINE,color:"#E44234",opacity:1}},{id:"strikeout",name:"Strikeout",matchScore:e=>e.type===At.STRIKEOUT?1:0,interaction:{exclusive:!1,textSelection:!0},defaults:{type:At.STRIKEOUT,color:"#E44234",opacity:1}},{id:"squiggly",name:"Squiggly",matchScore:e=>e.type===At.SQUIGGLY?1:0,interaction:{exclusive:!1,textSelection:!0,isDraggable:!1,isResizable:!1},defaults:{type:At.SQUIGGLY,color:"#E44234",opacity:1}},{id:"ink",name:"Pen",matchScore:e=>e.type===At.INK&&"InkHighlight"!==e.intent?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:At.INK,color:"#E44234",opacity:1,strokeWidth:6}},{id:"inkHighlighter",name:"Ink Highlighter",matchScore:e=>e.type===At.INK&&"InkHighlight"===e.intent?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:At.INK,intent:"InkHighlight",color:"#FFCD45",opacity:1,strokeWidth:14,blendMode:It.Multiply}},{id:"circle",name:"Circle",matchScore:e=>e.type===At.CIRCLE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:At.CIRCLE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:Ot.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"square",name:"Square",matchScore:e=>e.type===At.SQUARE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:At.SQUARE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",strokeStyle:Ot.SOLID},clickBehavior:{enabled:!0,defaultSize:{width:100,height:100}}},{id:"line",name:"Line",matchScore:e=>e.type===At.LINE&&"LineArrow"!==e.intent?5:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:At.LINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"lineArrow",name:"Arrow",matchScore:e=>e.type===At.LINE&&"LineArrow"===e.intent?10:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:At.LINE,intent:"LineArrow",color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234",lineEndings:{start:Nt.None,end:Nt.OpenArrow}},clickBehavior:{enabled:!0,defaultLength:100,defaultAngle:0}},{id:"polyline",name:"Polyline",matchScore:e=>e.type===At.POLYLINE?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:At.POLYLINE,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"polygon",name:"Polygon",matchScore:e=>e.type===At.POLYGON?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!1,lockAspectRatio:!1},defaults:{type:At.POLYGON,color:"transparent",opacity:1,strokeWidth:6,strokeColor:"#E44234"}},{id:"freeText",name:"Free Text",matchScore:e=>e.type===At.FREETEXT?1:0,interaction:{exclusive:!1,cursor:"crosshair",isDraggable:!0,isResizable:!0,lockAspectRatio:!1},defaults:{type:At.FREETEXT,contents:"Insert text",fontSize:14,fontColor:"#E44234",fontFamily:St.Helvetica,textAlign:Pt.Left,verticalAlign:Mt.Top,backgroundColor:"transparent",opacity:1},clickBehavior:{enabled:!0,defaultSize:{width:100,height:20},defaultContent:"Insert text"}},{id:"stamp",name:"Image",matchScore:e=>e.type===At.STAMP?1:0,interaction:{exclusive:!1,cursor:"copy",isDraggable:!0,isResizable:!0,lockAspectRatio:!0},defaults:{type:At.STAMP}}],bu=["#E44234","#FF8D00","#FFCD45","#5CC96E","#25D2D1","#597CE2","#C544CE","#7D2E25","#000000","#FFFFFF"];function xu(e){return t=>(null==t?void 0:t.id)===e}const wu=xu("highlight"),ku=xu("squiggly"),Cu=xu("underline"),Su=xu("strikeout"),Pu={manifest:hd,create:(e,t)=>new vu(ud,e,t),reducer:(e,t)=>{switch(t.type){case pd:{const n={...e.pages},o={...e.byUid};for(const[i,r]of Object.entries(t.payload)){const t=Number(i),a=e.pages[t]||[];for(const e of a)delete o[e];const s=r.map((e=>{const t=e.id;return o[t]={commitState:"synced",object:e},t}));n[t]=s}return{...e,pages:n,byUid:o}}case kd:return{...e,activeToolId:t.payload};case Sd:{const n=new Map(e.tools.map((e=>[e.id,e])));return n.set(t.payload.id,t.payload),{...e,tools:Array.from(n.values())}}case Cd:{const{toolId:n,patch:o}=t.payload;return{...e,tools:e.tools.map((e=>e.id===n?{...e,defaults:{...e.defaults,...o}}:e))}}case gd:return{...e,selectedUid:t.payload.id};case fd:return{...e,selectedUid:null};case md:return e.colorPresets.includes(t.payload)?e:{...e,colorPresets:[...e.colorPresets,t.payload]};case vd:{const{pageIndex:n,annotation:o}=t.payload,i=o.id;return{...e,pages:{...e.pages,[n]:[...e.pages[n]??[],i]},byUid:{...e.byUid,[i]:{commitState:"new",object:o}},hasPendingChanges:!0}}case bd:{const{pageIndex:n,id:o}=t.payload;return e.byUid[o]?{...e,pages:{...e.pages,[n]:(e.pages[n]??[]).filter((e=>e!==o))},byUid:{...e.byUid,[o]:{...e.byUid[o],commitState:"deleted"}},hasPendingChanges:!0}:e}case yd:return((e,t,n)=>{const o=e.byUid[t];return o?{...e,byUid:{...e.byUid,[t]:{...o,commitState:"synced"===o.commitState?"dirty":o.commitState,object:{...o.object,...n}}},hasPendingChanges:!0}:e})(e,t.payload.id,t.payload.patch);case xd:{const t={};for(const[n,o]of Object.entries(e.byUid))t[n]={...o,commitState:"dirty"===o.commitState||"new"===o.commitState?"synced":o.commitState};return{...e,byUid:t,hasPendingChanges:!1}}case wd:{const{uid:n}=t.payload,{[n]:o,...i}=e.byUid;return{...e,byUid:i}}default:return e}},initialState:(e,t)=>(e=>{const t=new Map;return yu.forEach((e=>t.set(e.id,e))),(e.tools||[]).forEach((e=>t.set(e.id,e))),{pages:{},byUid:{},selectedUid:null,activeToolId:null,tools:Array.from(t.values()),colorPresets:e.colorPresets??bu,hasPendingChanges:!1}})(t)},Mu="INTERACTION/ACTIVATE_MODE",Iu="INTERACTION/PAUSE",_u="INTERACTION/RESUME",Tu="INTERACTION/SET_CURSOR",Au="INTERACTION/SET_DEFAULT_MODE",Ru="INTERACTION/SET_EXCLUSION_RULES",Eu="INTERACTION/ADD_EXCLUSION_CLASS",Nu="INTERACTION/REMOVE_EXCLUSION_CLASS",zu="INTERACTION/ADD_EXCLUSION_ATTRIBUTE",Lu="INTERACTION/REMOVE_EXCLUSION_ATTRIBUTE",Ou=e=>({type:Ru,payload:{rules:e}});const Du="pointerMode",Bu=class extends Vn{constructor(e,t,n){super(e,t),this.modes=new Map,this.cursorClaims=new Map,this.buckets=new Map,this.alwaysGlobal=new Set,this.alwaysPage=new Map,this.onModeChange$=Jn(),this.onHandlerChange$=Jn(),this.onCursorChange$=Jn(),this.onStateChange$=eo(),this.registerMode({id:Du,scope:"page",exclusive:!1,cursor:"auto"}),this.setDefaultMode(Du),this.activate(Du),n.exclusionRules&&this.dispatch(Ou(n.exclusionRules))}async initialize(e){}buildCapability(){return{activate:e=>this.activate(e),onModeChange:this.onModeChange$.on,onCursorChange:this.onCursorChange$.on,onHandlerChange:this.onHandlerChange$.on,onStateChange:this.onStateChange$.on,getActiveMode:()=>this.state.activeMode,getActiveInteractionMode:()=>this.getActiveInteractionMode(),activateDefaultMode:()=>this.activate(this.state.defaultMode),registerMode:e=>this.registerMode(e),registerHandlers:e=>this.registerHandlers(e),registerAlways:e=>this.registerAlways(e),setCursor:(e,t,n=0)=>this.setCursor(e,t,n),removeCursor:e=>this.removeCursor(e),getCurrentCursor:()=>this.state.cursor,getHandlersForScope:e=>this.getHandlersForScope(e),activeModeIsExclusive:()=>this.activeModeIsExclusive(),pause:()=>this.dispatch({type:Iu}),resume:()=>this.dispatch({type:_u}),isPaused:()=>this.registry.isDestroyed()||this.state.paused,setDefaultMode:e=>this.setDefaultMode(e),getDefaultMode:()=>this.state.defaultMode,getExclusionRules:()=>this.state.exclusionRules,setExclusionRules:e=>this.dispatch(Ou(e)),addExclusionClass:e=>this.dispatch((e=>({type:Eu,payload:{className:e}}))(e)),removeExclusionClass:e=>this.dispatch((e=>({type:Nu,payload:{className:e}}))(e)),addExclusionAttribute:e=>this.dispatch((e=>({type:zu,payload:{attribute:e}}))(e)),removeExclusionAttribute:e=>this.dispatch((e=>({type:Lu,payload:{attribute:e}}))(e))}}activate(e){if(!this.modes.has(e))throw new Error(`[interaction] unknown mode '${e}'`);if(e===this.state.activeMode)return;const t=this.state.activeMode;this.cursorClaims.clear(),this.notifyHandlersInactive(t),this.dispatch((e=>({type:Mu,payload:{mode:e}}))(e)),this.emitCursor(),this.notifyHandlersActive(e),this.onModeChange$.emit({...this.state,activeMode:e})}setDefaultMode(e){if(!this.modes.has(e))throw new Error(`[interaction] cannot set unknown mode '${e}' as default`);this.dispatch({type:Au,payload:{mode:e}})}notifyHandlersActive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}))})))}notifyHandlersInactive(e){this.alwaysGlobal.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),this.alwaysPage.forEach((t=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))}));const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})),"page"===t.scope&&n.page.forEach(((t,n)=>{t.forEach((t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}))})))}registerMode(e){this.modes.set(e.id,e),this.buckets.has(e.id)||this.buckets.set(e.id,{global:new Set,page:new Map})}registerHandlers({modeId:e,handlers:t,pageIndex:n}){const o=Array.isArray(e)?e:[e],i=[];for(const e of o){const o=this.buckets.get(e);if(!o)throw new Error(`unknown mode '${e}'`);if(null==n)o.global.add(t);else{const e=o.page.get(n)??new Set;e.add(t),o.page.set(n,e)}i.push((()=>{if(null==n)o.global.delete(t);else{const e=o.page.get(n);e&&(e.delete(t),0===e.size&&o.page.delete(n))}}))}return this.onHandlerChange$.emit({...this.state}),()=>{i.forEach((e=>e())),this.onHandlerChange$.emit({...this.state})}}registerAlways({scope:e,handlers:t}){if("global"===e.type)return this.alwaysGlobal.add(t),this.onHandlerChange$.emit({...this.state}),()=>this.alwaysGlobal.delete(t);const n=this.alwaysPage.get(e.pageIndex)??new Set;return n.add(t),this.alwaysPage.set(e.pageIndex,n),this.onHandlerChange$.emit({...this.state}),()=>{n.delete(t),this.onHandlerChange$.emit({...this.state})}}getHandlersForScope(e){if(!this.state)return null;const t=this.modes.get(this.state.activeMode);if(!t)return null;const n=this.buckets.get(t.id);if(!n)return null;const o=(e,t)=>e.size||t.size?function(e){const t=["onPointerDown","onPointerUp","onPointerMove","onPointerEnter","onPointerLeave","onPointerCancel","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave","onMouseCancel","onClick","onDoubleClick"],n={};for(const o of t)n[o]=(t,n,i)=>{var r;for(const a of e)null==(r=a[o])||r.call(a,t,n,i)};return n}([...e,...t]):null;if("global"===e.type){const e="global"===t.scope?n.global:new Set;return o(this.alwaysGlobal,e)}return o(this.alwaysPage.get(e.pageIndex)??new Set,"page"===t.scope?n.page.get(e.pageIndex)??new Set:new Set)}setCursor(e,t,n=0){this.cursorClaims.set(e,{cursor:t,priority:n}),this.emitCursor()}removeCursor(e){this.cursorClaims.delete(e),this.emitCursor()}emitCursor(){var e;const t=[...this.cursorClaims.values()].sort(((e,t)=>t.priority-e.priority))[0]??{cursor:(null==(e=this.modes.get(this.state.activeMode))?void 0:e.cursor)??"auto"};var n;t.cursor!==this.state.cursor&&(this.dispatch((n=t.cursor,{type:Tu,payload:{cursor:n}})),this.onCursorChange$.emit(t.cursor))}onStoreUpdated(e,t){this.onStateChange$.emit(t)}activeModeIsExclusive(){const e=this.modes.get(this.state.activeMode);return!!(null==e?void 0:e.exclusive)}getActiveInteractionMode(){return this.modes.get(this.state.activeMode)??null}async destroy(){this.onModeChange$.clear(),this.onCursorChange$.clear(),await super.destroy()}};Bu.id="interaction-manager";let $u=Bu;const Fu="interaction-manager",ju={activeMode:"pointerMode",defaultMode:"pointerMode",cursor:"auto",paused:!1,exclusionRules:{classes:[],dataAttributes:[]}},Hu={manifest:{id:Fu,name:"Interaction Manager Plugin",version:"1.0.0",provides:["interaction-manager"],requires:[],optional:[],defaultConfig:{enabled:!0,exclusionRules:{classes:[],dataAttributes:["data-no-interaction"]}}},create:(e,t)=>new $u(Fu,e,t),reducer:(e,t)=>{switch(t.type){case Mu:return{...e,activeMode:t.payload.mode};case Tu:return{...e,cursor:t.payload.cursor};case Iu:return{...e,paused:!0};case _u:return{...e,paused:!1};case Au:return{...e,defaultMode:t.payload.mode};case Ru:return{...e,exclusionRules:t.payload.rules};case Eu:return{...e,exclusionRules:{...e.exclusionRules,classes:[...e.exclusionRules.classes||[],t.payload.className].filter(((e,t,n)=>n.indexOf(e)===t))}};case Nu:return{...e,exclusionRules:{...e.exclusionRules,classes:(e.exclusionRules.classes||[]).filter((e=>e!==t.payload.className))}};case zu:return{...e,exclusionRules:{...e.exclusionRules,dataAttributes:[...e.exclusionRules.dataAttributes||[],t.payload.attribute].filter(((e,t,n)=>n.indexOf(e)===t))}};case Lu:return{...e,exclusionRules:{...e.exclusionRules,dataAttributes:(e.exclusionRules.dataAttributes||[]).filter((e=>e!==t.payload.attribute))}};default:return e}},initialState:ju},Uu=()=>lo($u.id);const Wu={pointerdown:"onPointerDown",pointerup:"onPointerUp",pointermove:"onPointerMove",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointercancel:"onPointerCancel",mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousecancel:"onMouseCancel",click:"onClick",dblclick:"onDoubleClick",touchstart:"onPointerDown",touchend:"onPointerUp",touchmove:"onPointerMove",touchcancel:"onPointerCancel"},qu=["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousecancel","click","dblclick"],Vu="undefined"!=typeof PointerEvent?qu:[...qu,"touchstart","touchend","touchmove","touchcancel"];function Gu(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function Zu(e,t,n,o){let i=e.getHandlersForScope(t);const r=()=>{var t;return!1!==(null==(t=e.getActiveInteractionMode())?void 0:t.wantsRawTouch)},a={};let s=r();const l=e=>{Vu.forEach((t=>{const o=a[t]??(a[t]=m);var i;n.addEventListener(t,o,(i=e,t.startsWith("touch")?{passive:!i}:{passive:!1}))}))},c=()=>{Vu.forEach((e=>{const t=a[e];t&&n.removeEventListener(e,t)}))};l(s),n.style.touchAction=s?"none":"";const d=e.onModeChange((()=>{if("global"===t.type){const t=e.getActiveInteractionMode();n.style.cursor="global"===(null==t?void 0:t.scope)?t.cursor??"auto":"auto"}i=e.getHandlersForScope(t);const o=r();o!==s&&(c(),l(o),s=o,n.style.touchAction=s?"none":"")})),u=e.onHandlerChange((()=>{i=e.getHandlersForScope(t)})),h=e.getActiveInteractionMode(),p=e.getCurrentCursor();n.style.cursor="global"===t.type&&"global"!==(null==h?void 0:h.scope)?"auto":p;const g=e.onCursorChange((o=>{var i;"global"===t.type&&"global"!==(null==(i=e.getActiveInteractionMode())?void 0:i.scope)||(n.style.cursor=o)})),f=(e,t)=>{if(o)return o(e,t);const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}};function m(t){var o;if(e.isPaused())return;const r=e.getExclusionRules();if(t.target&&function(e,t){var n,o,i;if(!e)return!1;let r=e;for(;r;){if(null==(n=t.classes)?void 0:n.length)for(const e of t.classes)if(null==(o=r.classList)?void 0:o.contains(e))return!0;if(null==(i=t.dataAttributes)?void 0:i.length)for(const e of t.dataAttributes)if(r.hasAttribute(e))return!0;r=r.parentElement}return!1}(t.target,r))return;const a=Wu[t.type];if(!a||!(null==i?void 0:i[a]))return;let l,c;if(Gu(t)&&s&&("touchmove"===t.type||"touchcancel"===t.type)&&t.preventDefault(),Gu(t)){const e="touchend"===t.type||"touchcancel"===t.type?t.changedTouches[0]:t.touches[0];if(!e)return;l=f(e,n),c={clientX:e.clientX,clientY:e.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,target:t.target,currentTarget:t.currentTarget,setPointerCapture:()=>{},releasePointerCapture:()=>{}}}else{const e=t;l=f(e,n),c={clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,target:e.target,currentTarget:e.currentTarget,setPointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.setPointerCapture)||n.call(t,e.pointerId)},releasePointerCapture:()=>{var t,n;null==(n=null==(t=e.target)?void 0:t.releasePointerCapture)||n.call(t,e.pointerId)}}}null==(o=i[a])||o.call(i,l,c,e.getActiveMode())}return()=>{c(),d(),g(),u()}}const Yu=({children:e,style:t,...n})=>{const o=Ee(null),{provides:i}=Uu();return Ae((()=>{if(i&&o.current)return Zu(i,{type:"global"},o.current)}),[i]),Ge("div",{ref:o,style:{width:"100%",height:"100%",...t},...n,children:e})},Xu=({pageIndex:e,children:t,pageWidth:n,pageHeight:o,rotation:i,scale:r,convertEventToPoint:a,style:s,...l})=>{const c=Ee(null),{provides:d}=Uu(),u=function(){const{provides:e}=Uu(),[t,n]=_e((()=>{const t=null==e?void 0:e.getActiveInteractionMode();return"page"===(null==t?void 0:t.scope)&&!!t.exclusive}));return Ae((()=>{if(e)return e.onModeChange((()=>{const t=e.getActiveInteractionMode();n("page"===(null==t?void 0:t.scope)&&!!(null==t?void 0:t.exclusive))}))}),[e]),t}(),h=Le(((e,t)=>{const a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};return function(e,t,n,o){return ot(nt(e,t,(4-n)%4),1/o)}(Je({width:n,height:o},i,1),s,i,r)}),[n,o,i,r]);return Ae((()=>{if(d&&c.current)return Zu(d,{type:"page",pageIndex:e},c.current,a||h)}),[d,e,a,h]),Ge("div",{ref:c,style:{position:"relative",width:n,height:o,...s},...l,children:[t,u&&Ge("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})};const Ku="onDblClick";function Qu({children:e,...t}){const{rect:n,rotation:o}=t,{matrix:i,width:r,height:a}=function(e,t){const{width:n,height:o}=e.size;switch(t%4){case 1:return{matrix:`matrix(0, -1, 1, 0, 0, ${o})`,width:o,height:n};case 2:return{matrix:`matrix(-1, 0, 0, -1, ${n}, ${o})`,width:n,height:o};case 3:return{matrix:`matrix(0, 1, -1, 0, ${n}, 0)`,width:o,height:n};default:return{matrix:"matrix(1, 0, 0, 1, 0, 0)",width:n,height:o}}}(n,o),s=Ee(null);Ae((()=>{const e=s.current;if(!e)return;const t=e=>{e.stopPropagation()},n=e=>{e.stopPropagation()};return e.addEventListener("pointerdown",t,{capture:!0}),e.addEventListener("touchstart",n,{capture:!0}),()=>{e.removeEventListener("pointerdown",t,{capture:!0}),e.removeEventListener("touchstart",n,{capture:!0})}}),[]);return Ge(U,{children:e({menuWrapperProps:{style:{position:"absolute",left:n.origin.x,top:n.origin.y,transform:i,transformOrigin:"0 0",width:r,height:a,pointerEvents:"none",zIndex:3},ref:e=>{s.current=e}},matrix:i,rect:{origin:{x:n.origin.x,y:n.origin.y},size:{width:r,height:a}}})})}class Ju{constructor(e,t){this.config=e,this.onUpdate=t,this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[],this.currentVertices=[],this.currentVertices=e.vertices||[]}updateConfig(e){this.config={...this.config,...e},this.currentVertices=e.vertices||[]}startDrag(e,t){this.state="dragging",this.startPoint={x:e,y:t},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"move",changes:{rect:this.startElement}}})}startResize(e,t,n){this.state="resizing",this.activeHandle=e,this.startPoint={x:t,y:n},this.startElement={...this.config.element},this.currentPosition={...this.config.element},this.onUpdate({state:"start",transformData:{type:"resize",changes:{rect:this.startElement},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}startVertexEdit(e,t,n){this.currentVertices=[...this.config.vertices??this.currentVertices],e<0||e>=this.currentVertices.length||(this.state="vertex-editing",this.activeVertexIndex=e,this.startPoint={x:t,y:n},this.startVertices=[...this.currentVertices],this.onUpdate({state:"start",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:e}}}))}move(e,t){if("idle"!==this.state&&this.startPoint)if("dragging"===this.state&&this.startElement){const n=this.calculateDelta(e,t),o=this.calculateDragPosition(n);this.currentPosition=o,this.onUpdate({state:"move",transformData:{type:"move",changes:{rect:o}}})}else if("resizing"===this.state&&this.activeHandle&&this.startElement){const n=this.calculateDelta(e,t),o=this.calculateResizePosition(n,this.activeHandle);this.currentPosition=o,this.onUpdate({state:"move",transformData:{type:"resize",changes:{rect:o},metadata:{handle:this.activeHandle,maintainAspectRatio:this.config.maintainAspectRatio}}})}else if("vertex-editing"===this.state&&null!==this.activeVertexIndex){const n=this.calculateVertexPosition(e,t);this.currentVertices=n,this.onUpdate({state:"move",transformData:{type:"vertex-edit",changes:{vertices:n},metadata:{vertexIndex:this.activeVertexIndex}}})}}end(){if("idle"===this.state)return;const e=this.state,t=this.activeHandle,n=this.activeVertexIndex;if("vertex-editing"===e)this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.currentVertices},metadata:{vertexIndex:n||void 0}}});else{const n=this.getCurrentPosition();this.onUpdate({state:"end",transformData:{type:"dragging"===e?"move":"resize",changes:{rect:n},metadata:"dragging"===e?void 0:{handle:t||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}})}this.reset()}cancel(){"idle"!==this.state&&("vertex-editing"===this.state?this.onUpdate({state:"end",transformData:{type:"vertex-edit",changes:{vertices:this.startVertices},metadata:{vertexIndex:this.activeVertexIndex||void 0}}}):this.startElement&&this.onUpdate({state:"end",transformData:{type:"dragging"===this.state?"move":"resize",changes:{rect:this.startElement},metadata:"dragging"===this.state?void 0:{handle:this.activeHandle||void 0,maintainAspectRatio:this.config.maintainAspectRatio}}}),this.reset())}reset(){this.state="idle",this.startPoint=null,this.startElement=null,this.activeHandle=null,this.currentPosition=null,this.activeVertexIndex=null,this.startVertices=[]}getCurrentPosition(){return this.currentPosition||this.config.element}calculateDelta(e,t){if(!this.startPoint)return{x:0,y:0};const n={x:e-this.startPoint.x,y:t-this.startPoint.y};return this.transformDelta(n)}transformDelta(e){const{pageRotation:t=0,scale:n=1}=this.config,o=t*Math.PI/2,i=Math.cos(o),r=Math.sin(o),a=e.x/n,s=e.y/n;return{x:i*a+r*s,y:-r*a+i*s}}clampPoint(e){var t;const n=null==(t=this.config.constraints)?void 0:t.boundingBox;return n?{x:Math.max(0,Math.min(e.x,n.width)),y:Math.max(0,Math.min(e.y,n.height))}:e}calculateVertexPosition(e,t){if(null===this.activeVertexIndex)return this.startVertices;const n=this.calculateDelta(e,t),o=[...this.startVertices],i=o[this.activeVertexIndex],r={x:i.x+n.x,y:i.y+n.y};return o[this.activeVertexIndex]=this.clampPoint(r),o}calculateDragPosition(e){if(!this.startElement)return this.config.element;const t={origin:{x:this.startElement.origin.x+e.x,y:this.startElement.origin.y+e.y},size:{width:this.startElement.size.width,height:this.startElement.size.height}};return this.applyConstraints(t)}calculateResizePosition(e,t){var n;if(!this.startElement)return this.config.element;let{origin:{x:o,y:i},size:{width:r,height:a}}=this.startElement;switch(t){case"se":r+=e.x,a+=e.y;break;case"sw":o+=e.x,r-=e.x,a+=e.y;break;case"ne":r+=e.x,i+=e.y,a-=e.y;break;case"nw":o+=e.x,r-=e.x,i+=e.y,a-=e.y;break;case"n":i+=e.y,a-=e.y;break;case"s":a+=e.y;break;case"e":r+=e.x;break;case"w":o+=e.x,r-=e.x}if(this.config.maintainAspectRatio&&this.startElement){const e=this.startElement.size.width/this.startElement.size.height;if(["n","s","e","w"].includes(t))if("n"===t||"s"===t){const t=a*e,n=t-r;r=t,o-=n/2}else{const n=r/e,s=n-a;a=n,"w"===t&&(o=this.startElement.origin.x+this.startElement.size.width-r),i-=s/2}else{Math.abs(r-this.startElement.size.width)>Math.abs(a-this.startElement.size.height)?a=r/e:r=a*e,t.includes("w")&&(o=this.startElement.origin.x+this.startElement.size.width-r),t.includes("n")&&(i=this.startElement.origin.y+this.startElement.size.height-a)}}const s=null==(n=this.config.constraints)?void 0:n.boundingBox;if(s)switch(t){case"e":r=Math.min(r,s.width-o);break;case"s":a=Math.min(a,s.height-i);break;case"se":r=Math.min(r,s.width-o),a=Math.min(a,s.height-i);break;case"w":o<0&&(r+=o,o=0);break;case"n":i<0&&(a+=i,i=0);break;case"sw":o<0&&(r+=o,o=0),a=Math.min(a,s.height-i);break;case"nw":o<0&&(r+=o,o=0),i<0&&(a+=i,i=0);break;case"ne":r=Math.min(r,s.width-o),i<0&&(a+=i,i=0)}return this.applyConstraints({origin:{x:o,y:i},size:{width:r,height:a}})}applyConstraints(e){const{constraints:t}=this.config;if(!t)return e;let{origin:{x:n,y:o},size:{width:i,height:r}}=e;return i=Math.max(t.minWidth||1,i),r=Math.max(t.minHeight||1,r),t.maxWidth&&(i=Math.min(t.maxWidth,i)),t.maxHeight&&(r=Math.min(t.maxHeight,r)),t.boundingBox&&(n=Math.max(0,Math.min(n,t.boundingBox.width-i)),o=Math.max(0,Math.min(o,t.boundingBox.height-r))),{origin:{x:n,y:o},size:{width:i,height:r}}}}function eh(e,t){return"n"===e||"s"===e?"ns-resize":"e"===e||"w"===e?"ew-resize":t%2==0?{nw:"nwse-resize",ne:"nesw-resize",sw:"nesw-resize",se:"nwse-resize"}[e]:{nw:"nesw-resize",ne:"nwse-resize",sw:"nwse-resize",se:"nesw-resize"}[e]}function th(e,t,n){const o=-e/2;return"center"===n?o:"outside"===n?o-t:o+t}function nh(e){const{controller:t,resizeUI:n,vertexUI:o,includeVertices:i=!1,handleAttrs:r,vertexAttrs:a}=e,{dragProps:s,createResizeProps:l,createVertexProps:c}=function(e){const{onUpdate:t,enabled:n=!0,...o}=e,i=Ee(null),r=Ee(t);Ae((()=>{r.current=t}),[t]),Ae((()=>{i.current?i.current.updateConfig(o):i.current=new Ju(o,(e=>{var t;return null==(t=r.current)?void 0:t.call(r,e)}))}),[o.element,o.constraints,o.maintainAspectRatio,o.pageRotation,o.scale,o.vertices]);const a=Le((e=>{var t;n&&(e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.startDrag(e.clientX,e.clientY),e.currentTarget.setPointerCapture(e.pointerId))}),[n]),s=Le((e=>{var t;e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.move(e.clientX,e.clientY)}),[]),l=Le((e=>{var t,n,o;e.preventDefault(),e.stopPropagation(),null==(t=i.current)||t.end(),null==(o=(n=e.currentTarget).releasePointerCapture)||o.call(n,e.pointerId)}),[]),c=Le((e=>({onPointerDown:t=>{var o;n&&(t.preventDefault(),t.stopPropagation(),null==(o=i.current)||o.startResize(e,t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))},onPointerMove:s,onPointerUp:l,onPointerCancel:l})),[n,s,l]),d=Le((e=>({onPointerDown:t=>{var o;n&&(t.preventDefault(),t.stopPropagation(),null==(o=i.current)||o.startVertexEdit(e,t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))},onPointerMove:s,onPointerUp:l,onPointerCancel:l})),[n,s,l]);return{dragProps:n?{onPointerDown:a,onPointerMove:s,onPointerUp:l,onPointerCancel:l}:{},createResizeProps:c,createVertexProps:d}}(t),d=ze((()=>function(e,t={}){const{handleSize:n=8,spacing:o=1,offsetMode:i="outside",includeSides:r=!1,zIndex:a=3,rotationAwareCursor:s=!0}=t,l=(e.pageRotation??0)%4,c=e=>({[e]:th(n,o,i)+"px"});return[["nw",{...c("top"),...c("left")}],["ne",{...c("top"),...c("right")}],["sw",{...c("bottom"),...c("left")}],["se",{...c("bottom"),...c("right")}],...r?[["n",{...c("top"),left:`calc(50% - ${n/2}px)`}],["s",{...c("bottom"),left:`calc(50% - ${n/2}px)`}],["w",{...c("left"),top:`calc(50% - ${n/2}px)`}],["e",{...c("right"),top:`calc(50% - ${n/2}px)`}]]:[]].map((([e,t])=>({handle:e,style:{position:"absolute",width:n+"px",height:n+"px",borderRadius:"50%",zIndex:a,cursor:s?eh(e,l):"default",touchAction:"none",...t},attrs:{"data-epdf-handle":e}})))}(t,n).map((e=>{var t;return{key:null==(t=e.attrs)?void 0:t["data-epdf-handle"],style:e.style,...l(e.handle),...e.attrs??{},...(null==r?void 0:r(e.handle))??{}}}))),[t.element.origin.x,t.element.origin.y,t.element.size.width,t.element.size.height,t.scale,t.pageRotation,t.maintainAspectRatio,null==n?void 0:n.handleSize,null==n?void 0:n.spacing,null==n?void 0:n.offsetMode,null==n?void 0:n.includeSides,null==n?void 0:n.zIndex,null==n?void 0:n.rotationAwareCursor,l,r]),u=ze((()=>{if(!i)return[];const e=function(e,t={},n){const{vertexSize:o=12,zIndex:i=4}=t,r=e.element,a=e.scale??1;return(n??e.vertices??[]).map(((e,t)=>({handle:"nw",style:{position:"absolute",left:(e.x-r.origin.x)*a-o/2+"px",top:(e.y-r.origin.y)*a-o/2+"px",width:o+"px",height:o+"px",borderRadius:"50%",cursor:"pointer",zIndex:i,touchAction:"none"},attrs:{"data-epdf-vertex":t}})))}(t,o,t.vertices);return e.map(((e,t)=>({key:t,style:e.style,...c(t),...e.attrs??{},...(null==a?void 0:a(t))??{}})))}),[i,t.element.origin.x,t.element.origin.y,t.element.size.width,t.element.size.height,t.scale,t.vertices,null==o?void 0:o.vertexSize,null==o?void 0:o.zIndex,c,a]);return{dragProps:s,resize:d,vertices:u}}const oh={},ih=()=>lo(vu.id);function rh({scale:e,pageIndex:t,rotation:n,pageWidth:o,pageHeight:i,trackedAnnotation:r,children:a,isSelected:s,isDraggable:l,isResizable:c,lockAspectRatio:d=!1,style:u={},vertexConfig:h,selectionMenu:p,outlineOffset:g=1,onDoubleClick:f,onSelect:m,zIndex:v=1,resizeUI:y,vertexUI:b,selectionOutlineColor:x="#007ACC",customAnnotationRenderer:w,...k}){const[C,S]=_e(r.object),{provides:P}=ih(),M=Ee(null),I=C?{...r.object,...C}:r.object,_=(null==y?void 0:y.color)??"#007ACC",T=(null==b?void 0:b.color)??"#007ACC",A=(null==y?void 0:y.size)??12,R=(null==b?void 0:b.size)??12,{dragProps:E,vertices:N,resize:z}=nh({controller:{element:I.rect,vertices:null==h?void 0:h.extractVertices(I),constraints:{minWidth:10,minHeight:10,boundingBox:{width:o/e,height:i/e}},maintainAspectRatio:d,pageRotation:n,scale:e,enabled:s,onUpdate:e=>{var n;if(!(null==(n=e.transformData)?void 0:n.type))return;"start"===e.state&&(M.current=I);const o=e.transformData.type,i=M.current??I,a=e.transformData.changes.vertices?null==h?void 0:h.transformAnnotation(i,e.transformData.changes.vertices):{rect:e.transformData.changes.rect},s=null==P?void 0:P.transformAnnotation(i,{type:o,changes:a,metadata:e.transformData.metadata});s&&S((e=>({...e,...s}))),"end"===e.state&&s&&(M.current=null,null==P||P.updateAnnotation(t,r.object.id,s))}},resizeUI:{handleSize:A,spacing:g,offsetMode:"outside",includeSides:!d,zIndex:v+1},vertexUI:{vertexSize:R,zIndex:v+2},includeVertices:!!h}),L=function(e,{delay:t=300,tolerancePx:n=18}={}){const o=Ee({t:0,x:0,y:0}),i=Le((i=>{if(!e)return;if("mouse"===i.pointerType||!1===i.isPrimary)return;const r=performance.now(),a=i.clientX,s=i.clientY,l=r-o.current.t<=t,c=a-o.current.x,d=s-o.current.y;l&&c*c+d*d<=n*n&&(null==e||e(i)),o.current={t:r,x:a,y:s}}),[e,t,n]),r=Le((t=>{null==e||e(t)}),[e]);return e?{[Ku]:r,onPointerUpCapture:i}:{}}(f);return Ae((()=>{S(r.object)}),[r.object]),Ge("div",{"data-no-interaction":!0,children:[Ge("div",{...l&&s?E:{},...L,style:{position:"absolute",left:I.rect.origin.x*e,top:I.rect.origin.y*e,width:I.rect.size.width*e,height:I.rect.size.height*e,outline:s?`1px solid ${x}`:"none",outlineOffset:s?`${g}px`:"0px",pointerEvents:s?"auto":"none",touchAction:"none",cursor:s&&l?"move":"default",zIndex:v,...u},...k,children:[(()=>{const r="function"==typeof a?a(I):a,l=null==w?void 0:w({annotation:I,children:r,isSelected:s,scale:e,rotation:n,pageWidth:o,pageHeight:i,pageIndex:t,onSelect:m});return null!=l?l:r})(),s&&c&&z.map((({key:e,...t})=>(null==y?void 0:y.component)?y.component({key:e,...t,backgroundColor:_}):Ge("div",{...t,style:{...t.style,backgroundColor:_}},e))),s&&N.map((({key:e,...t})=>(null==b?void 0:b.component)?b.component({key:e,...t,backgroundColor:T}):Ge("div",{...t,style:{...t.style,backgroundColor:T}},e)))]}),Ge(Qu,{rect:{origin:{x:I.rect.origin.x*e,y:I.rect.origin.y*e},size:{width:I.rect.size.width*e,height:I.rect.size.height*e}},rotation:n,children:({rect:e,menuWrapperProps:t})=>p&&p({annotation:r,selected:s,rect:e,menuWrapperProps:t})})]})}function ah({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){return Ge(U,{children:n.map(((n,s)=>Ge("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:e,opacity:t,pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:void 0,...a}},s)))})}function sh({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i;return Ge(U,{children:n.map(((n,l)=>Ge("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:Ge("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:s,background:e,opacity:t,pointerEvents:"none"}})},l)))})}function lh({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i;return Ge(U,{children:n.map(((n,l)=>Ge("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:Ge("div",{style:{position:"absolute",left:0,top:"50%",width:"100%",height:s,background:e,opacity:t,transform:"translateY(-50%)",pointerEvents:"none"}})},l)))})}function ch({color:e="#FFFF00",opacity:t=.5,segmentRects:n,rect:o,scale:i,onClick:r,style:a}){const s=2*i,l=6*i,c=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="${l}" height="${2*s}" viewBox="0 0 ${l} ${2*s}">\n      <path d="M0 ${s} Q ${l/4} 0 ${l/2} ${s} T ${l} ${s}"\n            fill="none" stroke="${e}" stroke-width="${s}" stroke-linecap="round"/>\n    </svg>`)}")`;return Ge(U,{children:n.map(((e,n)=>Ge("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?e.origin.x-o.origin.x:e.origin.x)*i,top:(o?e.origin.y-o.origin.y:e.origin.y)*i,width:e.size.width*i,height:e.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},children:Ge("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:2*s,backgroundImage:c,backgroundRepeat:"repeat-x",backgroundSize:`${l}px ${2*s}px`,opacity:t,pointerEvents:"none"}})},n)))})}function dh({isSelected:e,color:t="#000000",opacity:n=1,strokeWidth:o,inkList:i,rect:r,scale:a,onClick:s}){const l=ze((()=>i.map((({points:e})=>{let t="";return e.forEach((({x:e,y:n},o)=>{const i=e-r.origin.x,a=n-r.origin.y;t+=(0===o?"M":"L")+i+" "+a+" "})),t.trim()}))),[i,r]),c=r.size.width*a,d=r.size.height*a;return Ge("svg",{style:{position:"absolute",width:c,height:d,pointerEvents:"none",zIndex:2,overflow:"visible"},width:c,height:d,viewBox:`0 0 ${r.size.width} ${r.size.height}`,children:l.map(((i,r)=>Ge("path",{d:i,fill:"none",opacity:n,onPointerDown:s,onTouchStart:s,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"visibleStroke",stroke:t,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round"}},r)))})}function uh({isSelected:e,color:t="#000000",strokeColor:n,opacity:o=1,strokeWidth:i,strokeStyle:r=Ot.SOLID,strokeDashArray:a,rect:s,scale:l,onClick:c}){const{width:d,height:u,x:h,y:p}=ze((()=>{const e=s.size.width,t=s.size.height;return{width:Math.max(e-i,0),height:Math.max(t-i,0),x:i/2,y:i/2}}),[s,i]),g=(d+i)*l,f=(u+i)*l;return Ge("svg",{style:{position:"absolute",width:g,height:f,pointerEvents:"none",zIndex:2},width:g,height:f,viewBox:`0 0 ${d+i} ${u+i}`,children:Ge("rect",{x:h,y:p,width:d,height:u,fill:t,opacity:o,onPointerDown:c,onTouchStart:c,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"transparent"===t?"visibleStroke":"visible",stroke:n??t,strokeWidth:i,...r===Ot.DASHED&&{strokeDasharray:null==a?void 0:a.join(",")}}})})}function hh({color:e="#000000",strokeColor:t,opacity:n=1,strokeWidth:o,strokeStyle:i=Ot.SOLID,strokeDashArray:r,rect:a,scale:s,onClick:l,isSelected:c}){const{width:d,height:u,cx:h,cy:p,rx:g,ry:f}=ze((()=>{const e=a.size.width,t=a.size.height,n=Math.max(e-o,0),i=Math.max(t-o,0);return{width:e,height:t,cx:o/2+n/2,cy:o/2+i/2,rx:n/2,ry:i/2}}),[a,o]),m=d*s,v=u*s;return Ge("svg",{style:{position:"absolute",width:m,height:v,pointerEvents:"none",zIndex:2},width:m,height:v,viewBox:`0 0 ${d} ${u}`,children:Ge("ellipse",{cx:h,cy:p,rx:g,ry:f,fill:e,opacity:n,onPointerDown:l,onTouchStart:l,style:{cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===e?"visibleStroke":"visible",stroke:t??e,strokeWidth:o,...i===Ot.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}})})}function ph({color:e="transparent",opacity:t=1,strokeWidth:n,strokeColor:o="#000000",strokeStyle:i=Ot.SOLID,strokeDashArray:r,rect:a,linePoints:s,lineEndings:l,scale:c,onClick:d,isSelected:u}){const{x1:h,y1:p,x2:g,y2:f}=ze((()=>({x1:s.start.x-a.origin.x,y1:s.start.y-a.origin.y,x2:s.end.x-a.origin.x,y2:s.end.y-a.origin.y})),[s,a]),m=ze((()=>{const e=Math.atan2(f-p,g-h);return{start:ru.createEnding(null==l?void 0:l.start,n,e+Math.PI,h,p),end:ru.createEnding(null==l?void 0:l.end,n,e,g,f)}}),[l,n,h,p,g,f]),v=a.size.width*c,y=a.size.height*c;return Ge("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${a.size.width} ${a.size.height}`,children:[Ge("line",{x1:h,y1:p,x2:g,y2:f,opacity:t,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",pointerEvents:u?"none":"visibleStroke",stroke:o,strokeWidth:n,strokeLinecap:"butt",...i===Ot.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}}),m.start&&Ge("path",{d:m.start.d,transform:m.start.transform,onPointerDown:d,onTouchStart:d,stroke:o,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":m.start.filled?"visible":"visibleStroke",...i===Ot.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:m.start.filled?e:"none"}),m.end&&Ge("path",{d:m.end.d,transform:m.end.transform,stroke:o,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":m.end.filled?"visible":"visibleStroke",...i===Ot.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:m.end.filled?e:"none"})]})}function gh({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,scale:a,isSelected:s,onClick:l,lineEndings:c}){const d=ze((()=>t.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[t,e]),u=ze((()=>{if(!d.length)return"";const[e,...t]=d;return`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y} `)).join("").trim()}),[d]),h=ze((()=>{if(d.length<2)return{start:null,end:null};const e=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),t=e(d[0],d[1]),n=e(d[d.length-2],d[d.length-1]);return{start:ru.createEnding(null==c?void 0:c.start,r,t+Math.PI,d[0].x,d[0].y),end:ru.createEnding(null==c?void 0:c.end,r,n,d[d.length-1].x,d[d.length-1].y)}}),[d,c,r]),p=e.size.width*a,g=e.size.height*a;return Ge("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[Ge("path",{d:u,onPointerDown:l,onTouchStart:l,opacity:i,style:{fill:"none",stroke:o??n,strokeWidth:r,cursor:s?"move":"pointer",pointerEvents:s?"none":"visibleStroke",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.start&&Ge("path",{d:h.start.d,transform:h.start.transform,stroke:o,fill:h.start.filled?n:"none",onPointerDown:l,onTouchStart:l,style:{cursor:s?"move":"pointer",strokeWidth:r,pointerEvents:s?"none":h.start.filled?"visible":"visibleStroke",strokeLinecap:"butt"}}),h.end&&Ge("path",{d:h.end.d,transform:h.end.transform,stroke:o,fill:h.end.filled?n:"none",onPointerDown:l,onTouchStart:l,style:{cursor:s?"move":"pointer",strokeWidth:r,pointerEvents:s?"none":h.end.filled?"visible":"visibleStroke",strokeLinecap:"butt"}})]})}function fh({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,strokeStyle:a=Ot.SOLID,strokeDashArray:s,scale:l,isSelected:c,onClick:d,currentVertex:u,handleSize:h=14}){const p=u?[...t,u]:t,g=ze((()=>p.map((({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})))),[p,e]),f=ze((()=>{if(!g.length)return"";const[e,...t]=g,n=!!u;return(`M ${e.x} ${e.y} `+t.map((e=>`L ${e.x} ${e.y}`)).join(" ")+(n?"":" Z")).trim()}),[g,u]),m=u&&t.length>0,v=e.size.width*l,y=e.size.height*l;return Ge("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[Ge("path",{d:f,onPointerDown:d,onTouchStart:d,opacity:i,style:{fill:u?"none":n,stroke:o??n,strokeWidth:r,cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===n?"visibleStroke":"visible",strokeLinecap:"butt",strokeLinejoin:"miter",...a===Ot.DASHED&&{strokeDasharray:null==s?void 0:s.join(",")}}}),m&&t.length>1&&Ge("path",{d:`M ${g[g.length-1].x} ${g[g.length-1].y} L ${g[0].x} ${g[0].y}`,fill:"none",style:{stroke:o,strokeWidth:r,strokeDasharray:"4,4",opacity:.7}}),m&&t.length>=2&&Ge("rect",{x:g[0].x-h/l/2,y:g[0].y-h/l/2,width:h/l,height:h/l,fill:o,opacity:.4,stroke:o,strokeWidth:r/2})]})}function mh({isSelected:e,isEditing:t,annotation:n,pageIndex:o,scale:i,onClick:r}){const a=Ee(null),{provides:s}=ih(),[l,c]=_e(!1);Ae((()=>{if(t&&a.current){const e=a.current;e.focus();const t=window.getSelection();if(t){const n=document.createRange();n.selectNodeContents(e),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}}}),[t]),Re((()=>{try{const e=navigator,t=/iPad|iPhone|iPod/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&(null==e?void 0:e.maxTouchPoints)>1;c(t)}catch{c(!1)}}),[]);const d=n.object.fontSize*i,u=l&&t&&d>0&&d<16,h=u?16:d,p=u?d/16:1,g=u?100/p:100;return Ge("div",{style:{position:"absolute",width:n.object.rect.size.width*i,height:n.object.rect.size.height*i,cursor:e&&!t?"move":"default",pointerEvents:e&&!t?"none":"auto",zIndex:2},onPointerDown:r,onTouchStart:r,children:Ge("span",{ref:a,onBlur:()=>{s&&a.current&&s.updateAnnotation(o,n.object.id,{contents:a.current.innerText})},tabIndex:0,style:{color:n.object.fontColor,fontSize:h,fontFamily:(f=n.object.fontFamily,ln(f).css),textAlign:en(n.object.textAlign),flexDirection:"column",justifyContent:n.object.verticalAlign===Mt.Top?"flex-start":n.object.verticalAlign===Mt.Middle?"center":"flex-end",display:"flex",backgroundColor:n.object.backgroundColor,opacity:n.object.opacity,width:u?`${g}%`:"100%",height:u?`${g}%`:"100%",lineHeight:"1.18",overflow:"hidden",cursor:t?"text":"pointer",outline:"none",transform:u?`scale(${p})`:void 0,transformOrigin:"top left",...n.object.extStyles},contentEditable:t,...oh,children:n.object.contents})});var f}function vh({pageIndex:e,annotation:t,scaleFactor:n=1,style:o,...i}){const{provides:r}=ih(),[a,s]=_e(null),l=Ee(null),{width:c,height:d}=t.rect.size;Ae((()=>{if(r){const o=r.renderAnnotation({pageIndex:e,annotation:t,options:{scaleFactor:n,dpr:window.devicePixelRatio}});return o.wait((e=>{const t=URL.createObjectURL(e);s(t),l.current=t}),kn),()=>{l.current?(URL.revokeObjectURL(l.current),l.current=null):o.abort({code:Wt.Cancelled,message:"canceled render task"})}}}),[e,n,r,t.id,c,d]);return Ge(U,{children:a&&Ge("img",{src:a,onLoad:()=>{l.current&&(URL.revokeObjectURL(l.current),l.current=null)},...i,style:{width:"100%",height:"100%",display:"block",...o||{}}})})}function yh({isSelected:e,annotation:t,pageIndex:n,scale:o,onClick:i}){return Ge("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:2,pointerEvents:e?"none":"auto",cursor:"pointer"},onPointerDown:i,onTouchStart:i,children:Ge(vh,{pageIndex:n,annotation:{...t.object,id:t.object.id},scaleFactor:o})})}function bh(e){const{pageIndex:t,scale:n,selectionMenu:o}=e,{provides:i}=ih(),{provides:r}=rs(),[a,s]=_e([]),{register:l}=function({modeId:e,pageIndex:t}){const{provides:n}=Uu();return{register:(o,i)=>{const r=(null==i?void 0:i.modeId)??e,a=(null==i?void 0:i.pageIndex)??t;return r?null==n?void 0:n.registerHandlers({modeId:r,handlers:o,pageIndex:a}):null==n?void 0:n.registerAlways({scope:void 0!==a?{type:"page",pageIndex:a}:{type:"global"},handlers:o})}}}({pageIndex:t}),[c,d]=_e(null),[u,h]=_e(null);Ae((()=>{i&&i.onStateChange((e=>{s(((e,t)=>(e.pages[t]??[]).map((t=>e.byUid[t])))(e,t)),d(((e,t)=>e.selectedUid&&(e.pages[t]??[]).includes(e.selectedUid)?e.byUid[e.selectedUid]:null)(e,t))}))}),[i]);const p=ze((()=>({onPointerDown:(e,t)=>{t.target===t.currentTarget&&i&&(i.deselectAnnotation(),h(null))}})),[i]),g=Le(((e,n)=>{e.stopPropagation(),i&&r&&(i.selectAnnotation(t,n.object.id),r.clear(),n.object.id!==u&&h(null))}),[i,r,u,t]);return Ae((()=>l(p)),[l,p]),Ge(U,{children:a.map((r=>{const a=(null==c?void 0:c.object.id)===r.object.id,s=u===r.object.id,l=null==i?void 0:i.findToolForAnnotation(r.object);return Ad(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!0,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(dh,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):Nd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!0,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(uh,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):Rd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!0,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(hh,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})},r.object.id):Dd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!1,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(sh,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):Bd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!1,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(lh,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):$d(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!1,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(ch,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):Od(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!1,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),zIndex:0,style:{mixBlendMode:mn(r.object.blendMode??It.Multiply)},...e,children:e=>Ge(ah,{...e,scale:n,onClick:e=>g(e,r)})},r.object.id):zd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>[e.linePoints.start,e.linePoints.end],transformAnnotation:(e,t)=>({...e,linePoints:{start:t[0],end:t[1]}})},style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(U,{children:Ge(ph,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):Ld(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>e.vertices,transformAnnotation:(e,t)=>({...e,vertices:t})},style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(U,{children:Ge(gh,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):Ed(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!1,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),vertexConfig:{extractVertices:e=>e.vertices,transformAnnotation:(e,t)=>({...e,vertices:t})},style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(U,{children:Ge(fh,{...e,isSelected:a,scale:n,onClick:e=>g(e,r)})})},r.object.id):Fd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:((null==l?void 0:l.interaction.isDraggable)??!0)&&!s,isResizable:(null==l?void 0:l.interaction.isResizable)??!0,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},onDoubleClick:e=>{e.stopPropagation(),h(r.object.id)},...e,children:e=>Ge(mh,{isSelected:a,isEditing:s,annotation:{...r,object:e},pageIndex:t,scale:n,onClick:e=>g(e,r)})},r.object.id):jd(r)?Ge(rh,{trackedAnnotation:r,isSelected:a,isDraggable:(null==l?void 0:l.interaction.isDraggable)??!0,isResizable:(null==l?void 0:l.interaction.isResizable)??!0,lockAspectRatio:(null==l?void 0:l.interaction.lockAspectRatio)??!1,selectionMenu:o,onSelect:e=>g(e,r),style:{mixBlendMode:mn(r.object.blendMode??It.Normal)},...e,children:e=>Ge(yh,{isSelected:a,annotation:r,pageIndex:t,scale:n,onClick:e=>g(e,r)})},r.object.id):null}))})}function xh({pageIndex:e,scale:t}){var n,o,i,r,a,s,l,c,d,u,h,p;const{provides:g}=rs(),{provides:f}=ih(),[m,v]=_e([]),[y,b]=_e(null),[x,w]=_e(null);if(Ae((()=>{if(!g)return;return g.onSelectionChange((()=>{v(g.getHighlightRectsForPage(e)),b(g.getBoundingRectForPage(e))}))}),[g,e]),Ae((()=>{if(!f)return;return f.onActiveToolChange(w)}),[f]),!y)return null;if(!x||!x.defaults)return null;switch(x.defaults.type){case At.UNDERLINE:return Ge("div",{style:{mixBlendMode:mn((null==(n=x.defaults)?void 0:n.blendMode)??It.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Ge(sh,{color:null==(o=x.defaults)?void 0:o.color,opacity:null==(i=x.defaults)?void 0:i.opacity,segmentRects:m,scale:t})});case At.HIGHLIGHT:return Ge("div",{style:{mixBlendMode:mn((null==(r=x.defaults)?void 0:r.blendMode)??It.Multiply),pointerEvents:"none",position:"absolute",inset:0},children:Ge(ah,{color:null==(a=x.defaults)?void 0:a.color,opacity:null==(s=x.defaults)?void 0:s.opacity,segmentRects:m,scale:t})});case At.STRIKEOUT:return Ge("div",{style:{mixBlendMode:mn((null==(l=x.defaults)?void 0:l.blendMode)??It.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Ge(lh,{color:null==(c=x.defaults)?void 0:c.color,opacity:null==(d=x.defaults)?void 0:d.opacity,segmentRects:m,scale:t})});case At.SQUIGGLY:return Ge("div",{style:{mixBlendMode:mn((null==(u=x.defaults)?void 0:u.blendMode)??It.Normal),pointerEvents:"none",position:"absolute",inset:0},children:Ge(ch,{color:null==(h=x.defaults)?void 0:h.color,opacity:null==(p=x.defaults)?void 0:p.opacity,segmentRects:m,scale:t})});default:return null}}function wh({preview:e,scale:t}){const{bounds:n}=e,o={position:"absolute",left:n.origin.x*t,top:n.origin.y*t,width:n.size.width*t,height:n.size.height*t,pointerEvents:"none",zIndex:10};return e.type===At.CIRCLE?Ge("div",{style:o,children:Ge(hh,{isSelected:!1,scale:t,...e.data})}):e.type===At.SQUARE?Ge("div",{style:o,children:Ge(uh,{isSelected:!1,scale:t,...e.data})}):e.type===At.POLYGON?Ge("div",{style:o,children:Ge(fh,{isSelected:!1,scale:t,...e.data})}):e.type===At.POLYLINE?Ge("div",{style:o,children:Ge(gh,{isSelected:!1,scale:t,...e.data})}):e.type===At.LINE?Ge("div",{style:o,children:Ge(ph,{isSelected:!1,scale:t,...e.data})}):e.type===At.INK?Ge("div",{style:o,children:Ge(dh,{isSelected:!1,scale:t,...e.data})}):e.type===At.FREETEXT?Ge("div",{style:o,children:Ge("div",{style:{width:"100%",height:"100%",border:`1px dashed ${e.data.fontColor||"#000000"}`,backgroundColor:"transparent"}})}):null}function kh({pageIndex:e,scale:t}){const{plugin:n}=so(vu.id),[o,i]=_e(new Map),r=Ee(null),a=Ee(null),s=ze((()=>({requestFile:({accept:e,onFile:t})=>{if(!r.current)return;const n=r.current;n.accept=e,n.onchange=e=>{var o;const i=null==(o=e.target.files)?void 0:o[0];i&&(t(i),n.value="")},n.click()},processImage:({source:e,maxWidth:t,maxHeight:n,onComplete:o})=>{const i=a.current;if(!i||!i.getContext)return;const r=i.getContext("2d");if(!r)return;const s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{let{naturalWidth:a,naturalHeight:l}=s;const c=t?t/a:1,d=n?n/l:1,u=Math.min(c,d,1),h=a*u,p=l*u;i.width=h,i.height=p,r.drawImage(s,0,0,h,p);const g=r.getImageData(0,0,h,p);"string"!=typeof e&&URL.revokeObjectURL(s.src),o({imageData:g,width:h,height:p})},s.src="string"==typeof e?e:URL.createObjectURL(e)}})),[]);return Ae((()=>{if(n)return n.registerPageHandlers(e,t,{services:s,onPreview:(e,t)=>{i((n=>{const o=new Map(n);return t?o.set(e,t):o.delete(e),o}))}})}),[e,t,n,s]),Ge(U,{children:[Ge("input",{ref:r,type:"file",style:{display:"none"}}),Ge("canvas",{ref:a,style:{display:"none"}}),Array.from(o.entries()).map((([e,n])=>Ge(wh,{preview:n,scale:t},e)))]})}function Ch({style:e,pageIndex:t,scale:n,selectionMenu:o,resizeUI:i,vertexUI:r,pageWidth:a,pageHeight:s,rotation:l,selectionOutlineColor:c,customAnnotationRenderer:d,...u}){return Ge("div",{style:{...e},...u,children:[Ge(bh,{selectionMenu:o,pageIndex:t,scale:n,rotation:l,pageWidth:a,pageHeight:s,resizeUI:i,vertexUI:r,selectionOutlineColor:c,customAnnotationRenderer:d}),Ge(xh,{pageIndex:t,scale:n}),Ge(kh,{pageIndex:t,scale:n})]})}var Sh,Ph=["position"],Mh=function(){var e=v(_e(!1),2),t=e[0],n=e[1],o=Ee(null),i=Ee(null);return Ae((function(){if(t){var e=function(e){o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[t]),Ae((function(){t&&i.current&&i.current.scrollIntoView({block:"center",inline:"start"})}),[t]),{open:t,setOpen:n,rootRef:o,selectedItemRef:i}},Ih=function(e){var t=e.value,n=e.onChange,o=e.options,i=e.getOptionKey,r=e.renderValue,a=e.renderOption,s=e.triggerClass,l=void 0===s?"px-3 py-2":s,c=Mh(),d=c.open,u=c.setOpen,h=c.rootRef,p=c.selectedItemRef;return F("div",{ref:h,class:"relative inline-block w-full"},F("button",{type:"button",class:"flex w-full items-center justify-between gap-2 rounded border border-gray-300 bg-white ".concat(l),onClick:function(){return u((function(e){return!e}))}},r(t),F("svg",{class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},F("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"}))),d&&F("div",{class:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded border bg-white p-1 shadow-lg"},o.map((function(e){var o=i(e)===i(t);return F("button",{ref:o?p:null,key:i(e),class:"block w-full rounded text-left hover:bg-gray-100 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),u(!1)}},a(e,o))}))))},_h=function(e){var t=e.value,n=e.min,o=void 0===n?0:n,i=e.max,r=void 0===i?1:i,a=e.step,s=void 0===a?.1:a,l=e.onChange;return F("input",{type:"range",class:"range-sm mb-2 h-1 w-full cursor-pointer appearance-none rounded-lg bg-gray-200",value:t,min:o,max:r,step:s,onInput:function(e){return l(parseFloat(e.target.value))}})},Th=function(e){var t=e.color,n=e.active,o=e.onSelect,i=function(e){return"transparent"===e||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)$/i.test(e)||/^#([0-9a-f]{8})$/i.test(e)&&"00"===e.slice(-2).toLowerCase()||/^#([0-9a-f]{4})$/i.test(e)&&"0"===e.slice(-1).toLowerCase()}(t)?{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, transparent 40%, red 40%, red 60%, transparent 60%)",backgroundSize:"100% 100%"}:{backgroundColor:t};return F("button",{title:t,class:"h-5 w-5 rounded-full border border-gray-400 ".concat(n?"outline outline-2 outline-offset-2 outline-blue-500":""),style:i,onClick:function(){return o(t)}})},Ah=[{id:Ot.SOLID},{id:Ot.DASHED,dash:[6,2]},{id:Ot.DASHED,dash:[8,4]},{id:Ot.DASHED,dash:[3,3]},{id:Ot.DASHED,dash:[1,2]},{id:Ot.DASHED,dash:[4,2,1,2]},{id:Ot.DASHED,dash:[8,4,1,4]}],Rh=function(e){return F("svg",{width:"80",height:"8",viewBox:"0 0 80 8"},F("line",{x1:"0",y1:"4",x2:"80",y2:"4",style:{strokeDasharray:null==e?void 0:e.join(" "),stroke:"black",strokeWidth:"2"}}))},Eh=function(e){return F(Ih,p(p({},e),{},{options:Ah,getOptionKey:function(e){var t;return e.id+((null===(t=e.dash)||void 0===t?void 0:t.join("-"))||"")},renderValue:function(e){return Rh(e.dash)},renderOption:function(e){return F("div",{class:"px-1 py-2"},Rh(e.dash))}}))},Nh=[Nt.None,Nt.Square,Nt.Circle,Nt.Diamond,Nt.OpenArrow,Nt.ClosedArrow,Nt.ROpenArrow,Nt.RClosedArrow,Nt.Butt,Nt.Slash],zh=function(e){var t,n=e.ending,o=e.position,i=l(l(l(l(l(l(l(l(l({},Nt.Square,F("path",{d:"M68 -4 L76 -4 L76 4 L68 4 Z"})),Nt.Circle,F("circle",{cx:"72",cy:"0",r:"4"})),Nt.Diamond,F("path",{d:"M72 -5 L77 0 L72 5 L67 0 Z"})),Nt.OpenArrow,F("path",{d:"M67 -5 L77 0 L67 5",fill:"none"})),Nt.ClosedArrow,F("path",{d:"M67 -5 L77 0 L67 5 Z"})),Nt.ROpenArrow,F("path",{d:"M77 -5 L67 0 L77 5",fill:"none"})),Nt.RClosedArrow,F("path",{d:"M77 -5 L67 0 L77 5 Z"})),Nt.Butt,F("path",{d:"M72 -5 L72 5",fill:"none"})),Nt.Slash,F("path",{d:"M67 -5 L77 5",fill:"none"})),r=l(l(l(l(l(l(l(l(l({},Nt.Square,68),Nt.Circle,68),Nt.Diamond,67),Nt.OpenArrow,76),Nt.ClosedArrow,67),Nt.ROpenArrow,67),Nt.RClosedArrow,67),Nt.Butt,72),Nt.Slash,72),a=i[n];return F("svg",{width:"80",height:"20",viewBox:"0 0 80 20",class:"text-black"},F("g",{transform:"start"===o?"rotate(180 40 10)":""},F("line",{x1:"4",y1:"10",x2:null!==(t=r[n])&&void 0!==t?t:77,y2:"10",stroke:"currentColor","stroke-width":"1.5"}),a&&F("g",{transform:"translate(0, 10)",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5"},a)))},Lh=function(e){var t=e.position,n=g(e,Ph);return F(Ih,p(p({},n),{},{options:Nh,getOptionKey:function(e){return e},triggerClass:"px-3 py-1",renderValue:function(e){return F(zh,{ending:e,position:t})},renderOption:function(e){return F("div",{class:"px-1 py-1"},F(zh,{ending:e,position:t}))}}))},Oh=function(e){var t=Hc().t;return F(Ih,p(p({},e),{},{options:hn,getOptionKey:function(e){return e},triggerClass:"px-2 py-1 text-sm",renderValue:function(e){return F("span",null,pn(e))},renderOption:function(e){return F("div",{class:"px-2 py-1"},t("Font.".concat(pn(e)),pn(e)))}}))},Dh=function(e){var t=e.value,n=e.onChange,o=e.options,i=void 0===o?[8,9,10,11,12,14,16,18,24,36,48,72]:o,r=Mh(),a=r.open,s=r.setOpen,l=r.rootRef,c=r.selectedItemRef;return F("div",{ref:l,class:"relative w-full"},F("input",{type:"number",min:"1",class:"w-full rounded border border-gray-300 bg-white px-2 py-1 pr-7 text-sm",value:t,onInput:function(e){var t=parseInt(e.target.value,10);Number.isFinite(t)&&t>0&&n(t)},onClick:function(){return s(!0)}}),F("button",{type:"button",class:"absolute inset-y-0 right-1 flex items-center",onClick:function(){return s((function(e){return!e}))},tabIndex:-1},F("svg",{class:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor"},F("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"}))),a&&F("div",{class:"absolute z-10 mt-1 max-h-48 w-full overflow-y-auto rounded border bg-white shadow-lg"},i.map((function(e){var o=e===t;return F("button",{ref:o?c:null,key:e,class:"block w-full px-2 py-1 text-left text-sm hover:bg-gray-100 ".concat(o?"bg-gray-100":""),onClick:function(){n(e),s(!1)}},e)}))))},Bh=function(e){var t,n,o,i,r=e.selected,a=e.activeTool,s=e.colorPresets,l=ih().provides;if(!l)return null;var c=Hc().t,d=null==r?void 0:r.object,u=null==a?void 0:a.defaults,h=!!d,p=h?d.color:null!==(t=null==u?void 0:u.color)&&void 0!==t?t:"#FFFF00",g=h?d.opacity:null!==(n=null==u?void 0:u.opacity)&&void 0!==n?n:1,f=h?null!==(o=d.blendMode)&&void 0!==o?o:It.Normal:null!==(i=null==u?void 0:u.blendMode)&&void 0!==i?i:It.Normal,m=v(_e(p),2),y=m[0],b=m[1],x=v(_e(g),2),w=x[0],k=x[1],C=v(_e(f),2),S=C[0],P=C[1];Ae((function(){return b(p)}),[p]),Ae((function(){return k(g)}),[g]),Ae((function(){return P(f)}),[f]);var M=La(w,300);Ae((function(){return _({opacity:M})}),[M]);var I=function(e){b(e),_({color:e})};function _(e){l&&(h?l.updateAnnotation(d.pageIndex,d.id,e):a&&l.setToolDefaults(a.id,e))}return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},c("Color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},s.map((function(e){return F(Th,{key:e,color:e,active:e===y,onSelect:I})})))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},c("Opacity")),F(_h,{value:w,min:.1,max:1,step:.05,onChange:k}),F("span",{class:"text-xs text-gray-500"},Math.round(100*w),"%")),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},c("Blend mode")),F("select",{class:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-sm",value:S,onChange:function(e){return t=parseInt(e.target.value,10),P(n=t),void _({blendMode:n});var t,n}},vn.map((function(e){return F("option",{key:e.value,value:e.value},c("BlendMode.".concat(e.label),e.label))})))))},$h=function(e){var t,n,o,i,r,a=e.selected,s=e.activeTool,l=e.colorPresets,c=ih().provides;if(!c)return null;var d=Hc().t,u=null==a?void 0:a.object,h=null==s?void 0:s.defaults,p=!!u,g=p?u.color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"#000000",f=p?u.strokeColor:null!==(n=null==h?void 0:h.strokeColor)&&void 0!==n?n:"#000000",m=p?u.opacity:null!==(o=null==h?void 0:h.opacity)&&void 0!==o?o:1,y=p?u.strokeWidth:null!==(i=null==h?void 0:h.strokeWidth)&&void 0!==i?i:2,b=p?{id:u.strokeStyle,dash:u.strokeDashArray}:{id:null!==(r=null==h?void 0:h.strokeStyle)&&void 0!==r?r:Ot.SOLID,dash:null==h?void 0:h.strokeDashArray},x=v(_e(g),2),w=x[0],k=x[1],C=v(_e(f),2),S=C[0],P=C[1],M=v(_e(m),2),I=M[0],_=M[1],T=v(_e(y),2),A=T[0],R=T[1],E=v(_e(b),2),N=E[0],z=E[1];Ae((function(){return k(g)}),[g]),Ae((function(){return P(f)}),[f]),Ae((function(){return _(m)}),[m]),Ae((function(){return R(y)}),[y]),Ae((function(){return z(b)}),[b]);var L=La(I,300),O=La(A,300);Ae((function(){return $({opacity:L})}),[L]),Ae((function(){return $({strokeWidth:O})}),[O]);var D=function(e){k(e),$({color:e})},B=function(e){P(e),$({strokeColor:e})};function $(e){c&&(p?c.updateAnnotation(u.pageIndex,u.id,e):s&&c.setToolDefaults(s.id,e))}return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Fill color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},l.map((function(e){return F(Th,{key:e,color:e,active:e===w,onSelect:D})})),F(Th,{color:"transparent",active:"transparent"===w,onSelect:D}))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},d("Opacity")),F(_h,{value:I,min:.1,max:1,step:.05,onChange:_}),F("span",{class:"text-xs text-gray-500"},Math.round(100*I),"%")),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Stroke color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},l.map((function(e){return F(Th,{key:e,color:e,active:e===S,onSelect:B})})))),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Stroke style")),F(Eh,{value:N,onChange:function(e){z(e),$({strokeStyle:e.id,strokeDashArray:e.dash})}})),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},d("Stroke width")),F(_h,{value:A,min:1,max:30,step:1,onChange:R}),F("span",{class:"text-xs text-gray-500"},A,"px")))},Fh=function(e){var t,n,o,i,r,a,s,l=e.selected,c=e.activeTool,d=e.colorPresets,u=ih().provides;if(!u)return null;var h=Hc().t,p=null==l?void 0:l.object,g=null==c?void 0:c.defaults,f=!!p,m=f?p.color:null!==(t=null==g?void 0:g.color)&&void 0!==t?t:"#000000",y=f?p.strokeColor:null!==(n=null==g?void 0:g.strokeColor)&&void 0!==n?n:"#000000",b=f?p.opacity:null!==(o=null==g?void 0:g.opacity)&&void 0!==o?o:1,x=f?p.strokeWidth:null!==(i=null==g?void 0:g.strokeWidth)&&void 0!==i?i:2,w=f?null!==(r=p.lineEndings)&&void 0!==r?r:{start:Nt.None,end:Nt.None}:null!==(a=null==g?void 0:g.lineEndings)&&void 0!==a?a:{start:Nt.None,end:Nt.None},k=f?{id:p.strokeStyle,dash:p.strokeDashArray}:{id:null!==(s=null==g?void 0:g.strokeStyle)&&void 0!==s?s:Ot.SOLID,dash:null==g?void 0:g.strokeDashArray},C=v(_e(m),2),S=C[0],P=C[1],M=v(_e(y),2),I=M[0],_=M[1],T=v(_e(b),2),A=T[0],R=T[1],E=v(_e(x),2),N=E[0],z=E[1],L=v(_e(k),2),O=L[0],D=L[1],B=v(_e(w.start),2),$=B[0],j=B[1],H=v(_e(w.end),2),W=H[0],q=H[1];Ae((function(){return P(m)}),[m]),Ae((function(){return _(y)}),[y]),Ae((function(){return R(b)}),[b]),Ae((function(){return z(x)}),[x]),Ae((function(){return D(k)}),[k]),Ae((function(){return j(w.start)}),[w.start]),Ae((function(){return q(w.end)}),[w.end]);var V=La(A,300),G=La(N,300);Ae((function(){return X({opacity:V})}),[V]),Ae((function(){return X({strokeWidth:G})}),[G]);var Z=function(e){P(e),X({color:e})},Y=function(e){_(e),X({strokeColor:e})};function X(e){u&&(f?u.updateAnnotation(p.pageIndex,p.id,e):c&&u.setToolDefaults(c.id,e))}return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},h("Stroke color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return F(Th,{key:e,color:e,active:e===I,onSelect:Y})})),F(Th,{color:"transparent",active:"transparent"===I,onSelect:Y}))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},h("Opacity")),F(_h,{value:A,min:.1,max:1,step:.05,onChange:R}),F("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},h("Stroke style")),F(Eh,{value:O,onChange:function(e){D(e),X({strokeStyle:e.id,strokeDashArray:e.dash})}})),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},h("Stroke width")),F(_h,{value:N,min:1,max:10,step:1,onChange:z}),F("span",{class:"text-xs text-gray-500"},N)),F("section",{class:"mb-6"},F("div",{class:"grid grid-cols-2 gap-4"},F("div",null,F("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},h("Line start")),F(Lh,{value:$,onChange:function(e){j(e),X({lineEndings:{start:e,end:W}})},position:"start"})),F("div",null,F("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},h("Line end")),F(Lh,{value:W,onChange:function(e){q(e),X({lineEndings:{start:$,end:e}})},position:"end"})))),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},h("Fill color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return F(Th,{key:e,color:e,active:e===S,onSelect:Z})})),F(Th,{color:"transparent",active:"transparent"===S,onSelect:Z}))))},jh=(l(l(l(l(l(l(l(l(l(l(Sh={},At.INK,{component:function(e){var t,n,o,i,r,a,s=e.selected,l=e.activeTool,c=e.colorPresets,d=ih().provides;if(!d)return null;var u=Hc().t,h=null==s?void 0:s.object,p=null==l?void 0:l.defaults,g=null!==(t=null!==(n=null==h?void 0:h.color)&&void 0!==n?n:null==p?void 0:p.color)&&void 0!==t?t:"#000000",f=null!==(o=null!==(i=null==h?void 0:h.opacity)&&void 0!==i?i:null==p?void 0:p.opacity)&&void 0!==o?o:1,m=null!==(r=null!==(a=null==h?void 0:h.strokeWidth)&&void 0!==a?a:null==p?void 0:p.strokeWidth)&&void 0!==r?r:2,y=v(_e(g),2),b=y[0],x=y[1],w=v(_e(f),2),k=w[0],C=w[1],S=v(_e(m),2),P=S[0],M=S[1];Ae((function(){return x(g)}),[g]),Ae((function(){return C(f)}),[f]),Ae((function(){return M(m)}),[m]);var I=La(k,300),_=La(P,300);Ae((function(){return A({opacity:I})}),[I]),Ae((function(){return A({strokeWidth:_})}),[_]);var T=function(e){x(e),A({color:e})};function A(e){d&&(h?d.updateAnnotation(h.pageIndex,h.id,e):l&&d.setToolDefaults(l.id,e))}return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},u("Color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map((function(e){return F(Th,{key:e,color:e,active:e===b,onSelect:T})})))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},u("Opacity")),F(_h,{value:k,min:.1,max:1,step:.05,onChange:C}),F("span",{class:"text-xs text-gray-500"},Math.round(100*k),"%")),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},u("Stroke width")),F(_h,{value:P,min:1,max:30,step:1,onChange:M}),F("span",{class:"text-xs text-gray-500"},P,"px")))},title:"Ink"}),At.POLYGON,{component:function(e){var t,n,o,i,r,a=e.selected,s=e.activeTool,l=e.colorPresets,c=ih().provides;if(!c)return null;var d=Hc().t,u=null==a?void 0:a.object,h=null==s?void 0:s.defaults,p=!!u,g=p?u.color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"#000000",f=p?u.strokeColor:null!==(n=null==h?void 0:h.strokeColor)&&void 0!==n?n:"#000000",m=p?u.opacity:null!==(o=null==h?void 0:h.opacity)&&void 0!==o?o:1,y=p?u.strokeWidth:null!==(i=null==h?void 0:h.strokeWidth)&&void 0!==i?i:2,b=p?{id:u.strokeStyle,dash:u.strokeDashArray}:{id:null!==(r=null==h?void 0:h.strokeStyle)&&void 0!==r?r:Ot.SOLID,dash:null==h?void 0:h.strokeDashArray},x=v(_e(g),2),w=x[0],k=x[1],C=v(_e(f),2),S=C[0],P=C[1],M=v(_e(m),2),I=M[0],_=M[1],T=v(_e(y),2),A=T[0],R=T[1],E=v(_e(b),2),N=E[0],z=E[1];Ae((function(){return k(g)}),[g]),Ae((function(){return P(f)}),[f]),Ae((function(){return _(m)}),[m]),Ae((function(){return R(y)}),[y]),Ae((function(){return z(b)}),[b]);var L=La(I,300),O=La(A,300);Ae((function(){return $({opacity:L})}),[L]),Ae((function(){return $({strokeWidth:O})}),[O]);var D=function(e){k(e),$({color:e})},B=function(e){P(e),$({strokeColor:e})};function $(e){c&&(p?c.updateAnnotation(u.pageIndex,u.id,e):s&&c.setToolDefaults(s.id,e))}return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Stroke color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},l.map((function(e){return F(Th,{key:e,color:e,active:e===S,onSelect:B})})),F(Th,{color:"transparent",active:"transparent"===S,onSelect:B}))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},d("Opacity")),F(_h,{value:I,min:.1,max:1,step:.05,onChange:_}),F("span",{class:"text-xs text-gray-500"},Math.round(100*I),"%")),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Stroke style")),F(Eh,{value:N,onChange:function(e){z(e),$({strokeStyle:e.id,strokeDashArray:e.dash})}})),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},d("Stroke width")),F(_h,{value:A,min:1,max:10,step:1,onChange:R}),F("span",{class:"text-xs text-gray-500"},A)),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},d("Fill color")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},l.map((function(e){return F(Th,{key:e,color:e,active:e===w,onSelect:D})})),F(Th,{color:"transparent",active:"transparent"===w,onSelect:D}))))},title:"Polygon"}),At.SQUARE,{component:$h,title:"Square"}),At.CIRCLE,{component:$h,title:"Circle"}),At.LINE,{component:Fh,title:function(e){var t;return"lineArrow"===(null===(t=e.activeTool)||void 0===t?void 0:t.id)?"Arrow":"Line"}}),At.POLYLINE,{component:Fh,title:"Polyline"}),At.HIGHLIGHT,{component:Bh,title:"Highlight"}),At.UNDERLINE,{component:Bh,title:"Underline"}),At.STRIKEOUT,{component:Bh,title:"Strikeout"}),At.SQUIGGLY,{component:Bh,title:"Squiggly"}),l(l(Sh,At.FREETEXT,{component:function(e){var t,n,o,i,r,a,s,l=e.selected,c=e.activeTool,d=e.colorPresets,u=Hc().t,h=ih().provides;if(!h)return null;var p=null==l?void 0:l.object,g=null==c?void 0:c.defaults,f=!!p,m=f?p.fontFamily:null!==(t=null==g?void 0:g.fontFamily)&&void 0!==t?t:St.Helvetica,y=ln(m).family,b=cn(m),x=dn(m),w=f?p.fontColor:null!==(n=null==g?void 0:g.fontColor)&&void 0!==n?n:"#000000",k=f?p.opacity:null!==(o=null==g?void 0:g.opacity)&&void 0!==o?o:1,C=f?p.backgroundColor:null!==(i=null==g?void 0:g.backgroundColor)&&void 0!==i?i:"#000000",S=f?p.fontSize:null!==(r=null==g?void 0:g.fontSize)&&void 0!==r?r:12,P=f?p.textAlign:null!==(a=null==g?void 0:g.textAlign)&&void 0!==a?a:Pt.Left,M=f?p.verticalAlign:null!==(s=null==g?void 0:g.verticalAlign)&&void 0!==s?s:Mt.Top,I=v(_e(y),2),_=I[0],T=I[1],A=v(_e(S),2),R=A[0],E=A[1],N=v(_e(b),2),z=N[0],L=N[1],O=v(_e(x),2),D=O[0],B=O[1],$=v(_e(P),2),j=$[0],H=$[1],W=v(_e(M),2),q=W[0],V=W[1],G=v(_e(w),2),Z=G[0],Y=G[1],X=v(_e(k),2),K=X[0],Q=X[1],J=v(_e(C),2),ee=J[0],te=J[1];function ne(e){h&&(f?h.updateAnnotation(p.pageIndex,p.id,e):c&&h.setToolDefaults(c.id,e))}Ae((function(){T(y),L(b),B(x)}),[y,b,x]),Ae((function(){return Y(w)}),[w]),Ae((function(){return Q(k)}),[k]),Ae((function(){return te(C)}),[C]),Ae((function(){return E(S)}),[S]),Ae((function(){return H(P)}),[P]),Ae((function(){return V(M)}),[M]);var oe=La(K,300),ie=La(ee,300);Ae((function(){return ne({opacity:oe})}),[oe]),Ae((function(){return ne({backgroundColor:ie})}),[ie]);var re=function(e){Y(e),ne({fontColor:e})},ae=function(e){te(e),ne({backgroundColor:e})},se=function(e,t,n){ne({fontFamily:un(e,{bold:t,italic:n}),extStyles:{fontWeight:t?"bold":"normal",fontStyle:n?"italic":"normal"}})},le=function(e){H(e),ne({textAlign:e})},ce=function(e){V(e),ne({verticalAlign:e})};return F(U,null,F("section",{class:"mb-6"},F("label",{class:"mb-2 block text-sm font-medium text-gray-900"},u("Font")),F("div",{class:"mb-3 flex gap-2"},F(Oh,{value:_,onChange:function(e){var t=cn(un(e,{bold:!0,italic:!1})),n=dn(un(e,{bold:!1,italic:!0})),o=!!t&&z,i=!!n&&D;T(e),L(o),B(i),se(e,o,i)}}),F("div",{class:"w-36"},F(Dh,{value:R,onChange:function(e){!Number.isFinite(e)||e<=0||(E(e),ne({fontSize:e}))}}))),F("div",{class:"flex gap-2"},F("button",{type:"button",title:u("Bold"),disabled:!cn(un(_,{bold:!0,italic:!1})),onClick:function(){if(cn(un(_,{bold:!0,italic:!1}))){var e=!z;L(e),se(_,e,D)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm font-bold ".concat(z?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"bold",size:18})),F("button",{type:"button",title:u("Italic"),disabled:!dn(un(_,{bold:!1,italic:!0})),onClick:function(){if(dn(un(_,{bold:!1,italic:!0}))){var e=!D;B(e),se(_,z,e)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm italic ".concat(D?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"italic",size:18})))),F("section",{class:"mb-6"},F("label",{class:"mb-2 block text-sm font-medium text-gray-900"},u("Text alignment")),F("div",{class:"flex gap-2"},F("button",{type:"button",title:u("Align left"),onClick:function(){return le(Pt.Left)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===Pt.Left?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignLeft",size:18})),F("button",{type:"button",title:u("Align center"),onClick:function(){return le(Pt.Center)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===Pt.Center?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignCenter",size:18})),F("button",{type:"button",title:u("Align right"),onClick:function(){return le(Pt.Right)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(j===Pt.Right?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignRight",size:18})))),F("section",{class:"mb-6"},F("label",{class:"mb-2 block text-sm font-medium text-gray-900"},u("Vertical alignment")),F("div",{class:"flex gap-2"},F("button",{type:"button",title:u("Align top"),onClick:function(){return ce(Mt.Top)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(q===Mt.Top?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignTop",size:18})),F("button",{type:"button",title:u("Align middle"),onClick:function(){return ce(Mt.Middle)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(q===Mt.Middle?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignMiddle",size:18})),F("button",{type:"button",title:u("Align bottom"),onClick:function(){return ce(Mt.Bottom)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(q===Mt.Bottom?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},F(sa,{icon:"alignBottom",size:18})))),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},u("Font colour")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return F(Th,{key:e,color:e,active:e===Z,onSelect:re})})))),F("section",{class:"mb-6"},F("label",{class:"mb-3 block text-sm font-medium text-gray-900"},u("Background colour")),F("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map((function(e){return F(Th,{key:e,color:e,active:e===ee,onSelect:ae})})),F(Th,{color:"transparent",active:"transparent"===ee,onSelect:ae}))),F("section",{class:"mb-6"},F("label",{class:"mb-1 block text-sm font-medium text-gray-900"},u("Opacity")),F(_h,{value:K,min:.1,max:1,step:.05,onChange:Q}),F("span",{class:"text-xs text-gray-500"},Math.round(100*K),"%")))},title:"Free text"}),At.STAMP,{component:function(e){return F("div",{className:"text-sm text-gray-500"},(0,Hc().t)("Annotation.StampNoStyle"))},title:"Stamp"})),Hh=function(){var e=Hc().t;return F("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},F(sa,{icon:"palette",className:"h-18 w-18 text-gray-500"}),F("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},e("Annotation.Empty")))};function Uh(e){var t=e.selectedAnnotation,n=e.activeToolId,o=e.colorPresets,i=ih().provides;if(!i)return null;var r=Hc().t,a=null,s=null;if(t)a=i.findToolForAnnotation(t.object),s=t.object.type;else if(n){var l,c,d;s=null!==(c=null===(d=a=null!==(l=i.getTool(n))&&void 0!==l?l:null)||void 0===d?void 0:d.defaults.type)&&void 0!==c?c:null}if(null===s)return Ge(Hh,{});var u=jh[s];if(!u)return Ge(Hh,{});var h=u.component,g=u.title,f={selected:t,activeTool:a,colorPresets:o},m="function"==typeof g?g(f):g;return Ge("div",{class:"h-full overflow-y-auto p-4",children:[m&&Ge("h2",{class:"text-md mb-4 font-medium",children:[r(m)," ",r(t?"styles":"defaults")]}),Ge(h,p({},f))]})}const Wh=class extends Vn{constructor(e,t){super(e,t),this.refreshPages$=Jn(),this.withForms=!1,this.withAnnotations=!1,this.coreStore.onAction(Rn,(e=>{this.refreshPages$.emit(e.payload)}))}async initialize(e){this.withForms=e.withForms??!1,this.withAnnotations=e.withAnnotations??!1}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}onRefreshPages(e){return this.refreshPages$.on(e)}renderPage({pageIndex:e,options:t}){const n=this.coreState.core;if(!n.document)throw new Error("document does not open");const o=n.document.pages.find((t=>t.index===e));if(!o)throw new Error("page does not exist");const i={...t??{},withForms:(null==t?void 0:t.withForms)??this.withForms,withAnnotations:(null==t?void 0:t.withAnnotations)??this.withAnnotations};return this.engine.renderPage(n.document,o,i)}renderPageRect({pageIndex:e,rect:t,options:n}){const o=this.coreState.core;if(!o.document)throw new Error("document does not open");const i=o.document.pages.find((t=>t.index===e));if(!i)throw new Error("page does not exist");const r={...n??{},withForms:(null==n?void 0:n.withForms)??this.withForms,withAnnotations:(null==n?void 0:n.withAnnotations)??this.withAnnotations};return this.engine.renderPageRect(o.document,i,t,r)}};Wh.id="render";let qh=Wh;const Vh="render",Gh={manifest:{id:Vh,name:"Render Plugin",version:"1.0.0",provides:["render"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new qh(Vh,e),reducer:()=>{},initialState:{}};function Zh({pageIndex:e,scale:t,scaleFactor:n,dpr:o,style:i,...r}){const{provides:a}=lo(qh.id),{plugin:s}=so(qh.id),l=t??n??1,[c,d]=_e(null),u=Ee(null),[h,p]=_e(0);Ae((()=>{if(s)return s.onRefreshPages((t=>{t.includes(e)&&p((e=>e+1))}))}),[s]),Ae((()=>{if(a){const t=a.renderPage({pageIndex:e,options:{scaleFactor:l,dpr:o||window.devicePixelRatio}});return t.wait((e=>{const t=URL.createObjectURL(e);d(t),u.current=t}),kn),()=>{u.current?(URL.revokeObjectURL(u.current),u.current=null):t.abort({code:Wt.Cancelled,message:"canceled render task"})}}}),[e,l,o,a,h]);return Ge(U,{children:c&&Ge("img",{src:c,onLoad:()=>{u.current&&(URL.revokeObjectURL(u.current),u.current=null)},...r,style:{width:"100%",height:"100%",...i||{}}})})}const Yh="rotate",Xh={id:Yh,name:"Rotate Plugin",version:"1.0.0",provides:["rotate"],requires:["loader"],optional:["spread"],defaultConfig:{enabled:!0}};const Kh=class extends Vn{constructor(e,t,n){super(e,t),this.rotate$=eo(),this.resetReady();const o=n.defaultRotation??this.coreState.core.rotation;this.setRotation(o),this.markReady()}async initialize(e){}setRotation(e){if(!this.coreState.core.pages)throw new Error("Pages not loaded");this.rotate$.emit(e),this.dispatchCoreAction((e=>({type:Ln,payload:e}))(e))}rotateForward(){const e=(this.coreState.core.rotation+1)%4;this.setRotation(e)}rotateBackward(){const e=(this.coreState.core.rotation+3)%4;this.setRotation(e)}buildCapability(){return{onRotateChange:this.rotate$.on,setRotation:e=>this.setRotation(e),getRotation:()=>this.coreState.core.rotation,rotateForward:()=>this.rotateForward(),rotateBackward:()=>this.rotateBackward()}}getMatrixAsString(e={w:0,h:0}){return function(e,t,n){const[o,i,r,a,s,l]=function(e,t,n){let o=1,i=0,r=0,a=1,s=0,l=0;switch(e){case 1:o=0,i=1,r=-1,a=0,s=n;break;case 2:o=-1,i=0,r=0,a=-1,s=t,l=n;break;case 3:o=0,i=-1,r=1,a=0,l=t}return[o,i,r,a,s,l]}(e,t,n);return`matrix(${o},${i},${r},${a},${s},${l})`}(this.coreState.core.rotation,e.w,e.h)}async destroy(){this.rotate$.clear(),super.destroy()}};Kh.id="rotate";let Qh=Kh;const Jh={manifest:Xh,create:(e,t)=>new Qh(Yh,e,t),reducer:()=>{},initialState:{}};function ep({children:e,pageSize:t,style:n,...o}){const{plugin:i}=so(Qh.id);return Ge("div",{...o,style:{position:"absolute",transformOrigin:"0 0",transform:(null==i?void 0:i.getMatrixAsString({w:t.width,h:t.height}))||"matrix(1, 0, 0, 1, 0, 0)",...n},children:e})}const tp="tiling",np={id:tp,name:"Tiling Plugin",version:"1.0.0",provides:["tiling"],requires:["render","scroll","viewport"],optional:[],defaultConfig:{enabled:!0,tileSize:768,overlapPx:2.5,extraRings:0}},op="UPDATE_VISIBLE_TILES",ip="MARK_TILE_STATUS",rp=e=>({type:op,payload:e}),ap=(e,t,n)=>({type:ip,payload:{pageIndex:e,tileId:t,status:n}});function sp({tileSize:e=768,overlapPx:t=2.5,extraRings:n=0,scale:o,rotation:i,page:r,metric:a}){const s=r.size.width*o,l=r.size.height*o,c=e-t,d=function(e,t,n,o){return st(at(e,t,(4-n)%4),1/o)}(Je(r.size,i,o),{origin:{x:a.scaled.pageX,y:a.scaled.pageY},size:{width:a.scaled.visibleWidth,height:a.scaled.visibleHeight}},i,1),u=d.origin.x,h=d.origin.y,p=u+d.size.width,g=h+d.size.height,f=Math.floor((s-1)/c),m=Math.floor((l-1)/c),v=Math.max(0,Math.floor(u/c)-n),y=Math.min(f,Math.floor((p-1)/c)+n),b=Math.max(0,Math.floor(h/c)-n),x=Math.min(m,Math.floor((g-1)/c)+n),w=[];for(let t=v;t<=y;t++){const n=t*c,i=Math.min(e,s-n),a=n/o,d=i/o;for(let s=b;s<=x;s++){const u=s*c,h=Math.min(e,l-u),p=u/o,g=h/o;w.push({id:`p${r.index}-${o}-x${n}-y${u}-w${i}-h${h}`,col:t,row:s,pageRect:{origin:{x:a,y:p},size:{width:d,height:g}},screenRect:{origin:{x:n,y:u},size:{width:i,height:h}},status:"queued",srcScale:o,isFallback:!1})}}return w}const lp=class extends Vn{constructor(e,t,n){super(e,t),this.tileRendering$=eo(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=this.registry.getPlugin("scroll").provides(),this.viewportCapability=this.registry.getPlugin("viewport").provides(),this.scrollCapability.onScroll((e=>this.calculateVisibleTiles(e)),{mode:"throttle",wait:50,throttleMode:"trailing"}),this.coreStore.onAction(Rn,(e=>this.recalculateTiles(e.payload)))}async recalculateTiles(e){var t;const n=this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()),o={},i=Date.now();for(const r of e){const e=n.pageVisibilityMetrics.find((e=>e.pageNumber===r+1));if(!e)continue;const a=null==(t=this.coreState.core.document)?void 0:t.pages[r];a&&(o[r]=sp({page:a,metric:e,scale:this.coreState.core.scale,rotation:this.coreState.core.rotation,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings}).map((e=>({...e,id:`${e.id}-r${i}`}))))}Object.keys(o).length>0&&this.dispatch(rp(o))}async initialize(){}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&this.calculateVisibleTiles(this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()))}calculateVisibleTiles(e){var t;if(!this.config.enabled)return void this.dispatch(rp([]));const n=this.coreState.core.scale,o=this.coreState.core.rotation,i={};for(const r of e.pageVisibilityMetrics){const e=r.pageNumber-1,a=null==(t=this.coreState.core.document)?void 0:t.pages[e];if(!a)continue;const s=sp({page:a,metric:r,scale:n,rotation:o,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings});i[e]=s}this.dispatch(rp(i))}onStoreUpdated(e,t){this.tileRendering$.emit(t.visibleTiles)}buildCapability(){return{renderTile:this.renderTile.bind(this),onTileRendering:this.tileRendering$.on}}renderTile(e){if(!this.renderCapability)throw new Error("Render capability not available.");this.dispatch(ap(e.pageIndex,e.tile.id,"rendering"));const t=this.renderCapability.renderPageRect({pageIndex:e.pageIndex,rect:e.tile.pageRect,options:{scaleFactor:e.tile.srcScale,dpr:e.dpr}});return t.wait((()=>{this.dispatch(ap(e.pageIndex,e.tile.id,"ready"))}),kn),t}};lp.id="tiling";let cp=lp;const dp={manifest:np,create:(e,t)=>new cp(tp,e,t),reducer:(e,t)=>((e,t)=>{var n,o;switch(t.type){case op:{const o=t.payload,i={...e.visibleTiles};for(const e in o){const t=Number(e),r=o[t],a=i[t]??[],s=null==(n=a.find((e=>!e.isFallback)))?void 0:n.srcScale,l=r[0].srcScale;if(void 0!==s&&s!==l){const e=a.filter((e=>!e.isFallback&&"ready"===e.status)).map((e=>({...e,isFallback:!0}))),n=e.length>0?[]:a.filter((e=>e.isFallback));i[t]=[...n,...e,...r]}else{const e=new Set(r.map((e=>e.id))),n=[],o=new Set;for(const t of a)(t.isFallback||e.has(t.id))&&(n.push(t),o.add(t.id));for(const e of r)o.has(e.id)||n.push(e);i[t]=n}}return{...e,visibleTiles:i}}case ip:{const{pageIndex:n,tileId:i,status:r}=t.payload,a=(null==(o=e.visibleTiles[n])?void 0:o.map((e=>e.id===i?{...e,status:r}:e)))??[],s=a.filter((e=>!e.isFallback)),l=s.every((e=>"ready"===e.status)),c=l?s:a;return{...e,visibleTiles:{...e.visibleTiles,[n]:c}}}default:return e}})(e,t),initialState:{visibleTiles:{}}},up=()=>lo(cp.id);function hp({pageIndex:e,tile:t,dpr:n,scale:o}){const{provides:i}=up(),[r,a]=_e(),s=Ee(null),l=o/t.srcScale;Ae((()=>{if("ready"===t.status&&s.current)return;if(!i)return;const o=i.renderTile({pageIndex:e,tile:t,dpr:n});return o.wait((e=>{const t=URL.createObjectURL(e);s.current=t,a(t)}),kn),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:Wt.Cancelled,message:"canceled render task"})}}),[e,t.id]);return r?Ge("img",{src:r,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},style:{position:"absolute",left:t.screenRect.origin.x*l,top:t.screenRect.origin.y*l,width:t.screenRect.size.width*l,height:t.screenRect.size.height*l,display:"block"}}):null}function pp({pageIndex:e,scale:t,style:n,...o}){const{provides:i}=up(),[r,a]=_e([]);return Ae((()=>{if(i)return i.onTileRendering((t=>a(t[e])))}),[i]),Ge("div",{style:{...n},...o,children:null==r?void 0:r.map((n=>Ge(hp,{pageIndex:e,tile:n,dpr:window.devicePixelRatio,scale:t},n.id)))})}function gp(e){var t=e.size,n=void 0===t?"md":t,o=e.className,i=void 0===o?"":o,r=e.text,a=void 0===r?"Loading...":r,s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return F("div",{className:"flex flex-col items-center justify-center gap-3 ".concat(i)},F("div",{className:"relative"},F("div",{className:"".concat(s[n]," animate-spin rounded-full border-4 border-gray-200")}),F("div",{className:"".concat(s[n]," absolute left-0 top-0 animate-spin rounded-full border-4 border-transparent border-r-blue-500 border-t-blue-500")})),a&&F("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[n]," animate-pulse font-medium text-gray-600")},a))}const fp="fullscreen",mp={id:fp,name:"Fullscreen Plugin",version:"1.0.0",provides:["fullscreen"],requires:[],optional:[],defaultConfig:{enabled:!0}},vp="SET_FULLSCREEN";const yp=class extends Vn{constructor(e,t){super(e,t),this.onStateChange$=eo(),this.fullscreenRequest$=Jn()}async initialize(e){}buildCapability(){return{isFullscreen:()=>this.state.isFullscreen,enableFullscreen:()=>this.enableFullscreen(),exitFullscreen:()=>this.exitFullscreen(),toggleFullscreen:()=>this.toggleFullscreen(),onRequest:this.fullscreenRequest$.on,onStateChange:this.onStateChange$.on}}toggleFullscreen(){this.state.isFullscreen?this.exitFullscreen():this.enableFullscreen()}enableFullscreen(){this.fullscreenRequest$.emit("enter")}exitFullscreen(){this.fullscreenRequest$.emit("exit")}onStoreUpdated(e,t){this.onStateChange$.emit(t)}setFullscreenState(e){this.dispatch({type:vp,payload:e})}async destroy(){this.fullscreenRequest$.clear(),super.destroy()}};yp.id="fullscreen";let bp=yp;const xp=no({manifest:mp,create:e=>new bp(fp,e),reducer:(e,t)=>t.type===vp?{...e,isFullscreen:t.payload}:e,initialState:{isFullscreen:!1}}).addWrapper((function({children:e,...t}){const{provides:n}=lo(bp.id),{plugin:o}=so(bp.id),i=Ee(null);return Ae((()=>{if(!n)return;return n.onRequest((async e=>{if("enter"===e){const e=i.current;e&&!document.fullscreenElement&&await e.requestFullscreen()}else document.fullscreenElement&&await document.exitFullscreen()}))}),[n]),Ae((()=>{if(!o)return;const e=()=>o.setFullscreenState(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[o]),Ge("div",{...t,style:{position:"relative",width:"100%",height:"100%",...t.style},ref:i,children:e})})).build(),wp=class extends Vn{constructor(e,t,n){super(e,t),this.downloadRequest$=Jn(),this.config=n}async initialize(e){}buildCapability(){return{saveAsCopy:this.saveAsCopy.bind(this),download:this.download.bind(this)}}onRequest(e){return this.downloadRequest$.on(e)}download(){this.downloadRequest$.emit("download")}saveAsCopyAndGetBufferAndName(){const e=new yt,t=this.coreState.core.document;return t?(this.saveAsCopy().wait((n=>{e.resolve({buffer:n,name:t.name??this.config.defaultFileName})}),e.fail),e):qt.reject({code:Wt.DocNotOpen,message:"Document not found"})}saveAsCopy(){const e=this.coreState.core.document;return e?this.engine.saveAsCopy(e):qt.reject({code:Wt.DocNotOpen,message:"Document not found"})}};wp.id="export";let kp=wp;const Cp="export";const Sp=no({manifest:{id:Cp,name:"Export Plugin",version:"1.0.0",provides:["export"],requires:[],optional:[],defaultConfig:{enabled:!0,defaultFileName:"document.pdf"}},create:(e,t)=>new kp(Cp,e,t),reducer:()=>{},initialState:{}}).addUtility((function(e){const{provides:t}=lo(kp.id),{plugin:n}=so(kp.id),o=Ee(null);return Ae((()=>{if(!t)return;if(!n)return;return n.onRequest((t=>{if("download"===t){const t=o.current;if(!t)return;n.saveAsCopyAndGetBufferAndName().wait((({buffer:n,name:o})=>{const i=URL.createObjectURL(new Blob([n]));t.href=i,t.download=e.fileName??o,t.click(),URL.revokeObjectURL(i)}),kn)}}))}),[t,n]),Ge("a",{style:{display:"none"},ref:o})})).build(),Pp=class extends Vn{constructor(e,t,n){var o,i;super(e,t),this.panMode$=eo(),this.config=n,this.interactionManager=null==(o=t.getPlugin($u.id))?void 0:o.provides(),this.viewport=null==(i=t.getPlugin(wo.id))?void 0:i.provides(),this.interactionManager&&(this.interactionManager.registerMode({id:"panMode",scope:"global",exclusive:!1,cursor:"grab",wantsRawTouch:!1}),this.unsubscribePanModeChange=this.interactionManager.onStateChange((e=>{"panMode"===e.activeMode?this.panMode$.emit(!0):this.panMode$.emit(!1)})),this.registerPanHandlers()),"always"===n.defaultMode&&this.makePanDefault(!0)}async initialize(e){}async destroy(){var e,t;null==(e=this.unregisterHandlers)||e.call(this),null==(t=this.unsubscribePanModeChange)||t.call(this),await super.destroy()}registerPanHandlers(){let e=null;const t={onMouseDown:(t,n)=>{const o=this.viewport.getMetrics();e={startX:n.clientX,startY:n.clientY,startLeft:o.scrollLeft,startTop:o.scrollTop},this.interactionManager.setCursor("panMode","grabbing",10)},onMouseMove:(t,n)=>{if(!e)return;const o=n.clientX-e.startX,i=n.clientY-e.startY;this.viewport.scrollTo({x:e.startLeft-o,y:e.startTop-i})},onMouseUp:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseLeave:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))},onMouseCancel:()=>{e&&(e=null,this.interactionManager.removeCursor("panMode"))}};this.unregisterHandlers=this.interactionManager.registerHandlers({modeId:"panMode",handlers:t})}makePanDefault(e=!0){this.interactionManager&&(this.interactionManager.setDefaultMode("panMode"),e&&this.interactionManager.activateDefaultMode())}buildCapability(){return{onPanModeChange:this.panMode$.on,makePanDefault:(e=!0)=>this.makePanDefault(e),enablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activate("panMode")},disablePan:()=>{var e;return null==(e=this.interactionManager)?void 0:e.activateDefaultMode()},togglePan:()=>{var e,t,n;"panMode"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("panMode")}}}};Pp.id="pan";let Mp=Pp;const Ip=no({manifest:{id:"pan",name:"Pan Plugin",version:"1.0.0",provides:["pan"],requires:["interaction-manager","viewport"],optional:[],defaultConfig:{enabled:!0,defaultMode:"mobile"}},create:(e,t)=>new Mp("pan",e,t),reducer:()=>{},initialState:{}}).addUtility((()=>{const{provides:e}=lo(Mp.id),{plugin:t}=so(Mp.id);return Ae((()=>{var n;if(!e||!t)return;const o=(null==(n=t.config)?void 0:n.defaultMode)??"never",i="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0);"mobile"===o&&i&&e.makePanDefault()}),[e,t]),null})).build(),_p="capture",Tp={id:_p,name:"Capture Plugin",version:"1.0.0",provides:["capture"],requires:["render"],optional:["interaction-manager"],defaultConfig:{enabled:!0,scale:1,imageType:"image/png",withAnnotations:!1}};const Ap=class extends Vn{constructor(e,t,n){var o;super(e,t),this.captureArea$=Jn(),this.marqueeCaptureActive$=eo(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.interactionManagerCapability=null==(o=this.registry.getPlugin("interaction-manager"))?void 0:o.provides(),this.interactionManagerCapability&&(this.interactionManagerCapability.registerMode({id:"marqueeCapture",scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability.onModeChange((e=>{"marqueeCapture"===e.activeMode?this.marqueeCaptureActive$.emit(!0):this.marqueeCaptureActive$.emit(!1)})))}async initialize(e){}buildCapability(){return{onCaptureArea:this.captureArea$.on,onMarqueeCaptureActiveChange:this.marqueeCaptureActive$.on,captureArea:this.captureArea.bind(this),enableMarqueeCapture:this.enableMarqueeCapture.bind(this),disableMarqueeCapture:this.disableMarqueeCapture.bind(this),toggleMarqueeCapture:this.toggleMarqueeCapture.bind(this),isMarqueeCaptureActive:()=>{var e;return"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())},registerMarqueeOnPage:e=>this.registerMarqueeOnPage(e)}}registerMarqueeOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("CapturePlugin","MissingDependency","Interaction manager plugin not loaded, marquee capture disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("CapturePlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("CapturePlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r}=e;let a=null,s=null;return{onPointerDown:(e,t)=>{var n;a=e,s={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(s),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!a)return;const n=Zn(e.x,0,t.width),o=Zn(e.y,0,t.height);s={origin:{x:Math.min(a.x,n),y:Math.min(a.y,o)},size:{width:Math.abs(n-a.x),height:Math.abs(o-a.y)}},null==i||i(s)},onPointerUp:(e,t)=>{var l;s&&Math.max(s.size.width,s.size.height)*n>o&&(null==r||r(s)),a=null,s=null,null==i||i(null),null==(l=t.releasePointerCapture)||l.call(t)},onPointerCancel:(e,t)=>{var n;a=null,s=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;this.captureArea(e.pageIndex,t),null==(o=(n=e.callback).onCommit)||o.call(n,t)}});return this.interactionManagerCapability.registerHandlers({modeId:"marqueeCapture",handlers:o,pageIndex:e.pageIndex})}captureArea(e,t){this.disableMarqueeCapture();this.renderCapability.renderPageRect({pageIndex:e,rect:t,options:{imageType:this.config.imageType,scaleFactor:this.config.scale,withAnnotations:this.config.withAnnotations||!1}}).wait((n=>{this.captureArea$.emit({pageIndex:e,rect:t,blob:n,imageType:this.config.imageType||"image/png",scale:this.config.scale||1,withAnnotations:this.config.withAnnotations||!1})}),kn)}enableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activate("marqueeCapture")}disableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}toggleMarqueeCapture(){var e,t,n;"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate("marqueeCapture")}};Ap.id="capture";let Rp=Ap;const Ep={manifest:Tp,create:(e,t)=>new Rp(_p,e,t),reducer:()=>{},initialState:{}},Np=()=>lo(Rp.id),zp=({pageIndex:e,scale:t,className:n,stroke:o="rgba(33,150,243,0.8)",fill:i="rgba(33,150,243,0.15)"})=>{const{provides:r}=Np(),[a,s]=_e(null);return Ae((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:s}})}),[r,e,t]),a?Ge("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null},Lp="history",Op={id:Lp,name:"History Plugin",version:"1.0.0",provides:["history"],requires:[],optional:[],defaultConfig:{enabled:!0}},Dp="HISTORY/SET_STATE",Bp=class extends Vn{constructor(e,t){super(e,t),this.topicHistories=new Map,this.globalTimeline=[],this.globalIndex=-1,this.historyChange$=Jn()}async initialize(e){}getHistoryState(){const e={};return Array.from(this.topicHistories.entries()).forEach((([t,n])=>{e[t]={canUndo:n.currentIndex>-1,canRedo:n.currentIndex<n.commands.length-1}})),{global:{canUndo:this.globalIndex>-1,canRedo:this.globalIndex<this.globalTimeline.length-1},topics:e}}emitHistoryChange(e){var t;this.dispatch((t=this.getHistoryState(),{type:Dp,payload:t})),this.historyChange$.emit(e)}buildCapability(){return{getHistoryState:()=>this.state,onHistoryChange:this.historyChange$.on,register:(e,t)=>{this.topicHistories.has(t)||this.topicHistories.set(t,{commands:[],currentIndex:-1});const n=this.topicHistories.get(t);n.commands.splice(n.currentIndex+1),n.commands.push(e),n.currentIndex++;const o={command:e,topic:t};this.globalTimeline.splice(this.globalIndex+1),this.globalTimeline.push(o),this.globalIndex++,e.execute(),this.emitHistoryChange(t)},undo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex>-1&&(n.commands[n.currentIndex].undo(),n.currentIndex--,t=e)}else if(this.globalIndex>-1){const e=this.globalTimeline[this.globalIndex];e.command.undo(),this.topicHistories.get(e.topic).currentIndex--,this.globalIndex--,t=e.topic}t&&this.emitHistoryChange(t)},redo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex<n.commands.length-1&&(n.currentIndex++,n.commands[n.currentIndex].execute(),t=e)}else if(this.globalIndex<this.globalTimeline.length-1){this.globalIndex++;const e=this.globalTimeline[this.globalIndex];e.command.execute(),this.topicHistories.get(e.topic).currentIndex++,t=e.topic}t&&this.emitHistoryChange(t)},canUndo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex>-1}return this.globalIndex>-1},canRedo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex<t.commands.length-1}return this.globalIndex<this.globalTimeline.length-1}}}};Bp.id="history";let $p=Bp;const Fp={global:{canUndo:!1,canRedo:!1},topics:{}},jp={manifest:Op,create:e=>new $p(Lp,e),reducer:(e=Fp,t)=>t.type===Dp?{...e,...t.payload}:e,initialState:Fp};var Hp=(e=>(e.MarqueeRedact="marqueeRedact",e.RedactSelection="redactSelection",e))(Hp||{});const Up="START_REDACTION",Wp="END_REDACTION",qp="ADD_PENDING",Vp="REMOVE_PENDING",Gp="CLEAR_PENDING",Zp="SELECT_PENDING",Yp="DESELECT_PENDING",Xp=e=>({type:qp,payload:e}),Kp=(e,t)=>({type:Vp,payload:{page:e,id:t}}),Qp=()=>({type:Gp}),Jp=e=>({type:Up,payload:e});const eg=class extends Vn{constructor(e,t,n){var o,i,r,a,s;super(e,t),this.redactionSelection$=eo(),this.pending$=eo(),this.selected$=eo(),this.state$=eo(),this.events$=eo(),this.config=n,this.selectionCapability=null==(o=this.registry.getPlugin("selection"))?void 0:o.provides(),this.interactionManagerCapability=null==(i=this.registry.getPlugin("interaction-manager"))?void 0:i.provides(),this.interactionManagerCapability&&this.interactionManagerCapability.registerMode({id:Hp.MarqueeRedact,scope:"page",exclusive:!0,cursor:"crosshair"}),this.interactionManagerCapability&&this.selectionCapability&&(this.interactionManagerCapability.registerMode({id:Hp.RedactSelection,scope:"page",exclusive:!1}),this.selectionCapability.enableForMode(Hp.RedactSelection)),this.unsubscribeModeChange=null==(r=this.interactionManagerCapability)?void 0:r.onModeChange((e=>{e.activeMode===Hp.RedactSelection?this.dispatch(Jp(Hp.RedactSelection)):e.activeMode===Hp.MarqueeRedact?this.dispatch(Jp(Hp.MarqueeRedact)):this.dispatch({type:Wp})})),this.unsubscribeSelectionChange=null==(a=this.selectionCapability)?void 0:a.onSelectionChange((()=>{if(!this.selectionCapability)return;if(!this.state.isRedacting)return;const e=this.selectionCapability.getFormattedSelection();this.redactionSelection$.emit(e)})),this.unsubscribeEndSelection=null==(s=this.selectionCapability)?void 0:s.onEndSelection((()=>{if(!this.selectionCapability)return;if(!this.state.isRedacting)return;const e=this.selectionCapability.getFormattedSelection().map((e=>({id:wn(),kind:"text",page:e.pageIndex,rect:e.rect,rects:e.segmentRects})));this.dispatch(Xp(e)),this.redactionSelection$.emit([]),this.selectionCapability.clear(),this.pending$.emit(this.state.pending),e.length&&this.selectPending(e[e.length-1].page,e[e.length-1].id)}))}async initialize(e){}buildCapability(){return{queueCurrentSelectionAsPending:()=>this.queueCurrentSelectionAsPending(),enableMarqueeRedact:()=>this.enableMarqueeRedact(),toggleMarqueeRedact:()=>this.toggleMarqueeRedact(),isMarqueeRedactActive:()=>{var e;return(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===Hp.MarqueeRedact},enableRedactSelection:()=>this.enableRedactSelection(),toggleRedactSelection:()=>this.toggleRedactSelection(),isRedactSelectionActive:()=>{var e;return(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===Hp.RedactSelection},addPending:e=>{this.dispatch(Xp(e)),this.pending$.emit(this.state.pending),this.events$.emit({type:"add",items:e})},removePending:(e,t)=>{this.dispatch(Kp(e,t)),this.pending$.emit(this.state.pending),this.events$.emit({type:"remove",page:e,id:t})},clearPending:()=>{this.dispatch(Qp()),this.pending$.emit(this.state.pending),this.events$.emit({type:"clear"})},commitAllPending:()=>this.commitAllPending(),commitPending:(e,t)=>this.commitPendingOne(e,t),endRedaction:()=>this.endRedaction(),startRedaction:()=>this.startRedaction(),selectPending:(e,t)=>this.selectPending(e,t),deselectPending:()=>this.deselectPending(),onSelectedChange:this.selected$.on,onRedactionEvent:this.events$.on,onStateChange:this.state$.on,onPendingChange:this.pending$.on}}onRedactionSelectionChange(e){return this.redactionSelection$.on(e)}selectPending(e,t){var n;this.dispatch(((e,t)=>({type:Zp,payload:{page:e,id:t}}))(e,t)),null==(n=this.selectionCapability)||n.clear(),this.selected$.emit(this.state.selected)}deselectPending(){this.dispatch({type:Yp}),this.selected$.emit(this.state.selected)}enableRedactSelection(){var e;null==(e=this.interactionManagerCapability)||e.activate(Hp.RedactSelection)}toggleRedactSelection(){var e,t,n;(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===Hp.RedactSelection?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate(Hp.RedactSelection)}enableMarqueeRedact(){var e;null==(e=this.interactionManagerCapability)||e.activate(Hp.MarqueeRedact)}toggleMarqueeRedact(){var e,t,n;(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())===Hp.MarqueeRedact?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate(Hp.MarqueeRedact)}startRedaction(){var e;null==(e=this.interactionManagerCapability)||e.activate(Hp.RedactSelection)}endRedaction(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}registerMarqueeOnPage(e){if(!this.interactionManagerCapability)return this.logger.warn("RedactionPlugin","MissingDependency","Interaction manager plugin not loaded, marquee redaction disabled"),()=>{};const t=this.coreState.core.document;if(!t)return this.logger.warn("RedactionPlugin","DocumentNotFound","Document not found"),()=>{};const n=t.pages[e.pageIndex];if(!n)return this.logger.warn("RedactionPlugin","PageNotFound",`Page ${e.pageIndex} not found`),()=>{};const o=function(e){const{pageSize:t,scale:n,minDragPx:o=5,onPreview:i,onCommit:r}=e;let a=null,s=null;return{onPointerDown:(e,t)=>{var n;a=e,s={origin:{x:e.x,y:e.y},size:{width:0,height:0}},null==i||i(s),null==(n=t.setPointerCapture)||n.call(t)},onPointerMove:e=>{if(!a)return;const n=Zn(e.x,0,t.width),o=Zn(e.y,0,t.height);s={origin:{x:Math.min(a.x,n),y:Math.min(a.y,o)},size:{width:Math.abs(n-a.x),height:Math.abs(o-a.y)}},null==i||i(s)},onPointerUp:(e,t)=>{var l;s&&Math.max(s.size.width,s.size.height)*n>o&&(null==r||r(s)),a=null,s=null,null==i||i(null),null==(l=t.releasePointerCapture)||l.call(t)},onPointerCancel:(e,t)=>{var n;a=null,s=null,null==i||i(null),null==(n=t.releasePointerCapture)||n.call(t)}}}({pageSize:n.size,scale:e.scale,onPreview:e.callback.onPreview,onCommit:t=>{var n,o;const i={id:wn(),kind:"area",page:e.pageIndex,rect:t};this.dispatch(Xp([i])),this.pending$.emit(this.state.pending),null==(o=(n=e.callback).onCommit)||o.call(n,t),this.enableRedactSelection(),this.selectPending(e.pageIndex,i.id)}}),i=this.interactionManagerCapability.registerAlways({handlers:{onPointerDown:(e,t)=>{t.target===t.currentTarget&&this.deselectPending()}},scope:{type:"page",pageIndex:e.pageIndex}}),r=this.interactionManagerCapability.registerHandlers({modeId:Hp.MarqueeRedact,handlers:o,pageIndex:e.pageIndex});return()=>{i(),r()}}queueCurrentSelectionAsPending(){var e;if(!this.selectionCapability)return qt.reject({code:Wt.NotFound,message:"[RedactionPlugin] selection plugin required"});if(!this.coreState.core.document)return qt.reject({code:Wt.NotFound,message:"Document not found"});const t=this.selectionCapability.getFormattedSelection();if(!t.length)return qt.resolve(!0);const n=wn(),o=t.map((e=>({id:n,kind:"text",page:e.pageIndex,rect:e.rect,rects:e.segmentRects})));this.enableRedactSelection(),this.dispatch(Xp(o)),this.pending$.emit(this.state.pending);const i=o[o.length-1];return this.selectPending(i.page,i.id),this.redactionSelection$.emit([]),null==(e=this.selectionCapability)||e.clear(),qt.resolve(!0)}commitPendingOne(e,t){const n=this.coreState.core.document;if(!n)return qt.reject({code:Wt.NotFound,message:"Document not found"});const o=(this.state.pending[e]??[]).find((e=>e.id===t));if(!o)return qt.resolve(!0);const i="text"===o.kind?o.rects:[o.rect],r=n.pages[e];if(!r)return qt.reject({code:Wt.NotFound,message:"Page not found"});const a=new yt;return this.engine.redactTextInRects(n,r,i,{drawBlackBoxes:this.config.drawBlackBoxes}).wait((()=>{this.dispatch(Kp(e,t)),this.pending$.emit(this.state.pending),this.dispatchCoreAction(Bn([e])),this.events$.emit({type:"commit",success:!0}),a.resolve(!0)}),(e=>{this.events$.emit({type:"commit",success:!1,error:e.reason}),a.reject({code:Wt.Unknown,message:"Failed to commit redactions"})})),a}commitAllPending(){const e=this.coreState.core.document;if(!e)return qt.reject({code:Wt.NotFound,message:"Document not found"});const t=new Map;for(const[e,n]of Object.entries(this.state.pending)){const o=Number(e),i=t.get(o)??[];for(const e of n)"text"===e.kind?i.push(...e.rects):i.push(e.rect);t.set(o,i)}const n=Array.from(t.entries()).filter((([e,t])=>t.length>0)).map((([e])=>e)),o=[];for(const[n,i]of t){const t=e.pages[n];t&&(i.length&&o.push(this.engine.redactTextInRects(e,t,i,{drawBlackBoxes:this.config.drawBlackBoxes})))}const i=new yt;return yt.all(o).wait((()=>{this.dispatch(Qp()),this.dispatchCoreAction(Bn(n)),this.pending$.emit(this.state.pending),this.events$.emit({type:"commit",success:!0}),i.resolve(!0)}),(e=>{this.events$.emit({type:"commit",success:!1,error:e.reason}),i.reject({code:Wt.Unknown,message:"Failed to commit redactions"})})),i}onStoreUpdated(e,t){this.pending$.emit(t.pending),this.selected$.emit(t.selected),this.state$.emit(t)}async destroy(){var e,t,n;this.redactionSelection$.clear(),this.pending$.clear(),this.state$.clear(),this.events$.clear(),null==(e=this.unsubscribeSelectionChange)||e.call(this),null==(t=this.unsubscribeEndSelection)||t.call(this),null==(n=this.unsubscribeModeChange)||n.call(this),await super.destroy()}};eg.id="redaction";let tg=eg;const ng="redaction",og=e=>Object.values(e).reduce(((e,t)=>e+t.length),0),ig={isRedacting:!1,activeType:null,pending:{},pendingCount:0,selected:null},rg={manifest:{id:ng,name:"Redaction Plugin",version:"1.0.0",provides:["redaction"],requires:[],optional:["interaction-manager","selection"],defaultConfig:{enabled:!0,drawBlackBoxes:!0}},create:(e,t)=>new tg(ng,e,t),reducer:(e=ig,t)=>{switch(t.type){case qp:{const n={...e.pending};for(const e of t.payload)n[e.page]=(n[e.page]??[]).concat(e);return{...e,pending:n,pendingCount:og(n)}}case Vp:{const{page:n,id:o}=t.payload,i=(e.pending[n]??[]).filter((e=>e.id!==o)),r={...e.pending,[n]:i},a=e.selected&&!(e.selected.page===n&&e.selected.id===o);return{...e,pending:r,pendingCount:og(r),selected:a?e.selected:null}}case Gp:return{...e,pending:{},pendingCount:0,selected:null};case Zp:return{...e,selected:{page:t.payload.page,id:t.payload.id}};case Yp:return{...e,selected:null};case Up:return{...e,isRedacting:!0,activeType:t.payload};case Wp:return{...e,pending:{},pendingCount:0,selected:null,isRedacting:!1,activeType:null};case"SET_ACTIVE_TYPE":return{...e,activeType:t.payload};default:return e}},initialState:ig},ag=()=>so(tg.id),sg=()=>lo(tg.id),lg=({pageIndex:e,scale:t,className:n,stroke:o="red",fill:i="transparent"})=>{const{plugin:r}=ag(),[a,s]=_e(null);return Ae((()=>{if(r)return r.registerMarqueeOnPage({pageIndex:e,scale:t,callback:{onPreview:s}})}),[r,e]),a?Ge("div",{style:{position:"absolute",pointerEvents:"none",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,border:`1px solid ${o}`,background:i,boxSizing:"border-box"},className:n}):null};function cg({color:e="#FFFF00",opacity:t=1,border:n="1px solid red",rects:o,rect:i,scale:r,onClick:a,style:s,...l}){return Ge(U,{children:o.map(((o,c)=>Ge("div",{onPointerDown:a,onTouchStart:a,style:{position:"absolute",border:n,left:(i?o.origin.x-i.origin.x:o.origin.x)*r,top:(i?o.origin.y-i.origin.y:o.origin.y)*r,width:o.size.width*r,height:o.size.height*r,background:e,opacity:t,pointerEvents:a?"auto":"none",cursor:a?"pointer":"default",zIndex:a?1:void 0,...s},...l},c)))})}function dg({pageIndex:e,scale:t}){const{plugin:n}=ag(),[o,i]=_e([]),[r,a]=_e(null);return Ae((()=>{if(n)return n.onRedactionSelectionChange((t=>{const n=t.find((t=>t.pageIndex===e));i((null==n?void 0:n.segmentRects)??[]),a((null==n?void 0:n.rect)??null)}))}),[n,e]),r?Ge("div",{style:{mixBlendMode:"normal",pointerEvents:"none",position:"absolute",inset:0},children:Ge(cg,{color:"transparent",opacity:1,rects:o,scale:t,border:"1px solid red"})}):null}function ug({pageIndex:e,scale:t,bboxStroke:n="rgba(0,0,0,0.8)",rotation:o=Ze.Degree0,selectionMenu:i}){const{provides:r}=sg(),[a,s]=_e([]),[l,c]=_e(null);Ae((()=>{if(!r)return;const t=r.onPendingChange((t=>s(t[e]??[]))),n=r.onSelectedChange((t=>{c(t&&t.page===e?t.id:null)}));return()=>{null==t||t(),null==n||n()}}),[r,e]);const d=Le(((t,n)=>{t.stopPropagation(),r&&r.selectPending(e,n)}),[r,e]);return a.length?Ge("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:a.map((r=>{if("area"===r.kind){const a=r.rect;return Ge(U,{children:[Ge("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,background:"transparent",outline:l===r.id?`1px solid ${n}`:"none",outlineOffset:"2px",border:"1px solid red",pointerEvents:"auto",cursor:"pointer"},onPointerDown:e=>d(e,r.id),onTouchStart:e=>d(e,r.id)}),Ge(Qu,{rect:{origin:{x:a.origin.x*t,y:a.origin.y*t},size:{width:a.size.width*t,height:a.size.height*t}},rotation:o,children:({rect:t,menuWrapperProps:n})=>i&&i({item:r,selected:l===r.id,pageIndex:e,menuWrapperProps:n,rect:t})})]},r.id)}const a=r.rect;return Ge(U,{children:[Ge("div",{style:{position:"absolute",left:a.origin.x*t,top:a.origin.y*t,width:a.size.width*t,height:a.size.height*t,background:"transparent",outline:l===r.id?`1px solid ${n}`:"none",outlineOffset:"2px",pointerEvents:"auto",cursor:l===r.id?"pointer":"default"},children:Ge(cg,{rect:a,rects:r.rects,color:"transparent",border:"1px solid red",scale:t,onClick:e=>d(e,r.id)})}),Ge(Qu,{rect:{origin:{x:a.origin.x*t,y:a.origin.y*t},size:{width:a.size.width*t,height:a.size.height*t}},rotation:o,children:({rect:t,menuWrapperProps:n})=>i&&i({item:r,selected:l===r.id,pageIndex:e,menuWrapperProps:n,rect:t})})]},r.id)}))}):null}const hg=({pageIndex:e,scale:t,rotation:n=Ze.Degree0,selectionMenu:o})=>Ge(U,{children:[Ge(ug,{pageIndex:e,scale:t,rotation:n,selectionMenu:o}),Ge(lg,{pageIndex:e,scale:t}),Ge(dg,{pageIndex:e,scale:t})]});function pg(e){var t=Np().provides,o=so(Rp.id).plugin,i=v(_e(!1),2),r=i[0],a=i[1],s=v(_e(null),2),l=s[0],c=s[1],d=v(_e(null),2),u=d[0],h=d[1],p=v(_e(null),2),g=p[0],m=p[1],y=Ee(null),b=Ee(null),x=e.captureExtActions,w=Hc().t,k=function(){y.current&&(URL.revokeObjectURL(y.current),y.current=null),g&&(URL.revokeObjectURL(g),m(null)),a(!1),c(null),h(null)};Ae((function(){if(t)return t.onCaptureArea((function(e){var t=e.pageIndex,n=e.rect,o=e.blob;c({pageIndex:t,rect:n,blob:o});var i=URL.createObjectURL(o);y.current=i,h(i),a(!0)}))}),[t]);return F(U,null,F(ds,{open:r,onClose:k,title:w("Capture.Title")},F("div",{className:"space-y-6"},F("div",{className:"flex justify-center"},u&&F("img",{src:u,onLoad:function(){y.current&&(URL.revokeObjectURL(y.current),y.current=null)},alt:"Captured PDF area",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #e5e7eb",borderRadius:"4px",display:"block"}})),F("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},F(Ei,{onClick:k,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"},w("Cancel")),F(Ei,{onClick:function(){var e;if(l&&b.current){var t=URL.createObjectURL(l.blob);m(t),b.current.href=t,b.current.download=null!=o&&null!==(e=o.coreState)&&void 0!==e&&null!==(e=e.core)&&void 0!==e&&null!==(e=e.document)&&void 0!==e&&e.name?"".concat(o.coreState.core.document.name.replaceAll(/.pdf/gi,""),"-").concat(l.pageIndex+1,".png"):"pdf-capture-page-".concat(l.pageIndex+1,".png"),b.current.click(),k()}},disabled:!l,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},w("Download")),null==x?void 0:x.map((function(e,t){return qc({id:e.id||t+"",img:e.img,imgNode:e.imgNode,label:e.label,onClick:(o=n(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.onClick,!t.t0){t.next=4;break}return t.next=4,e.onClick(l);case 4:k();case 5:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},0,{direction:"horizontal"});var o}))))),F("a",{ref:b,style:{display:"none"},href:"",download:""}))}var gg,fg=function(){var e=function(){const{provides:e}=Uu(),[t,n]=_e(ju);return Ae((()=>{if(e)return e.onStateChange((e=>{n(e)}))}),[e]),{provides:e,state:t}}().provides,t=v(_e({show:!1,mode:null,isAnimating:!1}),2),n=t[0],o=t[1],i=Hc().t;Ae((function(){if(e)return e.onModeChange((function(e){var t=e.activeMode;if("marqueeZoom"===t||"marqueeCapture"===t){o({show:!0,mode:t,isAnimating:!0});var n=setTimeout((function(){o((function(e){return p(p({},e),{},{show:!1})}))}),3e3);return function(){return clearTimeout(n)}}o({show:!1,mode:null,isAnimating:!1})}))}),[e]);if(!n.show&&!n.isAnimating)return null;var r="marqueeZoom"===n.mode?i("Zoom.Drag"):i("Capture.Drag"),a="marqueeZoom"===n.mode?"rgba(33,150,243,0.8)":"rgba(76,175,80,0.8)";return F("div",{className:"hint-overlay ".concat(n.show?"hint-show":"hint-hide"),onAnimationEnd:function(){n.show||o((function(e){return p(p({},e),{},{isAnimating:!1,mode:null})}))},style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},F("div",{className:"hint-text",style:{background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textAlign:"center",maxWidth:"250px"}},r),F("div",{className:"drag-demo",style:{position:"relative",width:"150px",height:"100px"}},F("div",{style:{position:"absolute",top:"20px",left:"20px",width:"110px",height:"60px",border:"2px dashed ".concat(a),borderRadius:"4px",opacity:.6}}),F("div",{className:"animated-rect",style:{position:"absolute",top:"20px",left:"20px",border:"2px solid ".concat(a),backgroundColor:"".concat(a.replace("0.8","0.15")),borderRadius:"4px"}}),F("div",{className:"cursor-demo",style:{position:"absolute",width:"20px",height:"20px"}},F("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F("path",{d:"M3.5 2.5L16.5 10L10 11.5L7.5 16.5L3.5 2.5Z",fill:"rgba(0,0,0,0.3)",transform:"translate(1,1)"}),F("path",{d:"M3 2L16 10L10 11.5L7.5 16L3 2Z",fill:"white",stroke:"black",strokeWidth:"1"}),F("path",{d:"M4 3.5L13.5 9.5L9.5 10.5L7.5 14L4 3.5Z",fill:"rgba(255,255,255,0.8)"})))),F("style",{jsx:!0},"\n        .hint-overlay {\n          animation-duration: 0.3s;\n          animation-fill-mode: both;\n        }\n\n        .hint-show {\n          animation-name: hintFadeIn;\n        }\n\n        .hint-hide {\n          animation-name: hintFadeOut;\n        }\n\n        @keyframes hintFadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes hintFadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n\n        .animated-rect {\n          animation: rectGrow 2s ease-in-out infinite;\n        }\n\n        @keyframes rectGrow {\n          0% {\n            width: 0;\n            height: 0;\n          }\n          50% {\n            width: 110px;\n            height: 60px;\n          }\n          100% {\n            width: 110px;\n            height: 60px;\n            opacity: 0.7;\n          }\n        }\n\n        .cursor-demo {\n          animation: cursorMove 2s ease-in-out infinite;\n        }\n\n        @keyframes cursorMove {\n          0% {\n            top: 20px;\n            left: 20px;\n          }\n          50% {\n            top: 50px;\n            left: 80px;\n          }\n          100% {\n            top: 80px;\n            left: 130px;\n          }\n        }\n\n        .hint-text {\n          animation: textPulse 0.6s ease-in-out;\n        }\n\n        @keyframes textPulse {\n          0% {\n            transform: scale(0.9);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      "))},mg=["trackedAnnotation"],vg=function(e){var t=e.trackedAnnotation,n=g(e,mg),o=ih().provides,i=_i().provides;return F("div",p(p({},n),{},{className:"flex flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),F(Ei,{onClick:function(){null==o||o.deleteAnnotation(t.object.pageIndex,t.object.id)}},F(sa,{icon:"trash",className:"h-5 w-5"})),F(Ei,{onClick:function(){null==i||i.togglePanel({id:"rightPanel",visibleChild:"comment",open:!0})}},F(sa,{icon:"comment",className:"h-5 w-5"})),F(Ei,{onClick:function(){null==i||i.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0})}},F(sa,{icon:"palette",className:"h-5 w-5"})))},yg=function(e){var t=e.placeholder,n=e.onSubmit,o=e.inputRef,i=e.isFocused,r=v(_e(""),2),a=r[0],s=r[1];return F("form",{className:"mt-4 flex items-end space-x-2 border-t border-gray-100 pt-4",onClick:function(e){return e.stopPropagation()},onSubmit:function(e){null==e||e.preventDefault(),a.trim()&&(n(a),s(""))}},F("input",{ref:o,type:"text",placeholder:t,value:a,onInput:function(e){return s(e.currentTarget.value)},className:"w-full rounded-lg border px-3 py-2 text-sm placeholder-gray-500 transition-colors focus:border-transparent focus:outline-none focus:ring-2 ".concat(i?"border-blue-300 focus:ring-blue-500":"border-gray-300 focus:ring-blue-500")}),F("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-blue-500 p-2 text-white transition-colors hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-300"},F("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}))))},bg=function(e){if(!e)return"bg-red-500";var t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[e.length>0?e.charCodeAt(0)%t.length:0]},xg=function(e){var t=e.name,n=e.className,o=void 0===n?"":n;return F("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium text-white ".concat(bg(t)," ").concat(o)},function(e){return e?e.split(" ").map((function(e){return e[0]})).join("").toUpperCase().slice(0,2):"G"}(t))},wg=function(e){var t,n,o=e.onEdit,i=e.onDelete,r=e.onClose,a=Hc().t,s=Ee(null);Ae((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[t=s,n=r]);return F("div",{ref:s,className:"absolute right-0 top-6 z-10 w-32 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5"},F("div",{className:"py-1"},F("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o(),r()},className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100"},a("Edit")),F("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i(),r()},className:"block w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100"},a("Delete"))))},kg=function(e){var t=e.initialText,n=e.onSave,o=e.onCancel,i=e.autoFocus,r=void 0!==i&&i,a=v(_e(t),2),s=a[0],l=a[1],c=Ee(null),d=Hc().t;Ae((function(){r&&c.current&&(c.current.focus(),c.current.setSelectionRange(s.length,s.length))}),[r,s.length]);return F("div",{className:"flex-1 space-y-2"},F("textarea",{ref:c,value:s,onInput:function(e){return l(e.currentTarget.value)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3}),F("div",{className:"flex space-x-2"},F("button",{onClick:function(e){e.stopPropagation(),n(s)},className:"rounded-md bg-blue-500 px-3 py-1 text-sm text-white hover:bg-blue-600"},d("Save")),F("button",{onClick:function(e){e.stopPropagation(),o()},className:"rounded-md bg-gray-300 px-3 py-1 text-sm text-gray-700 hover:bg-gray-400"},d("Cancel"))))},Cg=function(e){var t=e.annotation,n=e.onSave,o=e.onDelete,i=e.isReply,r=void 0!==i&&i,a=Hc().t,s=v(_e(!1),2),l=s[0],c=s[1],d=v(_e(!1),2),u=d[0],h=d[1],p=a(t.author||"Guest");return u?F("div",{className:"flex w-full items-start space-x-3",onClick:function(e){return e.stopPropagation()}},r&&F(xg,{name:p,className:"h-8 w-8"}),F(kg,{initialText:t.contents||"",onSave:function(e){n(e),h(!1)},onCancel:function(){h(!1)},autoFocus:!0})):F("div",{className:"flex items-start space-x-3"},r&&F(xg,{name:p,className:"h-8 w-8"}),F("div",{className:"min-w-0 flex-1"},r&&F("div",{className:"flex items-center justify-between"},F("div",{className:"leading-none"},F("h5",{className:"text-sm font-medium text-gray-900"},p),F("span",{className:"text-xs text-gray-400"},cs(t.modified||t.created,a("Locales"),a("NoDate")))),F("div",{className:"relative"},F("button",{onClick:function(e){e.stopPropagation(),c(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100"},F("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},F("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),l&&F(wg,{onEdit:function(){return h(!0)},onDelete:o,onClose:function(){return c(!1)}}))),F("p",{className:"mt-2 text-sm text-gray-800"},t.contents)))},Sg=(l(l(l(l(l(l(l(l(l(l(gg={},At.HIGHLIGHT,{label:"Highlight",icon:"highlight",iconProps:function(e){return{primaryColor:e.color||"#ffff00"}}}),At.CIRCLE,{label:"Circle",icon:"circle",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),At.SQUARE,{label:"Square",icon:"square",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),At.LINE,{label:"Line",icon:"line",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),At.UNDERLINE,{label:"Underline",icon:"underline",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),At.SQUIGGLY,{label:"Squiggly",icon:"squiggly",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),At.STRIKEOUT,{label:"Strikethrough",icon:"strikethrough",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),At.INK,{label:"Ink",icon:"pencilMarker",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),At.FREETEXT,{label:"Text",icon:"text",iconProps:function(e){return{primaryColor:e.fontColor||"#000000"}}}),At.POLYGON,{label:"Polygon",icon:"polygon",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),l(l(gg,At.POLYLINE,{label:"Polyline",icon:"zigzag",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),At.STAMP,{label:"Stamp",icon:"deviceFloppy",iconProps:function(){return{primaryColor:"#dc2626"}}})),Pg=function(e){var t=e.text,n=e.maxWords,o=void 0===n?16:n,i=e.className,r=void 0===i?"":i,a=v(_e(!1),2),s=a[0],l=a[1],c=Hc().t,d=t.split(" ");return d.length>o?F("div",{className:r},s?t:d.slice(0,o).join(" ")+"..."," ",F("button",{onClick:function(e){e.stopPropagation(),l(!s)},className:"text-sm font-medium text-blue-500 hover:text-blue-600 focus:outline-none"},c(s?"Comment.Less":"Comment.More"))):F("div",{className:r},t)},Mg=function(e){var t=e.annotation,n=e.config,o=e.className,i=void 0===o?"":o,r=n.iconProps(t.object),a=Hc().t;return F("div",{className:"flex items-center justify-center rounded-full bg-gray-100 ".concat(i),title:a(n.label)},F(sa,p({icon:n.icon},r)))},Ig=function(e){var t,n=e.entry,o=e.isSelected,i=e.onSelect,r=e.onUpdate,a=e.onDelete,s=e.onReply,l=n.annotation,c=n.replies,d=v(_e(!1),2),u=d[0],h=d[1],p=v(_e(!1),2),g=p[0],f=p[1],m=Hc().t,y=function(e){return Ud(e)?Sg[e.object.type]:null}(l),b=!!l.object.contents,x=c.length>0,w=!b&&!x,k=Ee(null),C=m(l.object.author||"Guest");if(Ae((function(){var e;o&&(null===(e=k.current)||void 0===e||e.focus())}),[o,n]),!y)return null;return F("div",{onClick:i,className:"cursor-pointer rounded-lg border bg-white shadow-sm transition-all hover:shadow-md ".concat(o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200")},F("div",{className:"p-4"},F("div",{className:"flex items-start space-x-3"},F(Mg,{annotation:l,config:y,className:"h-8 w-8"}),F("div",{className:"min-w-0 flex-1"},F("div",{className:"flex items-center justify-between"},F("div",{className:"leading-none"},F("h4",{className:"text-sm font-medium text-gray-900"},C),F("span",{className:"text-xs text-gray-400"},cs(l.object.modified||l.object.created,m("Locales"),m("NoDate")))),F("div",{className:"relative"},F("button",{onClick:function(e){e.stopPropagation(),h(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},F("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},F("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),u&&F(wg,{onEdit:function(){return f(!0)},onDelete:function(){return a(l)},onClose:function(){return h(!1)}}))),(null===(t=l.object.custom)||void 0===t?void 0:t.text)&&F(Pg,{text:l.object.custom.text,maxWords:14,className:"mt-2 text-sm text-gray-500"}),F("div",{className:"mt-2"},g?F(kg,{initialText:l.object.contents||"",onSave:function(e){r(l.object.id,e),f(!1)},onCancel:function(){f(!1)},autoFocus:!0}):b?F("p",{className:"text-sm text-gray-800"},l.object.contents):null))),x&&F("div",{className:"mt-4 space-y-4 border-t border-gray-100 pt-4"},c.map((function(e){return F(Cg,{key:e.object.id,annotation:e.object,onSave:function(t){return r(e.object.id,t)},onDelete:function(){return a(e)},isReply:!0})}))),!g&&F(yg,{inputRef:k,isFocused:o,placeholder:m(w?"Add comment...":"Add reply..."),onSubmit:function(e){w?r(l.object.id,e):s(l.object.id,e)}})))},_g=function(){var e=Hc().t;return F("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},F(sa,{icon:"comment",className:"h-18 w-18 text-gray-500"}),F("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},e("Comment.Empty")))},Tg=function(e){var t=e.sidebarAnnotations,n=e.selectedAnnotation,o=Hc().t,i=ih().provides,r=jo().provides,a=Ee({}),l=Ee(null);Ae((function(){if(n&&l.current){var e=a.current[n.object.id];null==e||e.scrollIntoView({behavior:"smooth",block:"center"})}}),[n]);var c=function(e,t){var n=p(e);n&&(null==i||i.updateAnnotation(n.object.pageIndex,e,{contents:t,modified:new Date}))},d=function(e){null==i||i.deleteAnnotation(e.object.pageIndex,e.object.id)},u=function(e,t){var n=p(e);n&&(null==i||i.createAnnotation(n.object.pageIndex,{id:wn(),rect:{origin:{x:n.object.rect.origin.x,y:n.object.rect.origin.y},size:{width:24,height:24}},pageIndex:n.object.pageIndex,created:new Date,modified:new Date,type:At.TEXT,contents:t,inReplyToId:n.object.id,flags:["noRotate","noZoom","print"],icon:Et.Comment}))},h=Object.keys(t).map(Number).sort((function(e,t){return e-t})),p=function(e){var n,o=s(h);try{for(o.s();!(n=o.n()).done;){var i,r=n.value,a=s(t[r]);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.annotation.object.id===e)return l.annotation;var c=l.replies.find((function(t){return t.object.id===e}));if(c)return c}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}};return 0===h.length?F(_g,null):F("div",{ref:l,className:"h-full overflow-auto"},F("div",{className:"space-y-6 p-3"},h.map((function(e){return F("div",{key:e,className:"space-y-3"},F("div",{className:"sticky top-0 z-10 bg-white px-1"},F("div",{className:"border-b border-gray-200 py-2"},F("h3",{className:"text-md font-semibold text-gray-800"},o("Comment.Page",{pageNumber:e+1})),F("p",{className:"text-sm text-gray-500"},o("Comment.Total",{total:t[e].length,unit:1!==t[e].length?"s":""})))),F("div",{className:"space-y-3 px-1"},t[e].map((function(e){return F("div",{key:e.annotation.object.id,ref:function(t){return a.current[e.annotation.object.id]=t}},F(Ig,{entry:e,isSelected:(null==n?void 0:n.object.id)===e.annotation.object.id,onSelect:function(){return t=e.annotation,null==i||i.selectAnnotation(t.object.pageIndex,t.object.id),void(null==r||r.scrollToPage({pageNumber:t.object.pageIndex+1,pageCoordinates:{x:t.object.rect.origin.x,y:t.object.rect.origin.y},center:!0,behavior:"smooth"}));var t},onUpdate:c,onDelete:d,onReply:u}))}))))}))))},Ag=["item","pageIndex"],Rg=function(e){var t=e.item,n=e.pageIndex,o=g(e,Ag),i=sg().provides,r=Hc().t;return F("div",p(p({},o),{},{className:"flex cursor-default flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),F(Ur,{position:"bottom",content:r("Delete Redaction"),trigger:"hover",delay:500},F(Ei,{onClick:function(){null==i||i.removePending(n,t.id)}},F(sa,{icon:"trash",className:"h-5 w-5"}))),F(Ur,{position:"bottom",content:r("Commit Redaction"),trigger:"hover",delay:500},F(Ei,{onClick:function(){null==i||i.commitPending(n,t.id)}},F(sa,{icon:"check",className:"h-5 w-5"}))))},Eg={viewport:{viewportGap:10},scroll:{strategy:Mo.Vertical},zoom:{defaultZoomLevel:qr.FitPage},spread:{defaultSpreadMode:Uo.None},rotate:{defaultRotation:Ze.Degree0},tiling:{tileSize:768,overlapPx:2.5,extraRings:0},thumbnail:{width:150,gap:10,buffer:3,labelHeight:30}};var Ng={menuCtr:{id:"menuCtr",icon:"menu",label:"Menu",type:"menu",children:["openFile","download","enterFS","screenshot","print"],active:function(e){return"menuCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},download:{id:"download",icon:"download",label:"Download",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Cp))||void 0===t?void 0:t.provides();n&&n.download()}},openFile:{id:"openFile",icon:"fileImport",label:"Open PDF",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(oi))||void 0===t?void 0:t.provides();n&&n.openFileDialog()}},enterFS:{id:"enterFS",icon:function(e){return e.plugins.fullscreen.isFullscreen?"fullscreenExit":"fullscreen"},label:function(e){return e.plugins.fullscreen.isFullscreen?"Exit full screen":"Enter full screen"},type:"action",action:function(e){var t,n=null===(t=e.getPlugin(fp))||void 0===t?void 0:t.provides();n&&(n.isFullscreen()?n.exitFullscreen():n.enableFullscreen())}},screenshot:{id:"screenshot",icon:"screenshot",label:"Screenshot",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(_p))||void 0===t?void 0:t.provides();n&&(n.isMarqueeCaptureActive()?n.disableMarqueeCapture():n.enableMarqueeCapture())},active:function(e){return"marqueeCapture"===e.plugins[Fu].activeMode}},save:{id:"save",icon:"save",label:"Save",type:"action",action:function(){console.log("save")}},print:{id:"print",icon:"print",label:"Print",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(Mi))||void 0===n?void 0:n.provides();o&&o.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!0}})}},settings:{id:"settings",icon:"settings",label:"Settings",dividerBefore:!0,type:"action",action:function(){console.log("settings")}},viewCtr:{id:"viewCtr",icon:"viewSettings",label:"View controls",type:"menu",children:["pageOrientation","scrollLayout","pageLayout","enterFS"],active:function(e){return"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},pageOrientation:{id:"pageOrientation",label:"Page orientation",type:"group",children:["rotateClockwise","rotateCounterClockwise"]},rotateClockwise:{id:"rotateClockwise",label:"Rotate clockwise",icon:"rotateClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Yh))||void 0===t?void 0:t.provides();n&&n.rotateForward()}},rotateCounterClockwise:{id:"rotateCounterClockwise",label:"Rotate counter clockwise",icon:"rotateCounterClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Yh))||void 0===t?void 0:t.provides();n&&n.rotateBackward()}},scrollLayout:{id:"scrollLayout",label:"Scroll layout",type:"group",children:["vertical","horizontal"]},vertical:{id:"vertical",label:"Vertical",icon:"vertical",type:"action",active:function(e){return e.plugins.scroll.strategy===Mo.Vertical},action:function(e){var t,n=null===(t=e.getPlugin(Do))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(Mo.Vertical)}},horizontal:{id:"horizontal",label:"Horizontal",icon:"horizontal",type:"action",active:function(e){return e.plugins.scroll.strategy===Mo.Horizontal},action:function(e){var t,n=null===(t=e.getPlugin(Do))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(Mo.Horizontal)}},pageLayout:{id:"pageLayout",label:"Page layout",type:"group",children:["singlePage","doublePage","coverFacingPage"]},singlePage:{id:"singlePage",label:"Single page",icon:"singlePage",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Uo.None},action:function(e){var t,n=null===(t=e.getPlugin(Zo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Uo.None)}},doublePage:{id:"doublePage",label:"Double page",icon:"book",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Uo.Odd},action:function(e){var t,n=null===(t=e.getPlugin(Zo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Uo.Odd)}},coverFacingPage:{id:"coverFacingPage",label:"Cover facing page",icon:"book2",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Mo.Horizontal},active:function(e){return e.plugins.spread.spreadMode===Uo.Even},action:function(e){var t,n=null===(t=e.getPlugin(Zo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(Uo.Even)}},leftAction:{id:"leftAction",label:"Left action",type:"menu",icon:"dots",children:["viewCtr","zoom","panMode","pointerMode"],active:function(e){return"leftAction"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom:{id:"zoom",icon:"zoomIn",label:"Zoom Controls",type:"menu",children:["changeZoomLevel","zoomIn","zoomOut","fitToWidth","fitToPage","zoomInArea"],active:function(e){return"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoomInArea:{id:"zoomInArea",label:"Zoom in area",icon:"zoomInArea",type:"action",dividerBefore:!0,action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&(n.isMarqueeZoomActive()?n.disableMarqueeZoom():n.enableMarqueeZoom())},active:function(e){return"marqueeZoom"===e.plugins[Fu].activeMode}},changeZoomLevel:{id:"changeZoomLevel",label:function(e){return"Zoom level (".concat((100*e.plugins.zoom.currentZoomLevel).toFixed(0),"%)")},type:"menu",children:["zoom25","zoom50","zoom100","zoom125","zoom150","zoom200","zoom400","zoom800","zoom1600"],active:function(e){return"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom25:{id:"zoom25",label:"25%",type:"action",active:function(e){return.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.25)}},zoom50:{id:"zoom50",label:"50%",type:"action",active:function(e){return.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(.5)}},zoom100:{id:"zoom100",label:"100%",type:"action",active:function(e){return 1===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1)}},zoom125:{id:"zoom125",label:"125%",type:"action",active:function(e){return 1.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.25)}},zoom150:{id:"zoom150",label:"150%",type:"action",active:function(e){return 1.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.5)}},zoom200:{id:"zoom200",label:"200%",type:"action",active:function(e){return 2===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(2)}},zoom400:{id:"zoom400",label:"400%",type:"action",active:function(e){return 4===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(4)}},zoom800:{id:"zoom800",label:"800%",type:"action",active:function(e){return 8===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(8)}},zoom1600:{id:"zoom1600",label:"1600%",type:"action",active:function(e){return 16===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(16)}},zoomIn:{id:"zoomIn",label:"Zoom in",icon:"zoomIn",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.zoomIn()}},zoomOut:{id:"zoomOut",label:"Zoom out",icon:"zoomOut",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.zoomOut()}},search:{id:"search",label:"Search",icon:"search",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"search"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"search"===e.plugins.ui.panel.rightPanel.visibleChild}},comment:{id:"comment",label:"Comment",icon:"comment",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"comment"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"comment"===e.plugins.ui.panel.rightPanel.visibleChild}},fitToWidth:{id:"fitToWidth",label:"Fit to width",icon:"fitToWidth",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===qr.FitWidth},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(qr.FitWidth)}},fitToPage:{id:"fitToPage",label:"Fit to page",icon:"fitToPage",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===qr.FitPage},action:function(e){var t,n=null===(t=e.getPlugin(Gr))||void 0===t?void 0:t.provides();n&&n.requestZoom(qr.FitPage)}},sidebar:{id:"sidebar",label:"Sidebar",icon:"sidebar",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(Mi))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelMain"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelMain"===e.plugins.ui.panel.leftPanel.visibleChild}},sidebarMenu:{id:"sidebarMenu",label:"Sidebar Menu",type:"menu",children:["thumbnails","outline"]},thumbnails:{id:"thumbnails",label:"Thumbnails",icon:"squares",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"thumbnails"}}))},active:function(e){return"thumbnails"===e.plugins.ui.custom.leftPanelMain.visibleChild}},outline:{id:"outline",label:"Outline",icon:"listTree",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"outline"}}))},active:function(e){return"outline"===e.plugins.ui.custom.leftPanelMain.visibleChild}},attachments:{id:"attachments",label:"Attachments",icon:"paperclip",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"attachments"}}))},active:function(e){return"attachments"===e.plugins.ui.custom.leftPanelMain.visibleChild}},view:{id:"view",label:"View",type:"action",action:function(e){var t,n,o=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&(o.setHeaderVisible({id:"toolsHeader",visible:!1}),null==i||i.setActiveTool(null))},active:function(e){return!1===e.plugins.ui.header.toolsHeader.visible}},annotate:{id:"annotate",label:"Annotate",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"annotationTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"annotationTools"===e.plugins.ui.header.toolsHeader.visibleChild}},shapes:{id:"shapes",label:"Shapes",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"shapeTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"shapeTools"===e.plugins.ui.header.toolsHeader.visibleChild}},redaction:{id:"redaction",label:"Redaction",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"redactionTools"===e.plugins.ui.header.toolsHeader.visibleChild}},fillAndSign:{id:"fillAndSign",label:"Fill and Sign",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"fillAndSignTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"fillAndSignTools"===e.plugins.ui.header.toolsHeader.visibleChild}},form:{id:"form",label:"Form",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Mi))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"formTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"formTools"===e.plugins.ui.header.toolsHeader.visibleChild}},tabOverflow:{id:"tabOverflow",label:"More",icon:"dots",type:"menu",children:["view","annotate","shapes","redaction"],active:function(e){return"tabOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},annotationToolOverflow:{id:"annotationToolOverflow",label:"More",icon:"dots",type:"menu",children:["highlight","underline","strikethrough","squiggly","freehand","freeText","photo"],active:function(e){return"annotationToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},shapeToolOverflow:{id:"shapeToolOverflow",label:"More",icon:"dots",type:"menu",children:["circle","square","polygon","polyline","line","lineArrow"],active:function(e){return"shapeToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},nextPage:{id:"nextPage",label:"Next page",icon:"chevronRight",shortcut:"ArrowRight",shortcutLabel:"Arrow Right",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Do))||void 0===t?void 0:t.provides();n&&n.scrollToNextPage()}},previousPage:{id:"previousPage",label:"Previous page",icon:"chevronLeft",type:"action",shortcut:"ArrowLeft",shortcutLabel:"Arrow Left",action:function(e){var t,n=null===(t=e.getPlugin(Do))||void 0===t?void 0:t.provides();n&&n.scrollToPreviousPage()}},copy:{id:"copy",label:"Copy",icon:"copy",type:"action",shortcut:"Meta+C",shortcutLabel:"Cmd+C",action:function(e){var t,n=null===(t=e.getPlugin(Da))||void 0===t?void 0:t.provides();n&&(n.copyToClipboard(),n.clear())}},underline:{id:"underline",label:"Underline",type:"action",icon:"underline",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"underline"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("underline"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("underline"))},active:function(e){return"underline"===e.plugins.annotation.activeToolId}},squiggly:{id:"squiggly",label:"Squiggly",type:"action",icon:"squiggly",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"squiggly"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("squiggly"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("squiggly"))},active:function(e){return"squiggly"===e.plugins.annotation.activeToolId}},strikethrough:{id:"strikethrough",label:"Strikethrough",type:"action",icon:"strikethrough",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"strikeout"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("strikeout"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("strikeout"))},active:function(e){return"strikeout"===e.plugins.annotation.activeToolId}},highlight:{id:"highlight",label:"Highlight",type:"action",icon:"highlight",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"highlight"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("highlight"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("highlight"))},active:function(e){return"highlight"===e.plugins.annotation.activeToolId}},freehand:{id:"freehand",label:"Freehand",type:"action",icon:"pencilMarker",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"ink"))||void 0===t?void 0:t.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("ink"===t.plugins.annotation.activeToolId?o.setActiveTool(null):(o.deselectAnnotation(),o.setActiveTool("ink")))},active:function(e){return"ink"===e.plugins.annotation.activeToolId}},circle:{id:"circle",label:"Circle",type:"action",icon:"circle",iconProps:function(e){var t,n;return{primaryColor:null===(t=qd(e.plugins.annotation,"circle"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=qd(e.plugins.annotation,"circle"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("circle"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("circle"))},active:function(e){return"circle"===e.plugins.annotation.activeToolId}},square:{id:"square",label:"Square",type:"action",icon:"square",iconProps:function(e){var t,n;return{primaryColor:null===(t=qd(e.plugins.annotation,"square"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=qd(e.plugins.annotation,"square"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("square"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("square"))},active:function(e){return"square"===e.plugins.annotation.activeToolId}},line:{id:"line",label:"Line",type:"action",icon:"line",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"line"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("line"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("line"))},active:function(e){return"line"===e.plugins.annotation.activeToolId}},lineArrow:{id:"lineArrow",label:"Line Arrow",type:"action",icon:"lineArrow",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"line"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("lineArrow"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("lineArrow"))},active:function(e){return"lineArrow"===e.plugins.annotation.activeToolId}},polyline:{id:"polyline",label:"Polyline",type:"action",icon:"zigzag",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"polyline"))||void 0===t?void 0:t.strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("polyline"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("polyline"))},active:function(e){return"polyline"===e.plugins.annotation.activeToolId}},polygon:{id:"polygon",label:"Polygon",type:"action",icon:"polygon",iconProps:function(e){var t,n;return{primaryColor:null===(t=qd(e.plugins.annotation,"polygon"))||void 0===t?void 0:t.strokeColor,secondaryColor:null===(n=qd(e.plugins.annotation,"polygon"))||void 0===n?void 0:n.color}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("polygon"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("polygon"))},active:function(e){return"polygon"===e.plugins.annotation.activeToolId}},freeText:{id:"freeText",label:"Free Text",type:"action",icon:"text",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"freeText"))||void 0===t?void 0:t.fontColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("freeText"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("freeText"))},active:function(e){return"freeText"===e.plugins.annotation.activeToolId}},photo:{id:"photo",label:"Photo",type:"action",icon:"photo",action:function(e,t){var n,o=null===(n=e.getPlugin(ud))||void 0===n?void 0:n.provides();o&&("stamp"===t.plugins.annotation.activeToolId?o.setActiveTool(null):o.setActiveTool("stamp"))},active:function(e){return"stamp"===e.plugins.annotation.activeToolId}},squigglySelection:{id:"squigglySelection",label:"Squiggly Selection",type:"action",icon:"squiggly",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"squiggly"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Da))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("squiggly");if(r&&ku(r)){var a,l=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=s(c);try{var h=function(){var e=a.value;d.wait((function(t){var n=wn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:At.SQUIGGLY,blendMode:It.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),kn)};for(u.s();!(a=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},underlineSelection:{id:"underlineSelection",label:"Underline Selection",type:"action",icon:"underline",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"underline"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Da))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("underline");if(r&&Cu(r)){var a,l=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=s(c);try{var h=function(){var e=a.value;d.wait((function(t){var n=wn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:At.UNDERLINE,blendMode:It.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),kn)};for(u.s();!(a=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},strikethroughSelection:{id:"strikethroughSelection",label:"Strikethrough Selection",type:"action",icon:"strikethrough",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"strikeout"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Da))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("strikeout");if(r&&Su(r)){var a,l=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=s(c);try{var h=function(){var e=a.value;d.wait((function(t){var n=wn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:At.STRIKEOUT,blendMode:It.Normal,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),kn)};for(u.s();!(a=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},highlightSelection:{id:"highlightSelection",label:"Highlight Selection",type:"action",icon:"highlight",iconProps:function(e){var t;return{primaryColor:null===(t=qd(e.plugins.annotation,"highlight"))||void 0===t?void 0:t.color}},action:function(e){var t,n,o=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Da))||void 0===n?void 0:n.provides();if(i&&o){var r=o.getTool("highlight");if(r&&wu(r)){var a,l=r.defaults,c=i.getFormattedSelection(),d=i.getSelectedText(),u=s(c);try{var h=function(){var e=a.value;d.wait((function(t){var n=wn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,flags:["print"],type:At.HIGHLIGHT,blendMode:It.Multiply,color:l.color,opacity:l.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)}),kn)};for(u.s();!(a=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}i.clear()}}}},saveRedaction:{id:"saveRedaction",label:"Save redaction",type:"action",icon:"check",action:function(e){var t,n=null===(t=e.getPlugin(ng))||void 0===t?void 0:t.provides();n&&n.commitAllPending()},disabled:function(e){return!(e=>Object.values(e.pending).some((e=>((null==e?void 0:e.length)??0)>0)))(e.plugins[ng])}},exitRedaction:{id:"exitRedaction",label:"Exit redaction",type:"action",icon:"x",action:function(e){var t,n=null===(t=e.getPlugin(ng))||void 0===t?void 0:t.provides();n&&n.endRedaction()},disabled:function(e){return!e.plugins[ng].isRedacting}},redactSelection:{id:"redactSelection",label:"Redact Selection",type:"action",icon:"redact",action:function(e){var t,n,o=null===(t=e.getPlugin(ng))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Mi))||void 0===n?void 0:n.provides();o&&i&&(o.queueCurrentSelectionAsPending(),i.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"redactionTools"}))}},redact:{id:"redact",label:"Redact Selection",type:"action",icon:"redact",action:function(e){var t,n=null===(t=e.getPlugin(ng))||void 0===t?void 0:t.provides();n&&(n.isRedactSelectionActive()?n.endRedaction():n.enableRedactSelection())},active:function(e){return"redactSelection"===e.plugins[Fu].activeMode}},redactArea:{id:"redactArea",label:"Redact Area",type:"action",icon:"redactArea",action:function(e){var t,n=null===(t=e.getPlugin(ng))||void 0===t?void 0:t.provides();n&&(n.isMarqueeRedactActive()?n.endRedaction():n.enableMarqueeRedact())},active:function(e){return"marqueeRedact"===e.plugins[Fu].activeMode}},styleAnnotation:{id:"styleAnnotation",label:"Style",type:"action",icon:"palette",action:function(e,t){var n,o=null===(n=e.getPlugin(Mi))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelAnnotationStyle"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelAnnotationStyle"===e.plugins.ui.panel.leftPanel.visibleChild}},deleteAnnotation:{id:"deleteAnnotation",label:"Delete",type:"action",icon:"trash",action:function(e){var t,n=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides();if(n){var o=n.getSelectedAnnotation();o&&n.deleteAnnotation(o.object.pageIndex,o.object.id)}}},panMode:{id:"panMode",label:"Pan",type:"action",dividerBefore:!0,icon:"hand",action:function(e){var t,n=null===(t=e.getPlugin(Fu))||void 0===t?void 0:t.provides();n&&("panMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("panMode"))},active:function(e){return"panMode"===e.plugins[Fu].activeMode}},pointerMode:{id:"pointerMode",label:"Pointer",type:"action",icon:"pointer",action:function(e){var t,n=null===(t=e.getPlugin(Fu))||void 0===t?void 0:t.provides();n&&("pointerMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("pointerMode"))},active:function(e){return"pointerMode"===e.plugins[Fu].activeMode}},undo:{id:"undo",label:"Undo",type:"action",icon:"arrowBackUp",action:function(e){var t,n=null===(t=e.getPlugin(Lp))||void 0===t?void 0:t.provides();n&&n.undo()},disabled:function(e){return!e.plugins[Lp].global.canUndo}},redo:{id:"redo",label:"Redo",type:"action",icon:"arrowForwardUp",action:function(e){var t,n=null===(t=e.getPlugin(Lp))||void 0===t?void 0:t.provides();n&&n.redo()},disabled:function(e){return!e.plugins[Lp].global.canRedo}},commitAnnotations:{id:"commitAnnotations",label:"Commit",type:"action",icon:"deviceFloppy",action:function(e){var t,n=null===(t=e.getPlugin(ud))||void 0===t?void 0:t.provides();n&&n.commit()}}},zg={menuButton:{type:"iconButton",id:"menuButton",props:{commandId:"menuCtr",active:!1,label:"Menu"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.menuCtr,e)})}},deleteAnnotationButton:{type:"iconButton",id:"deleteAnnotationButton",props:{commandId:"deleteAnnotation",active:!1,label:"Delete"}},styleButton:{type:"iconButton",id:"styleButton",props:{commandId:"styleAnnotation",active:!1,label:"Style"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.styleAnnotation,e)})}},undoButton:{type:"iconButton",id:"undoButton",props:{commandId:"undo",disabled:!1,label:"Undo"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:mi(Ng.undo,e)})}},redoButton:{type:"iconButton",id:"redoButton",props:{commandId:"redo",disabled:!1,label:"Redo"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:mi(Ng.redo,e)})}},commitAnnotationsButton:{type:"iconButton",id:"commitAnnotationsButton",props:{commandId:"commitAnnotations",active:!1,label:"Commit"}},copyButton:{type:"iconButton",id:"copyButton",props:{commandId:"copy",active:!1,label:"Copy"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.copy,e)})}},panModeButton:{type:"iconButton",id:"panModeButton",props:{commandId:"panMode",active:!1,label:"Pan"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.panMode,e)})}},pointerModeButton:{type:"iconButton",id:"pointerModeButton",props:{commandId:"pointerMode",active:!1,label:"Pointer"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.pointerMode,e)})}},circleButton:{type:"iconButton",id:"circleButton",props:{commandId:"circle",active:!1,label:"Circle"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.circle,e),iconProps:vi(Ng.circle,e)})}},freeTextButton:{type:"iconButton",id:"freeTextButton",props:{commandId:"freeText",active:!1,label:"Free Text"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.freeText,e),iconProps:vi(Ng.freeText,e)})}},squareButton:{type:"iconButton",id:"squareButton",props:{commandId:"square",active:!1,label:"Square"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.square,e),iconProps:vi(Ng.square,e)})}},polygonButton:{type:"iconButton",id:"polygonButton",props:{commandId:"polygon",active:!1,label:"Polygon"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.polygon,e),iconProps:vi(Ng.polygon,e)})}},lineButton:{type:"iconButton",id:"lineButton",props:{commandId:"line",active:!1,label:"Line"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.line,e),iconProps:vi(Ng.line,e)})}},lineArrowButton:{type:"iconButton",id:"lineArrowButton",props:{commandId:"lineArrow",active:!1,label:"Line Arrow"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.lineArrow,e),iconProps:vi(Ng.lineArrow,e)})}},polylineButton:{type:"iconButton",id:"polylineButton",props:{commandId:"polyline",active:!1,label:"Polyline"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.polyline,e),iconProps:vi(Ng.polyline,e)})}},underlineButton:{type:"iconButton",id:"underlineButton",props:{commandId:"underline",active:!1,label:"Underline",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.underline,e),iconProps:vi(Ng.underline,e)})}},squigglyButton:{type:"iconButton",id:"squigglyButton",props:{commandId:"squiggly",active:!1,label:"Squiggly",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.squiggly,e),iconProps:vi(Ng.squiggly,e)})}},strikethroughButton:{type:"iconButton",id:"strikethroughButton",props:{commandId:"strikethrough",active:!1,label:"Strikethrough",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.strikethrough,e),iconProps:vi(Ng.strikethrough,e)})}},highlightButton:{type:"iconButton",id:"highlightButton",props:{commandId:"highlight",active:!1,label:"Highlight",color:"#ffcd45"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.highlight,e),iconProps:vi(Ng.highlight,e)})}},freehandButton:{type:"iconButton",id:"freehandButton",props:{commandId:"freehand",active:!1,label:"Freehand",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.freehand,e),iconProps:vi(Ng.freehand,e)})}},photoButton:{type:"iconButton",id:"photoButton",props:{commandId:"photo",active:!1,label:"Photo",color:"#000000"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.photo,e),iconProps:vi(Ng.photo,e)})}},highlightSelectionButton:{type:"iconButton",id:"highlightSelectionButton",props:{commandId:"highlightSelection",color:"#ffcd45"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:vi(Ng.highlightSelection,e)})}},underlineSelectionButton:{type:"iconButton",id:"underlineSelectionButton",props:{commandId:"underlineSelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:vi(Ng.underlineSelection,e)})}},strikethroughSelectionButton:{type:"iconButton",id:"strikethroughSelectionButton",props:{commandId:"strikethroughSelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:vi(Ng.strikethroughSelection,e)})}},squigglySelectionButton:{type:"iconButton",id:"squigglySelectionButton",props:{commandId:"squigglySelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:vi(Ng.squigglySelection,e)})}},redactionButton:{type:"iconButton",id:"redactionButton",props:{commandId:"redact"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.redact,e)})}},redactionAreaButton:{type:"iconButton",id:"redactionAreaButton",props:{commandId:"redactArea"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.redactArea,e)})}},redactSelectionButton:{type:"iconButton",id:"redactSelectionButton",props:{commandId:"redactSelection"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:vi(Ng.redactSelection,e)})}},viewCtrButton:{type:"iconButton",id:"viewCtrButton",props:{commandId:"viewCtr",active:!1,label:"View settings"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.viewCtr,e)})}},saveRedactionButton:{type:"iconButton",id:"saveRedactionButton",props:{commandId:"saveRedaction",label:"Save redaction"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:mi(Ng.saveRedaction,e)})}},exitRedactionButton:{type:"iconButton",id:"exitRedactionButton",props:{commandId:"exitRedaction",label:"Exit redaction"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:mi(Ng.exitRedaction,e)})}},commentButton:{type:"iconButton",id:"commentButton",props:{active:!1,commandId:"comment",label:"Comment"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.comment,e)})}},searchButton:{type:"iconButton",id:"searchButton",props:{active:!1,commandId:"search",label:"Search"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.search,e)})}},filePickerButton:{type:"iconButton",id:"filePickerButton",props:{label:"Open File",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbi10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1maWxlLWltcG9ydCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNIDAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNCAzdjRhMSAxIDAgMCAwIDEgMWg0IiAvPjxwYXRoIGQ9Ik01IDEzdi04YTIgMiAwIDAgMSAyIC0yaDdsNSA1djExYTIgMiAwIDAgMSAtMiAyaC01LjVtLTkuNSAtMmg3bS0zIC0zbDMgM2wtMyAzIiAvPjwvc3ZnPg=="}},downloadButton:{type:"iconButton",id:"downloadButton",props:{label:"Download",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItZG93bmxvYWQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMiAtMnYtMiIgLz48cGF0aCBkPSJNNyAxMWw1IDVsNSAtNSIgLz48cGF0aCBkPSJNMTIgNGwwIDEyIiAvPjwvc3ZnPg=="}},zoomButton:{type:"iconButton",id:"zoomButton",props:{commandId:"zoom",label:"Zoom",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItY2lyY2xlLXBsdXMiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCAxOCAwYTkgOSAwIDAgMCAtMTggMCIgLz48cGF0aCBkPSJNOSAxMmg2IiAvPjxwYXRoIGQ9Ik0xMiA5djYiIC8+PC9zdmc+"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.zoom,e)||fi(Ng.changeZoomLevel,e)})}},sidebarButton:{type:"iconButton",id:"sidebarButton",props:{commandId:"sidebar",label:"Sidebar",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.sidebar,e)})}},divider1:{type:"divider",id:"divider1"},expandLeftActionsButton:{type:"iconButton",id:"expandLeftActionsButton",props:{commandId:"leftAction",label:"Left Panel Actions"},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.leftAction,e)})}},headerStartExt:{id:"headerStartExt",type:"custom",slots:[],props:{}},headerStart:{id:"headerStart",type:"groupedItems",slots:[{componentId:"headerStartExt",priority:-1},{componentId:"menuButton",priority:0},{componentId:"divider1",priority:1,className:"flex"},{componentId:"sidebarButton",priority:2},{componentId:"expandLeftActionsButton",priority:3,className:"@min-[400px]:hidden"},{componentId:"viewCtrButton",priority:4,className:"hidden @min-[400px]:block"},{componentId:"divider1",priority:6,className:"hidden @min-[400px]:flex"},{componentId:"zoomButton",priority:7,className:"hidden @min-[400px]:block @min-[600px]:hidden"},{componentId:"zoom",priority:8,className:"hidden @min-[600px]:block"},{componentId:"divider1",priority:9,className:"hidden @min-[600px]:flex"},{componentId:"panModeButton",priority:10,className:"hidden @min-[600px]:block"},{componentId:"pointerModeButton",priority:11,className:"hidden @min-[600px]:block"}],props:{gap:10}},viewTab:{type:"tabButton",id:"viewTab",props:{label:"View",commandId:"view",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.view,e)})}},annotateTab:{type:"tabButton",id:"annotateTab",props:{label:"Annotate",commandId:"annotate",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.annotate,e)})}},shapesTab:{type:"tabButton",id:"shapesTab",props:{label:"Shapes",commandId:"shapes",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.shapes,e)})}},redactionTab:{type:"tabButton",id:"redactionTab",props:{label:"Redact",commandId:"redaction",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.redaction,e)})}},fillAndSignTab:{type:"tabButton",id:"fillAndSignTab",props:{label:"Fill and Sign",commandId:"fillAndSign",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.fillAndSign,e)})}},formTab:{type:"tabButton",id:"formTab",props:{label:"Form",commandId:"form",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.form,e)})}},tabOverflowButton:{type:"iconButton",id:"tabOverflowButton",props:{label:"More",commandId:"tabOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.tabOverflow,e)})}},annotationToolOverflowButton:{type:"iconButton",id:"annotationToolOverflowButton",props:{label:"More",commandId:"annotationToolOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.annotationToolOverflow,e)})}},shapeToolOverflowButton:{type:"iconButton",id:"shapeToolOverflowButton",props:{label:"More",commandId:"shapeToolOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:fi(Ng.shapeToolOverflow,e)})}},selectButton:{type:"selectButton",id:"selectButton",props:{menuCommandId:"tabOverflow",commandIds:["view","annotate","shapes","redaction"],activeCommandId:"view",active:!1},mapStateToProps:function(e,t){var n;return p(p({},t),{},{activeCommandId:null!==(n=t.commandIds.find((function(t){return fi(Ng[t],e)})))&&void 0!==n?n:t.commandIds[0],active:fi(Ng.tabOverflow,e)})}},headerCenter:{id:"headerCenter",type:"groupedItems",slots:[{componentId:"selectButton",priority:0,className:"block @min-[500px]:hidden"},{componentId:"viewTab",priority:1,className:"hidden @min-[500px]:block"},{componentId:"annotateTab",priority:2,className:"hidden @min-[800px]:block"},{componentId:"shapesTab",priority:3,className:"hidden @min-[800px]:block"},{componentId:"redactionTab",priority:4,className:"hidden @min-[800px]:block"},{componentId:"tabOverflowButton",priority:5,className:"hidden @min-[500px]:block @min-[800px]:hidden"}],props:{gap:10}},headerEndExt:{id:"headerEndExt",type:"custom",slots:[],props:{}},headerEnd:{id:"headerEnd",type:"groupedItems",slots:[{componentId:"headerEndExt",priority:0},{componentId:"searchButton",priority:1},{componentId:"commentButton",priority:2}],props:{gap:10}},pageControls:{id:"pageControls",type:"custom",render:"pageControls",initialState:{currentPage:1,pageCount:1},props:function(e){return{currentPage:e.currentPage,pageCount:e.pageCount,nextPageCommandId:"nextPage",previousPageCommandId:"previousPage"}},mapStateToProps:function(e,t){var n,o;return p(p({},t),{},{currentPage:e.plugins.scroll.currentPage,pageCount:null!==(n=null===(o=e.core.document)||void 0===o?void 0:o.pageCount)&&void 0!==n?n:1})}},pageControlsContainer:{id:"pageControlsContainer",type:"floating",props:{scrollerPosition:"outside"},render:"pageControlsContainer",slots:[{componentId:"pageControls",priority:0}]},textSelectionMenuButtons:{id:"textSelectionMenuButtons",type:"groupedItems",slots:[{componentId:"copyButton",priority:0},{componentId:"highlightSelectionButton",priority:1},{componentId:"underlineSelectionButton",priority:2},{componentId:"strikethroughSelectionButton",priority:3},{componentId:"squigglySelectionButton",priority:4},{componentId:"redactSelectionButton",priority:5}],props:{gap:10}},printModal:{id:"printModal",type:"floating",render:"printModal",initialState:{open:!1},props:function(e){return{open:e.open,scrollerPosition:"outside"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.floating.printModal.open})}},textSelectionMenu:{id:"textSelectionMenu",type:"floating",render:"textSelectionMenu",props:{open:!1,scrollerPosition:"inside"},mapStateToProps:function(e,t){return p(p({},t),{},{isScolling:e.plugins.viewport.isScrolling,scale:e.core.scale,rotation:e.core.rotation,spread:e.plugins[Zo].spreadMode,open:e.plugins[Da].active&&!e.plugins[Da].selecting})},slots:[{componentId:"textSelectionMenuButtons",priority:0}],getChildContext:{direction:"horizontal"}},topHeader:{type:"header",id:"topHeader",slots:[{componentId:"headerStart",priority:0},{componentId:"headerCenter",priority:1},{componentId:"headerEnd",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}},props:{placement:"top",style:{backgroundColor:"#ffffff",gap:"10px"}}},shapeTools:{id:"shapeTools",type:"groupedItems",slots:[{componentId:"circleButton",priority:6},{componentId:"squareButton",priority:7},{componentId:"polygonButton",priority:8},{componentId:"polylineButton",priority:9},{componentId:"lineButton",priority:10,className:"hidden @min-[500px]:block"},{componentId:"lineArrowButton",priority:11,className:"hidden @min-[500px]:block"},{componentId:"shapeToolOverflowButton",priority:12,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:12},{componentId:"styleButton",priority:13},{componentId:"divider1",priority:14},{componentId:"undoButton",priority:15},{componentId:"redoButton",priority:16}],props:{gap:10}},redactionTools:{id:"redactionTools",type:"groupedItems",slots:[{componentId:"redactionButton",priority:1},{componentId:"redactionAreaButton",priority:2},{componentId:"divider1",priority:3},{componentId:"saveRedactionButton",priority:4},{componentId:"exitRedactionButton",priority:5}],props:{gap:10}},annotationTools:{id:"annotationTools",type:"groupedItems",slots:[{componentId:"highlightButton",priority:1},{componentId:"underlineButton",priority:2},{componentId:"strikethroughButton",priority:3},{componentId:"squigglyButton",priority:4},{componentId:"freehandButton",priority:5,className:"hidden @min-[500px]:block"},{componentId:"freeTextButton",priority:6,className:"hidden @min-[500px]:block"},{componentId:"photoButton",priority:7,className:"hidden @min-[500px]:block"},{componentId:"annotationToolOverflowButton",priority:8,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:9},{componentId:"styleButton",priority:10},{componentId:"divider1",priority:11},{componentId:"undoButton",priority:12},{componentId:"redoButton",priority:13}],props:{gap:10}},toolsHeader:{type:"header",id:"toolsHeader",initialState:{visible:!1,visibleChild:null},props:function(e){return{placement:"top",visible:e.visible,visibleChild:e.visibleChild,style:{backgroundColor:"#f1f3f5",justifyContent:"center"}}},mapStateToProps:function(e,t){return p(p({},t),{},{visible:e.plugins.ui.header.toolsHeader.visible,visibleChild:e.plugins.ui.header.toolsHeader.visibleChild})},slots:[{componentId:"annotationTools",priority:0},{componentId:"shapeTools",priority:1},{componentId:"redactionTools",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}}},leftPanelAnnotationStyle:{id:"leftPanelAnnotationStyle",type:"custom",render:"leftPanelAnnotationStyle",mapStateToProps:function(e,t){return p(p({},t),{},{selectedAnnotation:Wd(e.plugins[ud]),activeToolId:e.plugins[ud].activeToolId,colorPresets:e.plugins[ud].colorPresets,tools:e.plugins[ud].tools})}},leftPanelMain:{id:"leftPanelMain",type:"custom",render:"leftPanelMain",initialState:{visibleChild:"thumbnails"},props:function(e){return{visibleChild:e.visibleChild,tabsCommandId:"sidebarMenu"}},mapStateToProps:function(e,t){return p(p({},t),{},{visibleChild:e.plugins.ui.custom.leftPanelMain.visibleChild})},slots:[{componentId:"thumbnails",priority:0},{componentId:"outline",priority:1},{componentId:"attachments",priority:2}]},leftPanel:{id:"leftPanel",type:"panel",initialState:{open:!1,visibleChild:"leftPanelMain"},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"left"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.panel.leftPanel.open,visibleChild:e.plugins.ui.panel.leftPanel.visibleChild})},slots:[{componentId:"leftPanelMain",priority:0},{componentId:"leftPanelAnnotationStyle",priority:1}]},thumbnails:{id:"thumbnails",type:"custom",render:"thumbnails",mapStateToProps:function(e,t){return p(p({},t),{},{currentPage:e.plugins.scroll.currentPage})}},outline:{id:"outline",type:"custom",render:"outline",props:{document:null},mapStateToProps:function(e,t){return p(p({},t),{},{document:e.core.document})}},attachments:{id:"attachments",type:"custom",render:"attachments",props:{document:null},mapStateToProps:function(e,t){return p(p({},t),{},{document:e.core.document})}},search:{id:"search",type:"custom",render:"search",mapStateToProps:function(e,t){return p(p({},t),{},{flags:e.plugins.search.flags,results:e.plugins.search.results,total:e.plugins.search.total,activeResultIndex:e.plugins.search.activeResultIndex,active:e.plugins.search.active,query:e.plugins.search.query,loading:e.plugins.search.loading})}},comment:{id:"comment",type:"custom",render:"comment",mapStateToProps:function(e,t){return p(p({},t),{},{sidebarAnnotations:Vd(e.plugins[ud]),selectedAnnotation:Wd(e.plugins[ud])})}},commandMenu:{id:"commandMenu",type:"commandMenu",initialState:{open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1},props:function(e){return{open:e.open,activeCommand:e.activeCommand,triggerElement:e.triggerElement,position:e.position,flatten:e.flatten}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.commandMenu.commandMenu.open,activeCommand:e.plugins.ui.commandMenu.commandMenu.activeCommand,triggerElement:e.plugins.ui.commandMenu.commandMenu.triggerElement,position:e.plugins.ui.commandMenu.commandMenu.position,flatten:e.plugins.ui.commandMenu.commandMenu.flatten})}},zoom:{id:"zoom",type:"custom",render:"zoom",initialState:{zoomLevel:1},props:function(e){return{zoomLevel:e.zoomLevel,commandZoomIn:Ng.zoomIn.id,commandZoomOut:Ng.zoomOut.id,commandZoomMenu:Ng.zoom.id,zoomMenuActive:!1}},mapStateToProps:function(e,t){return p(p({},t),{},{zoomLevel:e.plugins.zoom.currentZoomLevel,zoomMenuActive:fi(Ng.zoom,e)||fi(Ng.changeZoomLevel,e)})}},rightPanel:{id:"rightPanel",type:"panel",initialState:{open:!1,visibleChild:null},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"right"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.panel.rightPanel.open,visibleChild:e.plugins.ui.panel.rightPanel.visibleChild})},slots:[{componentId:"search",priority:0},{componentId:"comment",priority:1}]}},Lg={enabled:!0,components:zg,menuItems:Ng},Og=new ft([new ht,new gt]);function Dg(e){var t,o=e.config,i=function(e){const{wasmUrl:t=co,worker:n=!0,logger:o}=e??{},[i,r]=_e(null),[a,s]=_e(!0),[l,c]=_e(null),d=Ee(null);return Ae((()=>{let e=!1;return(async()=>{try{const{createPdfiumEngine:e}=n?await import("./worker-engine-a61338f5.js"):await import("./direct-engine-0992d467.js"),i=await e(t,o);d.current=i,i.initialize().wait((()=>{r(i),s(!1)}),(e=>{c(new Error(e.reason.message)),s(!1)}))}catch(t){e||(c(t),s(!1))}})(),()=>{var t,n;e=!0,null==(n=null==(t=d.current)?void 0:t.closeAllDocuments)||n.call(t).wait((()=>{var e,t;null==(t=null==(e=d.current)?void 0:e.destroy)||t.call(e),d.current=null}),kn)}}),[t,n,o]),{engine:i,isLoading:a,error:l}}(p(p({},o.wasmUrl&&{wasmUrl:o.wasmUrl}),{},{worker:o.worker,logger:o.log?Og:void 0})),r=i.engine,a=i.isLoading;Lg.components.textSelectionMenu.props.extActions=o.textSelectionMenuExtActions||[],Lg.components.headerEndExt.props.extActions=o.headerEndExtActions||[],Lg.components.headerEndExt.props.extNode=o.headerEndExtNode,Lg.components.headerStartExt.props.extActions=o.headerStartExtActions||[],Lg.components.headerStartExt.props.extNode=o.headerStartExtNode;var s,l=Hc().t,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewport:p(p({},Eg.viewport),e.viewport),scroll:p(p({},Eg.scroll),e.scroll),zoom:p(p({},Eg.zoom),e.zoom),spread:p(p({},Eg.spread),e.spread),rotate:p(p({},Eg.rotate),e.rotate),tiling:p(p({},Eg.tiling),e.tiling),thumbnail:p(p({},Eg.thumbnail),e.thumbnail),annotation:p(p({},Eg.annotation),e.annotation)}}(o.plugins);return F(U,null,F("style",null,ve),F("style",null,o.styles),!r||a?F("div",{className:"flex h-full w-full items-center justify-center"},F(gp,{size:"lg",text:l("PdfInitializing")})):F(ro,{logger:o.log?Og:void 0,engine:r,onInitialized:(s=n(f().mark((function e(t){var n,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=null===(n=t.getPlugin("ui"))||void 0===n?void 0:n.provides())&&(i.registerComponentRenderer("groupedItems",Zc),i.registerComponentRenderer("iconButton",qc),i.registerComponentRenderer("tabButton",Vc),i.registerComponentRenderer("header",Yc),i.registerComponentRenderer("custom",Xc),i.registerComponentRenderer("divider",Gc),i.registerComponentRenderer("panel",Qc),i.registerComponentRenderer("search",ed),i.registerComponentRenderer("zoom",td),i.registerComponentRenderer("pageControlsContainer",od),i.registerComponentRenderer("pageControls",id),i.registerComponentRenderer("commandMenu",rd),i.registerComponentRenderer("comment",Tg),i.registerComponentRenderer("thumbnails",ad),i.registerComponentRenderer("outline",sd),i.registerComponentRenderer("attachments",ld),i.registerComponentRenderer("selectButton",cd),i.registerComponentRenderer("textSelectionMenu",nd),i.registerComponentRenderer("leftPanelMain",Kc),i.registerComponentRenderer("printModal",dd),i.registerComponentRenderer("leftPanelAnnotationStyle",Uh)),o.onInitialized&&o.onInitialized(t);case 3:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),plugins:[Wn(Ii,Lg),Wn(ii,p(p({},c.loader),{},{loadingOptions:p({type:"url",pdfFile:{id:o.id||"pdf",name:o.name||"embedpdf-ebook.pdf",url:o.src}},null===(t=c.loader)||void 0===t?void 0:t.loadingOptions)})),Wn(ko,c.viewport),Wn(Fo,c.scroll),Wn(ea,c.zoom),Wn(Ko,c.spread),Wn(Gh),Wn(Jh,c.rotate),Wn(Sa),Wn(ss),Wn(dp,c.tiling),Wn(Ra,c.thumbnail),Wn(Pu,c.annotation),Wn(ms),Wn(xp),Wn(ws),Wn(Sp),Wn(Hu),Wn(Ip),Wn(Ep,{scale:2,imageType:"image/png"}),Wn(jp),Wn(rg,{drawBlackBoxes:!0}),Wn(Ps)]},(function(e){var t=e.pluginsReady;return F(Ai,null,(function(e){var n=e.headers,i=e.panels,r=e.floating,a=e.commandMenu;return F(U,null,F("div",{className:"@container relative flex h-full w-full select-none flex-col"},n.top.length>0&&F("div",null,n.top),F("div",{className:"flex flex-1 flex-row overflow-hidden"},F("div",{className:"flex flex-col"},n.left),F("div",{className:"flex flex-1 flex-col overflow-hidden md:flex-row"},i.left.length>0&&F(U,null,i.left),F("div",{className:"relative flex w-full flex-1 overflow-hidden"},F(Yu,null,F(Po,{style:{width:"100%",height:"100%",flexGrow:1,backgroundColor:"#f1f3f5",overflow:"auto"}},!t&&F("div",{className:"flex h-full w-full items-center justify-center"},F(gp,{size:"lg",text:l("PdfLoading")})),t&&F(oa,null,F(Ho,{renderPage:function(e){var t=e.pageIndex,n=e.scale,o=e.rotation,i=e.width,r=e.height,a=e.document;return F(ep,{key:null==a?void 0:a.id,pageSize:{width:i,height:r},style:{backgroundColor:"#fff"}},F(Xu,{rotation:o,scale:n,pageWidth:i,pageHeight:r,pageIndex:t},F(Zh,{pageIndex:t,className:"pointer-events-none"}),F(pp,{pageIndex:t,scale:n,className:"pointer-events-none"}),F(Ma,{pageIndex:t,scale:n,className:"pointer-events-none"}),F(fg,null),F(Ch,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r,rotation:o,selectionMenu:function(e){var t=e.selected,n=e.rect,o=e.annotation,i=e.menuWrapperProps;return F("div",p(p({},i),{},{style:p(p({},i.style),{},{display:"flex",justifyContent:"center"})}),t?F(vg,{trackedAnnotation:o,style:{pointerEvents:"auto",position:"absolute",top:n.size.height+10}}):null)}}),F(ia,{pageIndex:t,scale:n}),F(zp,{pageIndex:t,scale:n}),F(hg,{pageIndex:t,scale:n,rotation:o,selectionMenu:function(e){var n=e.item,o=e.selected,i=e.rect,r=e.menuWrapperProps;return F("div",p(p({},r),{},{style:p(p({},r.style),{},{display:"flex",justifyContent:"center"})}),o?F(Rg,{item:n,pageIndex:t,style:{pointerEvents:"auto",position:"absolute",top:i.size.height+10}}):null)}}),F(as,{pageIndex:t,scale:n})))},overlayElements:r.insideScroller})),r.outsideScroller))),i.right.length>0&&F(U,null,i.right)),F("div",{className:"flex flex-col"},n.right)),n.bottom.length>0&&F("div",null,n.bottom),a),F(pg,{captureExtActions:o.captureExtActions}))}))})))}var Bg=function(){function e(){var t;return i(this,e),(t=o(this,e)).root=t.attachShadow({mode:"open"}),t}return d(e,w(HTMLElement)),a(e,[{key:"connectedCallback",value:function(){this._config||(this._config={src:this.getAttribute("src")||"/demo.pdf",worker:"false"!==this.getAttribute("worker")}),this.renderViewer()}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.isConnected&&this.renderViewer()}},{key:"renderViewer",value:function(){this._config&&ce(F(Dg,{config:this._config}),this.root)}}])}();const{slice:$g,forEach:Fg}=[];const jg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Hg={create(e,t,n,o){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),o&&(i.domain=o),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let o=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!jg.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!jg.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o}(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Ug={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Hg.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:o,cookieDomain:i,cookieOptions:r}=t;n&&"undefined"!=typeof document&&Hg.create(n,e,o,i,r)}},Wg={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const o=e.substring(1).split("&");for(let e=0;e<o.length;e++){const i=o[e].indexOf("=");if(i>0){o[e].substring(0,i)===n&&(t=o[e].substring(i+1))}}}return t}},qg={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:o}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(n){const e=i.split("&");for(let o=0;o<e.length;o++){const i=e[o].indexOf("=");if(i>0){e[o].substring(0,i)===n&&(t=e[o].substring(i+1))}}}if(t)return t;if(!t&&o>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;const n="number"==typeof o?o:0;return t[n]?.replace("/","")}}}return t}};let Vg=null;const Gg=()=>{if(null!==Vg)return Vg;try{if(Vg="undefined"!=typeof window&&null!==window.localStorage,!Vg)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Vg=!1}return Vg};var Zg={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Gg())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Gg()&&window.localStorage.setItem(n,e)}};let Yg=null;const Xg=()=>{if(null!==Yg)return Yg;try{if(Yg="undefined"!=typeof window&&null!==window.sessionStorage,!Yg)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){Yg=!1}return Yg};var Kg={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Xg())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Xg()&&window.sessionStorage.setItem(n,e)}},Qg={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:o}=navigator;if(e)for(let n=0;n<e.length;n++)t.push(e[n]);n&&t.push(n),o&&t.push(o)}return t.length>0?t:void 0}},Jg={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const o=n||("undefined"!=typeof document?document.documentElement:null);return o&&"function"==typeof o.getAttribute&&(t=o.getAttribute("lang")),t}},ef={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;const o="number"==typeof t?t:0;return n[o]?.replace("/","")}},tf={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n="number"==typeof t?t+1:1,o="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[n]}};let nf=!1;try{document.cookie,nf=!0}catch(we){}const of=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];nf||of.splice(1,1);class rf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Fg.call($g.call(arguments,1),(t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:of,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Ug),this.addDetector(Wg),this.addDetector(Zg),this.addDetector(Kg),this.addDetector(Qg),this.addDetector(Jg),this.addDetector(ef),this.addDetector(tf),this.addDetector(qg)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}})),t=t.filter((e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}rf.type="languageDetector";bc.use(rf).use(Ec).init({fallbackLng:"zh-CN",debug:!1,interpolation:{escapeValue:!1},resources:{"en-US":{translation:{PdfLoading:"Loading PDF document...",PdfInitializing:"Initializing PDF engine...",View:"View",Annotate:"Annotate",Shapes:"Shapes",Redact:"Redact","Next Page":"Next Page","Previous Page":"Previous Page",Copy:"Copy",Underline:"Underline",Squiggly:"Squiggly",Strikethrough:"Strikethrough",Highlight:"Highlight",Freehand:"Freehand",Circle:"Circle",Square:"Square",Line:"Line","Line Arrow":"Line Arrow",Polyline:"Polyline",Polygon:"Polygon","Free Text":"Free Text",Photo:"Photo","Squiggly Selection":"Squiggly Selection","Underline Selection":"Underline Selection","Strikethrough Selection":"Strikethrough Selection","Highlight Selection":"Highlight Selection","Save redaction":"Save redaction","Exit redaction":"Exit redaction","Redact Selection":"Redact Selection","Delete Redaction":"Delete Redaction","Commit Redaction":"Commit Redaction","Redact Area":"Redact Area",Style:"Style",Delete:"Delete",Undo:"Undo",Redo:"Redo",Commit:"Commit",Pan:"Pan",Pointer:"Pointer",Save:"Save",Cancel:"Cancel",Edit:"Edit",Guest:"Guest",Stamp:"Stamp",Arrow:"Arrow",Ink:"Ink","Free text":"Free text",Strikeout:"Strikeout",Text:"Text",Search:"Search","Case sensitive":"Case sensitive","Whole word":"Whole word","Search.Page":"Page {{page}}","Search.Results":"{{total}} results found",Comment:"Comment","Comment.Empty":"Add annotations to be able to comment on them.","Add comment...":"Add comment...","Add reply...":"Add reply...",NoDate:"(no date)",Locales:"en-US","Comment.Less":"less","Comment.More":"more","Comment.Page":"Page {{pageNumber}}","Comment.Total":"{{total}} comment{{unit}}",Menu:"Menu",Download:"Download","Open PDF":"Open PDF","Enter full screen":"Enter full screen","Exit full screen":"Exit full screen",Screenshot:"Screenshot",Settings:"Settings","View settings":"View settings","View controls":"View controls","Page orientation":"Page orientation","Rotate clockwise":"Rotate clockwise","Rotate counter clockwise":"Rotate counter clockwise","Scroll layout":"Scroll layout",Vertical:"Vertical",Horizontal:"Horizontal","Page layout":"Page layout","Single page":"Single page","Double page":"Double page","Cover facing page":"Cover facing page","Left action":"Left action","Fit to width":"Fit to width","Fit to page":"Fit to page","Zoom Controls":"Zoom Controls","Zoom in area":"Zoom in area","Zoom Options":"Zoom Options","Zoom In":"Zoom In","Zoom in":"Zoom in","Zoom Out":"Zoom Out","Zoom out":"Zoom out","Zoom.Drag":"Drag to select area to zoom",Sidebar:"Sidebar",Thumbnails:"Thumbnails",Outline:"Outline","Task.Bookmark.Cancelled":"Bookmark task cancelled","Task.Attachment.Cancelled":"Attachment task cancelled","Outline.None":"No outline available","Outline.Bookmark.None":"This document doesn't contain bookmarks","Print.Loading":"Preparing document...","Print.Settings":"Print Settings","Print.PagesToPrint":"Pages to print","Print.AllPages":"All pages","Print.CurrentPage":"Current page ({{currentPage}})","Print.SpecifyPages":"Specify pages","Print.SpecifyPages.EG":"e.g., 1-3, 5, 8-10","Print.SpecifyPages.TotalPages":"Total pages in document: {{totalPages}}","Print.Annotations":"Include annotations","Printing...":"Printing...",Print:"Print","Annotation.Empty":"Select an annotation to see styles","Text alignment":"Text alignment","Align left":"Align left","Align center":"Align center","Align right":"Align right","Vertical alignment":"Vertical alignment","Align top":"Align top","Align middle":"Align middle","Align bottom":"Align bottom","Background colour":"Background colour",Opacity:"Opacity",Color:"Color","Stroke width":"Stroke width","Stroke color":"Stroke color","Stroke style":"Stroke style","Fill color":"Fill color","Annotation.StampNoStyle":"There are no styles for stamps.","Blend mode":"Blend mode",styles:"styles",defaults:"defaults","Line start":"Line start","Line end":"Line end",Bold:"Bold",Italic:"Italic","Capture.Title":"Capture PDF Area","Capture.Drag":"Drag to select area to capture","BlendMode.Normal":"Normal","BlendMode.Multiply":"Multiply","BlendMode.Screen":"Screen","BlendMode.Overlay":"Overlay","BlendMode.Darken":"Darken","BlendMode.Lighten":"Lighten","BlendMode.Color Dodge":"Color Dodge","BlendMode.Color Burn":"Color Burn","BlendMode.Hard Light":"Hard Light","BlendMode.Soft Light":"Soft Light","BlendMode.Difference":"Difference","BlendMode.Exclusion":"Exclusion","BlendMode.Hue":"Hue","BlendMode.Saturation":"Saturation","BlendMode.Color":"Color","BlendMode.Luminosity":"Luminosity",Font:"Font","Font colour":"Font colour","Font.Courier":"Courier","Font.Helvetica":"Helvetica","Font.Times":"Times","Font.Symbol":"Symbol","Font.ZapfDingbats":"ZapfDingbats","Font.SimSun":"SimSun"}},"zh-CN":{translation:{PdfLoading:"PDF...",PdfInitializing:"PDF...",View:"",Annotate:"",Shapes:"",Redact:"","Next Page":"","Previous Page":"",Copy:"",Underline:"",Squiggly:"",Strikethrough:"",Highlight:"",Freehand:"",Circle:"",Square:"",Line:"","Line Arrow":"",Polyline:"",Polygon:"","Free Text":"",Photo:"","Squiggly Selection":"","Underline Selection":"","Strikethrough Selection":"","Highlight Selection":"","Save redaction":"","Exit redaction":"","Redact Selection":"","Redact Area":"","Delete Redaction":"","Commit Redaction":"",Style:"",Delete:"",Undo:"",Redo:"",Commit:"",Pan:"",Pointer:"",Save:"",Cancel:"",Edit:"",Guest:"",Stamp:"",Arrow:"",Ink:"","Free text":"",Strikeout:"",Text:"",Search:"","Case sensitive":"","Whole word":"","Search.Page":"{{page}}","Search.Results":"{{total}} ",Comment:"","Comment.Empty":"","Add comment...":"...","Add reply...":"...",NoDate:"",Locales:"zh-CN","Comment.Less":"","Comment.More":"","Comment.Page":"{{pageNumber}}","Comment.Total":"{{total}}",Menu:"",Download:"","Open PDF":"PDF","Enter full screen":"","Exit full screen":"",Screenshot:"",Settings:"","View settings":"","View controls":"","Page orientation":"","Rotate clockwise":"","Rotate counter clockwise":"","Scroll layout":"",Vertical:"",Horizontal:"","Page layout":"","Single page":"","Double page":"","Cover facing page":"","Left action":"","Fit to width":"","Fit to page":"","Zoom Controls":"","Zoom in area":"","Zoom Options":"","Zoom In":"","Zoom in":"","Zoom Out":"","Zoom out":"","Zoom.Drag":"",Sidebar:"",Thumbnails:"",Outline:"","Task.Bookmark.Cancelled":"","Task.Attachment.Cancelled":"","Outline.None":"","Outline.Bookmark.None":"","Print.Loading":"...","Print.Settings":"","Print.PagesToPrint":"","Print.AllPages":"","Print.CurrentPage":"{{currentPage}}","Print.SpecifyPages":"","Print.SpecifyPages.EG":"1-3, 5, 8-10","Print.SpecifyPages.TotalPages":"{{totalPages}}","Print.Annotations":"","Printing...":"...",Print:"","Annotation.Empty":"","Text alignment":"","Align left":"","Align center":"","Align right":"","Vertical alignment":"","Align top":"","Align middle":"","Align bottom":"","Background colour":"",Opacity:"",Color:"","Stroke width":"","Stroke color":"","Stroke style":"","Fill color":"","Annotation.StampNoStyle":"","Blend mode":"",styles:"",defaults:"","Line start":"","Line end":"",Bold:"",Italic:"","Capture.Title":"PDF","Capture.Drag":"","BlendMode.Normal":"","BlendMode.Multiply":"","BlendMode.Screen":"","BlendMode.Overlay":"","BlendMode.Darken":"","BlendMode.Lighten":"","BlendMode.Color Dodge":"","BlendMode.Color Burn":"","BlendMode.Hard Light":"","BlendMode.Soft Light":"","BlendMode.Difference":"","BlendMode.Exclusion":"","BlendMode.Hue":"","BlendMode.Saturation":"","BlendMode.Color":"","BlendMode.Luminosity":"",Font:"","Font colour":"","Font.Courier":"Courier","Font.Helvetica":"Helvetica","Font.Times":"Times","Font.Symbol":"Symbol","Font.ZapfDingbats":"ZapfDingbats","Font.SimSun":""}}},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});var af=["type","target"];customElements.define("embedpdf-container",Bg);var sf={init:function(e){if(e.locale&&bc.changeLanguage(e.locale),"container"===e.type)return function(e){e.type,e.target;var t=g(e,af),n=document.createElement("embedpdf-container");return n.config=t,e.target.appendChild(n),n}(e)}};export{Rt as A,Ke as B,lt as C,dt as D,kt as E,Tt as F,Yt as G,sf as H,Ht as M,ut as N,Wt as P,Ze as R,yt as T,qt as a,xn as b,At as c,Ut as d,wt as e,Et as f,Ot as g,Lt as h,kn as i,Nt as j,_t as k,Ct as l,Vt as m,Zt as n,Kt as o,Xt as p,et as q,tt as r,yn as s,St as t,wn as u,Dt as v,Gt as w,Ft as x,jt as y,zt as z};
